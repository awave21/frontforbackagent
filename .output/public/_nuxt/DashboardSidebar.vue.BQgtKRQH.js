import{bY as r,m as P,B as F,c as i,A as h,a as t,t as l,u as a,v as y,bP as g,n as x,b as p,p as v,F as O,C as E,k as J,L as j,o as n,X as T,w as W,J as X,c1 as Y,bZ as Z,N as G}from"./entry.C3vEAWma.js";import{_ as Q}from"./nuxt-link.BIrgbRQ7.js";import{a as ee}from"./useAuth.aSDdTJTL.js";import{C as te,a as se,A as ae}from"./chevron-right.CfOe2FP9.js";import{S as oe}from"./sparkles.DjsxGJe-.js";import{L as ne}from"./link.KDvRW_f5.js";import{D as ie}from"./database.BwuKnyaf.js";import{C as re}from"./cpu.BENVZpN2.js";import{M as A}from"./message-square.D60Lf0ub.js";import{S as D}from"./settings.D7R0DbBt.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=r("ActivityIcon",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=r("BotIcon",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=r("KeyIcon",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=r("LayoutDashboardIcon",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=r("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=r("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=r("RadioIcon",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=r("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),me={class:"p-4 sm:p-6 border-b border-slate-200 overflow-hidden"},ye={class:"flex items-center justify-between"},ge={class:"flex items-center gap-3 shrink-0"},xe={class:"w-10 h-10 sm:w-9 sm:h-9 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shrink-0"},ve={class:"text-white font-bold text-xs sm:text-sm"},fe={class:"flex items-center gap-1"},be={class:"p-4 sm:p-3 overflow-y-auto max-h-[calc(100vh-200px)]"},ke={class:"space-y-2"},_e={key:0},we={class:"whitespace-nowrap"},Me={key:0,class:"absolute left-full ml-2 px-2 py-1 bg-slate-900 text-white text-xs rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all whitespace-nowrap z-50 shadow-lg"},Ce={key:0,class:"absolute left-full ml-2 px-2 py-1 bg-slate-900 text-white text-xs rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all whitespace-nowrap z-50 shadow-lg"},Ie={class:"absolute bottom-0 left-0 right-0 border-t border-slate-200 bg-white overflow-hidden"},Le={class:"p-4 sm:p-5"},Se={key:0,class:"flex justify-center mb-3"},je={key:1,class:"flex items-center justify-between"},Ae={class:"flex items-center gap-3 shrink-0"},De={class:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shrink-0 shadow-sm"},$e={class:"text-white font-bold text-sm"},Be={class:"min-w-0 transition-opacity duration-300"},ze={class:"text-sm font-semibold text-slate-900 truncate"},Re={class:"text-xs text-slate-600 truncate"},Xe=P({__name:"DashboardSidebar",emits:["close"],setup(Ue,{emit:B}){const{user:c,tenant:m,logout:z}=ee(),f=G(),R=Z(),b=B,U=e=>({owner:"Владелец",admin:"Администратор",manager:"Менеджер",user:"Пользователь",viewer:"Наблюдатель"})[e]||e,s=J(!1),N=()=>{s.value=!s.value,localStorage.setItem("sidebar-collapsed",String(s.value))},k=()=>{z()},_=j(()=>{var e;return(e=f.name)==null?void 0:e.toString().startsWith("agents-id")}),V=()=>{R.push("/agents")};F(()=>{{const e=localStorage.getItem("sidebar-collapsed");e!==null&&(s.value=e==="true")}});const q=[{name:"Панель управления",path:"/dashboard",icon:he},{name:"Мои агенты",path:"/agents",icon:ce},{name:"Диалоги",path:"/dialogs",icon:A},{name:"Аналитика",path:"/analytics",icon:le},{name:"Пациенты",path:"/patients",icon:ue},{name:"API Ключи",path:"/api-keys",icon:de},{name:"Настройки",path:"/settings",icon:D}],H=[{id:"prompt",name:"Системный промпт",icon:oe,path:e=>`/agents/${e}/prompt`},{id:"channels",name:"Каналы",icon:pe,path:e=>`/agents/${e}/channels`},{id:"connections",name:"Подключения",icon:ne,path:e=>`/agents/${e}/connections`},{id:"knowledge",name:"База знаний",icon:ie,path:e=>`/agents/${e}/knowledge`},{id:"model",name:"Модель",icon:re,path:e=>`/agents/${e}/model`},{id:"chat",name:"Чат",icon:A,path:e=>`/agents/${e}/chat`},{id:"settings",name:"Настройки",icon:D,path:e=>`/agents/${e}/settings`}],K=j(()=>{if(_.value){const e=f.params.id;return H.map(u=>({...u,path:u.path(e)}))}return q});return(e,d)=>{var w,M,C,I,L,S;const u=Q;return n(),i("aside",{class:h(["bg-white border-r border-slate-200 min-h-screen lg:relative fixed inset-y-0 left-0 z-50 transition-all duration-300 ease-in-out",[s.value?"w-20":"w-64"]])},[t("div",me,[t("div",ye,[t("div",ge,[t("div",xe,[t("span",ve,l((w=a(m))!=null&&w.name?a(m).name.split(" ").map(o=>o.charAt(0)).join("").toUpperCase().slice(0,2):"ОР"),1)]),y(t("span",{class:"text-slate-900 font-bold text-xl sm:text-lg whitespace-nowrap truncate"},l(((M=a(m))==null?void 0:M.name)||"Организация"),513),[[g,!s.value]])]),t("div",fe,[t("button",{onClick:N,class:"hidden lg:flex p-1.5 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors",title:"Свернуть/Развернуть"},[s.value?(n(),x(a(se),{key:1,class:"h-5 w-5"})):(n(),x(a(te),{key:0,class:"h-5 w-5"}))]),t("button",{onClick:d[0]||(d[0]=o=>b("close")),class:"lg:hidden p-2 rounded-lg text-slate-600 hover:bg-slate-100"},[p(a(T),{class:"h-5 w-5"})])])])]),t("nav",be,[t("ul",ke,[_.value?(n(),i("li",_e,[t("button",{onClick:V,class:h(["w-full flex items-center text-base sm:text-sm font-medium rounded-lg transition-all duration-200 group relative px-4 py-3 sm:py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900",[s.value?"justify-center px-3":"px-4"]])},[p(a(ae),{class:h(["w-5 h-5 shrink-0 transition-transform",[!s.value&&"mr-3"]])},null,8,["class"]),y(t("span",we,"Назад к агентам",512),[[g,!s.value]]),s.value?(n(),i("div",Me," Назад к агентам ")):v("",!0)],2)])):v("",!0),(n(!0),i(O,null,E(K.value,o=>(n(),i("li",{key:o.name},[p(u,{to:o.path,onClick:d[1]||(d[1]=Ne=>b("close")),class:h(["flex items-center text-base sm:text-sm font-medium rounded-lg transition-all duration-200 group relative",[(e._.provides[Y]||e.$route).path===o.path?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md shadow-indigo-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900",s.value?"px-3 py-3 justify-center":"px-4 py-3 sm:py-2.5"]]),title:s.value?o.name:""},{default:W(()=>[(n(),x(X(o.icon),{class:h(["w-5 h-5 shrink-0 transition-transform",[!s.value&&"mr-3"]])},null,8,["class"])),y(t("span",{class:"whitespace-nowrap transition-opacity duration-300"},l(o.name),513),[[g,!s.value]]),s.value?(n(),i("div",Ce,l(o.name),1)):v("",!0)]),_:2},1032,["to","class","title"])]))),128))])]),t("div",Ie,[t("div",Le,[s.value?(n(),i("div",Se,[t("button",{onClick:k,class:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Выйти"},[p(a($),{class:"h-5 w-5"})])])):(n(),i("div",je,[t("div",Ae,[t("div",De,[t("span",$e,l((C=a(c))!=null&&C.full_name?a(c).full_name.split(" ").map(o=>o.charAt(0)).join("").toUpperCase():((I=a(c))==null?void 0:I.email.charAt(0).toUpperCase())||"U"),1)]),t("div",Be,[t("p",ze,l(((L=a(c))==null?void 0:L.full_name)||"Пользователь"),1),t("p",Re,l((S=a(c))!=null&&S.role?U(a(c).role):"Роль не указана"),1)])]),t("button",{onClick:k,class:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors shrink-0",title:"Выйти"},[p(a($),{class:"h-5 w-5"})])]))])])],2)}}});export{le as A,ce as B,de as K,We as M,ue as U,Xe as _};
