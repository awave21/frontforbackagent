import{al as n,O as c}from"./entry.DvavCQ8-.js";const l=t=>{try{const e=t.split(".");if(e.length!==3)return null;const a=e[1].replace(/-/g,"+").replace(/_/g,"/"),r=atob(a);return JSON.parse(r)}catch{return null}},u=t=>{const e=l(t);if(!e||!e.exp)return!0;const o=e.exp*1e3;return Date.now()>=o-3e4},i=n(t=>{if(t.path!=="/"){const e=localStorage.getItem("auth_token");if(!e||u(e))return e&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_tenant")),c("/")}});export{i as default};
