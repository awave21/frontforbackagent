import{b$ as n,M as c}from"./entry.y5yLHWNp.js";const l=t=>{try{const e=t.split(".");if(e.length!==3)return null;const r=e[1].replace(/-/g,"+").replace(/_/g,"/"),a=atob(r);return JSON.parse(a)}catch{return null}},u=t=>{const e=l(t);if(!e||!e.exp)return!0;const o=e.exp*1e3;return Date.now()>=o-3e4},i=n(t=>{if(t.path!=="/"){const e=localStorage.getItem("auth_token");if(!e||u(e))return e&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_tenant")),c("/")}});export{i as default};
