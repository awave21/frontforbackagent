import{S as $,A as R,M as q,_ as E,B as G}from"./DashboardSidebar.vue.BCFNDxq8.js";import{_ as J}from"./nuxt-link.De5AyltM.js";import{m as K,n as B,o,c as r,a as t,A as h,p as w,B as Q,t as g,b as a,u as n,d as A,F as j,I,D as C,O as W,H as X,f as Y,x as f,w as k,T as Z,r as L,G as tt}from"./entry.DvavCQ8-.js";import{M as et,S as st}from"./search.CPoPIkm0.js";import{U as S}from"./user-check.C4sl9Cyw.js";import{F as ot}from"./file-check.C5V_izlU.js";import{_ as lt}from"./AuthModal.vue.Bphu0Ye4.js";import{u as nt}from"./useAgents.CkkebVYB.js";import{a as at}from"./useAuth.CA-oUVg2.js";import{A as rt}from"./alert-circle.40sqdf6a.js";import{P as it}from"./plus.FDCCvd0I.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=K("SlidersHorizontalIcon",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),ct={class:"flex items-start justify-between mb-6"},ut={class:"flex items-center gap-5"},mt={class:"text-2xl font-bold text-slate-900 mb-2"},xt={class:"flex items-center gap-3"},gt={class:"text-sm text-slate-600"},pt={class:"flex items-center gap-2"},bt={key:1,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-lg text-slate-900 font-medium"},ft={class:"p-3 bg-slate-50 rounded-lg"},yt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},vt={class:"text-sm text-slate-600"},ht=B({__name:"AgentDetailCard",props:{title:{},icon:{},avatarColor:{},borderColor:{},type:{},stats:{},statsBgColor:{},statsTextColor:{},agentId:{}},setup(d){const c=d,m=C(()=>{switch(c.icon){case"UserCheck":return S;case"Activity":return R;case"FileCheck":return ot;default:return S}}),x=()=>{c.agentId&&W(`/agents/${c.agentId}`)};return(_,u)=>(o(),r("div",{class:h(["bg-white rounded-xl border p-7",d.borderColor])},[t("div",ct,[t("div",ut,[t("div",{class:h(["flex items-center justify-center w-18 h-18 rounded-xl bg-gradient-to-br",d.avatarColor])},[(o(),w(Q(m.value),{class:"h-9 w-9 text-white"}))],2),t("div",null,[t("h3",mt,g(d.title),1),t("div",xt,[u[0]||(u[0]=t("div",{class:"flex items-center gap-1.5"},[t("div",{class:"w-2.5 h-2.5 bg-green-500 rounded-full"}),t("span",{class:"text-sm font-semibold text-green-600"},"Активен")],-1)),u[1]||(u[1]=t("div",{class:"w-1 h-1 bg-slate-300 rounded-full"},null,-1)),t("span",gt,g(d.type),1)])])]),t("div",pt,[d.agentId?(o(),r("button",{key:0,onClick:x,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-lg text-slate-900 font-medium hover:bg-slate-100 transition-colors"},[a(n($),{class:"h-4 w-4"}),u[2]||(u[2]=A(" Настроить ",-1))])):(o(),r("button",bt,[a(n($),{class:"h-4 w-4"}),u[3]||(u[3]=A(" Настроить ",-1))])),t("button",ft,[a(n(et),{class:"h-5 w-5 text-slate-600"})])])]),t("div",yt,[(o(!0),r(j,null,I(d.stats,p=>(o(),r("div",{key:p.label,class:h(["rounded-lg p-4",d.statsBgColor])},[t("p",{class:h(["text-3xl font-bold mb-1",d.statsTextColor])},g(p.value),3),t("p",vt,g(p.label),1)],2))),128))])],2))}}),wt={class:"min-h-screen bg-slate-50"},Ct={class:"lg:hidden bg-white border-b border-slate-200 px-4 py-3"},_t={class:"flex items-center justify-between"},kt={class:"flex"},At={key:0,class:"lg:hidden fixed inset-0 z-50 w-full"},$t={class:"flex-1 bg-slate-50 p-4 sm:p-6 lg:p-10"},Lt={class:"max-w-7xl mx-auto"},St={key:0,class:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Bt={class:"flex items-center justify-between"},jt={class:"flex items-center"},It={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 lg:mb-8"},Tt={class:"flex items-center gap-3"},Dt={class:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg border border-slate-200"},Ft={class:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg border border-slate-200 text-slate-900 font-medium"},Mt={class:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8"},zt={class:"bg-white rounded-xl border border-slate-200 p-5"},Nt={class:"text-3xl font-bold text-green-600"},Ut={class:"bg-white rounded-xl border border-slate-200 p-5"},Vt={class:"text-3xl font-bold text-slate-900"},Ht={class:"bg-white rounded-xl border border-slate-200 p-5"},Ot={class:"text-3xl font-bold text-indigo-600"},Pt={key:1,class:"flex justify-center py-8"},Rt={key:2,class:"text-center py-12"},qt={key:3,class:"space-y-4"},se=B({__name:"index",setup(d){const c=L(!1);tt();const{isAuthenticated:m}=at(),{agents:x,fetchAgents:_,isLoading:u}=nt(),p=C(()=>x.value.length),T=C(()=>x.value.filter(s=>s.status==="published").length),D=C(()=>x.value.filter(s=>s.status==="draft").length),y=L(!1);X(async()=>{if(m.value)try{await _()}catch(s){console.error("Failed to load agents:",s)}}),Y(m,async s=>{s&&await _()});const F=()=>{y.value=!1},M=s=>s.name.toLowerCase().includes("запис")?"UserCheck":s.name.toLowerCase().includes("диагностик")?"Activity":s.name.toLowerCase().includes("документац")?"FileCheck":"Bot",z=s=>{const e=["from-sky-500 to-cyan-500","from-purple-500 to-pink-500","from-emerald-500 to-cyan-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500"],i=s.id.charCodeAt(0)%e.length;return e[i]},N=s=>{const e=["border-sky-100","border-purple-100","border-emerald-100","border-orange-100","border-indigo-100"],i=s.id.charCodeAt(0)%e.length;return e[i]},U=s=>s.system_prompt.toLowerCase().includes("пациент")?"Управление пациентами":s.system_prompt.toLowerCase().includes("диагностик")||s.system_prompt.toLowerCase().includes("анализ")?"Медицинский анализ":s.system_prompt.toLowerCase().includes("документ")?"Документооборот":"Общий помощник",V=s=>{const e=["bg-sky-50","bg-purple-50","bg-emerald-50","bg-orange-50","bg-indigo-50"],i=s.id.charCodeAt(0)%e.length;return e[i]},H=s=>{const e=["text-sky-600","text-purple-600","text-emerald-600","text-orange-600","text-indigo-600"],i=s.id.charCodeAt(0)%e.length;return e[i]},O=s=>{var b,v;const e=s.status==="published"?"Опубликован":"Черновик",i=((b=s.model)==null?void 0:b.split(":")[1])||s.model||"Не указана";return[{value:e,label:"Статус"},{value:i,label:"Модель"},{value:((v=s.version)==null?void 0:v.toString())||"1",label:"Версия"},{value:new Date(s.updated_at).toLocaleDateString("ru-RU"),label:"Обновлен"}]};return(s,e)=>{const i=E,b=J,v=ht,P=lt;return o(),r("div",wt,[t("div",Ct,[t("div",_t,[e[5]||(e[5]=t("div",{class:"flex items-center gap-2"},[t("div",{class:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center"},[t("span",{class:"text-white font-bold text-xs"},"М")]),t("span",{class:"text-slate-900 font-bold"},"МедиАИ")],-1)),t("button",{onClick:e[0]||(e[0]=l=>c.value=!c.value),class:"p-2 rounded-lg text-slate-600 hover:bg-slate-100"},[a(n(q),{class:"h-5 w-5"})])])]),t("div",kt,[a(i,{class:"hidden lg:block"}),c.value?(o(),r("div",{key:0,class:"lg:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:e[1]||(e[1]=l=>c.value=!1)})):f("",!0),a(Z,{"enter-active-class":"transition-all duration-500 cubic-bezier(0.34, 1.56, 0.64, 1)","enter-from-class":"-translate-x-full opacity-0 scale-95","enter-to-class":"translate-x-0 opacity-100 scale-100","leave-active-class":"transition-all duration-400 ease-in","leave-from-class":"translate-x-0 opacity-100 scale-100","leave-to-class":"-translate-x-full opacity-0 scale-95"},{default:k(()=>[c.value?(o(),r("div",At,[a(i,{onClose:e[2]||(e[2]=l=>c.value=!1)})])):f("",!0)]),_:1}),t("main",$t,[t("div",Lt,[n(m)?f("",!0):(o(),r("div",St,[t("div",Bt,[t("div",jt,[a(n(rt),{class:"h-5 w-5 text-yellow-400 mr-3"}),e[6]||(e[6]=t("div",null,[t("h3",{class:"text-sm font-medium text-yellow-800"}," Требуется аутентификация "),t("p",{class:"text-sm text-yellow-700 mt-1"}," Войдите в систему, чтобы получить доступ к управлению агентами ")],-1))]),t("button",{onClick:e[3]||(e[3]=l=>y.value=!0),class:"px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-lg hover:bg-yellow-700 transition-colors"}," Войти ")])])),t("div",It,[e[11]||(e[11]=t("div",{class:"mb-4 sm:mb-0"},[t("h1",{class:"text-2xl sm:text-3xl font-bold text-slate-900"}," Мои агенты "),t("p",{class:"text-slate-600 mt-1 sm:mt-2 text-sm sm:text-base"}," Управляйте вашими AI-агентами и настраивайте их работу ")],-1)),t("div",Tt,[t("div",Dt,[a(n(st),{class:"h-4 w-4 text-slate-400"}),e[7]||(e[7]=t("span",{class:"text-sm text-slate-400"},"Поиск агентов...",-1))]),t("button",Ft,[a(n(dt),{class:"h-4 w-4"}),e[8]||(e[8]=t("span",{class:"hidden sm:inline"},"Фильтры",-1))]),n(m)?(o(),w(b,{key:0,to:"/agents/new",class:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-purple-700 transition-colors shadow-sm shadow-indigo-100"},{default:k(()=>[a(n(it),{class:"h-4 w-4"}),e[9]||(e[9]=t("span",{class:"hidden sm:inline"},"Новый агент",-1)),e[10]||(e[10]=t("span",{class:"sm:hidden"},"Новый",-1))]),_:1})):f("",!0)])]),t("div",Mt,[t("div",zt,[e[12]||(e[12]=t("div",{class:"flex items-center justify-between mb-3"},[t("p",{class:"text-sm font-normal text-slate-600"},"Активные")],-1)),t("p",Nt,g(T.value),1)]),t("div",Ut,[e[13]||(e[13]=t("div",{class:"flex items-center justify-between mb-3"},[t("p",{class:"text-sm font-normal text-slate-600"},"Всего агентов")],-1)),t("p",Vt,g(p.value),1)]),t("div",Ht,[e[14]||(e[14]=t("div",{class:"flex items-center justify-between mb-3"},[t("p",{class:"text-sm font-normal text-slate-600"}," Черновики ")],-1)),t("p",Ot,g(D.value),1)])]),n(u)?(o(),r("div",Pt,[...e[15]||(e[15]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1)])])):n(x).length===0?(o(),r("div",Rt,[a(n(G),{class:"h-12 w-12 text-slate-400 mx-auto mb-4"}),e[17]||(e[17]=t("h3",{class:"text-lg font-medium text-slate-900 mb-2"},"Нет агентов",-1)),e[18]||(e[18]=t("p",{class:"text-slate-600 mb-4"},"Создайте своего первого AI-агента",-1)),n(m)?(o(),w(b,{key:0,to:"/agents/new",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"},{default:k(()=>[...e[16]||(e[16]=[A(" Создать агента ",-1)])]),_:1})):f("",!0)])):(o(),r("div",qt,[(o(!0),r(j,null,I(n(x),l=>(o(),w(v,{key:l.id,"agent-id":l.id,title:l.name,icon:M(l),"avatar-color":z(l),"border-color":N(l),type:U(l),"stats-bg-color":V(l),"stats-text-color":H(l),stats:O(l)},null,8,["agent-id","title","icon","avatar-color","border-color","type","stats-bg-color","stats-text-color","stats"]))),128))]))])])]),a(P,{"is-open":y.value,onClose:e[4]||(e[4]=l=>y.value=!1),onAuthenticated:F},null,8,["is-open"])])}}});export{se as default};
