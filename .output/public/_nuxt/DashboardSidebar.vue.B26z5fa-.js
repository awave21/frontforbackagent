import{M as c,m as Q,B as G,n as _,w as n,u as e,k as Y,o as h,a as s,t as d,v as f,bQ as x,b as a,X as Z,c as C,A as y,d as k,p as ee,C as te,c5 as se,J as ae,F as oe,aX as ne,b$ as le,L as U,P as ie}from"./entry.Dw2909n2.js";import{_ as re}from"./nuxt-link.t2uHRS69.js";import{j as D,q as B,U as z,W as R,d as de,c as ce,f as he,h as q,v as H,u as ue,H as pe}from"./index.DT79k1l5.js";import{u as me}from"./useAuth.jgUYoTAC.js";import{C as ge,a as fe,A as xe}from"./chevron-right.Dt1o7IKv.js";import{C as ye}from"./chevrons-up-down.C2VhQO3Y.js";import{S as N}from"./settings.DdVzARvN.js";import{S as ve}from"./sparkles.CVmRtpTC.js";import{L as be}from"./link.DpqSbqvX.js";import{D as _e}from"./database.CDLRhh8b.js";import{C as ke}from"./code.CqfGPh0g.js";import{C as we}from"./cpu.BtB-GUA5.js";import{M as V}from"./message-square.C2TtVjfK.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=c("ActivityIcon",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=c("BotIcon",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=c("KeyIcon",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=c("LayoutDashboardIcon",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=c("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=c("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=c("RadioIcon",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=c("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),$e={class:"p-4 sm:p-6 border-b border-slate-200 shrink-0"},Ue={class:"flex items-center justify-between"},De={class:"flex items-center gap-3 shrink-0"},Be={class:"w-10 h-10 sm:w-9 sm:h-9 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shrink-0"},ze={class:"text-white font-bold text-xs sm:text-sm"},Re={class:"flex items-center gap-1"},qe={class:"flex-1 p-4 sm:p-3 overflow-y-auto min-h-0"},He={class:"space-y-2"},Ne={key:0},Ve={class:"whitespace-nowrap"},Pe={class:"border-t border-slate-200 bg-white shrink-0 p-3"},Ee={class:"w-9 h-9 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shrink-0 shadow-sm"},Ke={class:"text-white font-bold text-xs"},We={class:"min-w-0 flex-1"},Fe={class:"text-sm font-semibold text-slate-900 truncate leading-tight"},Oe={class:"text-xs text-slate-500 truncate leading-tight"},Te={class:"flex items-center gap-3 px-3 py-2.5"},Xe={class:"w-9 h-9 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shrink-0"},Je={class:"text-white font-bold text-xs"},Qe={class:"min-w-0 flex-1"},Ge={class:"text-sm font-semibold text-slate-900 truncate"},Ye={class:"text-xs text-slate-500 truncate"},Ze={class:"text-xs text-indigo-600 font-medium mt-0.5"},gt=Q({inheritAttrs:!1,__name:"DashboardSidebar",emits:["close"],setup(et,{emit:P}){const{user:r,tenant:w,logout:E}=me(),M=ie(),j=le(),A=P,K=t=>({owner:"Владелец",admin:"Администратор",manager:"Менеджер",user:"Пользователь",viewer:"Наблюдатель"})[t]||t,o=Y(!1),W=()=>{o.value=!o.value,localStorage.setItem("sidebar-collapsed",String(o.value))},F=()=>{E()},I=U(()=>{var t;return(t=M.name)==null?void 0:t.toString().startsWith("agents-id")}),O=()=>{j.push("/agents")};G(()=>{{const t=localStorage.getItem("sidebar-collapsed");t!==null&&(o.value=t==="true")}});const T=[{name:"Панель управления",path:"/dashboard",icon:Ae},{name:"Мои агенты",path:"/agents",icon:Me},{name:"Диалоги",path:"/dialogs",icon:V},{name:"Аналитика",path:"/analytics",icon:Ce},{name:"Пациенты",path:"/patients",icon:Le},{name:"API Ключи",path:"/api-keys",icon:je}],X=[{id:"prompt",name:"Системный промпт",icon:ve,path:t=>`/agents/${t}/prompt`},{id:"channels",name:"Каналы",icon:Se,path:t=>`/agents/${t}/channels`},{id:"connections",name:"Интеграции",icon:be,path:t=>`/agents/${t}/connections`},{id:"knowledge",name:"База знаний",icon:_e,path:t=>`/agents/${t}/knowledge`},{id:"functions",name:"Функции",icon:ke,path:t=>`/agents/${t}/functions`},{id:"model",name:"Модель",icon:we,path:t=>`/agents/${t}/model`},{id:"chat",name:"Чат",icon:V,path:t=>`/agents/${t}/chat`},{id:"settings",name:"Настройки",icon:N,path:t=>`/agents/${t}/settings`}],J=U(()=>{if(I.value){const t=M.params.id;return X.map(v=>({...v,path:v.path(t)}))}return T});return(t,i)=>{const v=re;return h(),_(e(pe),{"delay-duration":0},{default:n(()=>{var S,L;return[s("aside",ne(t.$attrs,{class:["bg-white border-r border-slate-200 h-screen lg:h-full lg:relative fixed inset-y-0 left-0 z-50 transition-all duration-300 ease-in-out flex flex-col overflow-hidden",[o.value?"w-20":"w-64"]]}),[s("div",$e,[s("div",Ue,[s("div",De,[s("div",Be,[s("span",ze,d((S=e(w))!=null&&S.name?e(w).name.split(" ").map(l=>l.charAt(0)).join("").toUpperCase().slice(0,2):"ОР"),1)]),f(s("span",{class:"text-slate-900 font-bold text-xl sm:text-lg whitespace-nowrap truncate"},d(((L=e(w))==null?void 0:L.name)||"Организация"),513),[[x,!o.value]])]),s("div",Re,[s("button",{onClick:W,class:"hidden lg:flex p-1.5 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors",title:"Свернуть/Развернуть"},[o.value?(h(),_(e(fe),{key:1,class:"h-5 w-5"})):(h(),_(e(ge),{key:0,class:"h-5 w-5"}))]),s("button",{onClick:i[0]||(i[0]=l=>A("close")),class:"lg:hidden p-2 rounded-lg text-slate-600 hover:bg-slate-100"},[a(e(Z),{class:"h-5 w-5"})])])])]),s("nav",qe,[s("ul",He,[I.value?(h(),C("li",Ne,[a(e(R),{disabled:!o.value},{default:n(()=>[a(e(D),{"as-child":""},{default:n(()=>[s("button",{onClick:O,class:y(["w-full flex items-center text-base sm:text-sm font-medium rounded-lg transition-all duration-200 px-4 py-3 sm:py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900",[o.value?"justify-center px-3":"px-4"]])},[a(e(xe),{class:y(["w-5 h-5 shrink-0 transition-transform",[!o.value&&"mr-3"]])},null,8,["class"]),f(s("span",Ve,"Назад к агентам",512),[[x,!o.value]])],2)]),_:1}),a(e(B),null,{default:n(()=>[a(e(z),{side:"right","side-offset":8,class:"z-[9999] rounded-md bg-white border border-slate-200 px-3 py-1.5 text-sm text-slate-700 shadow-md"},{default:n(()=>[...i[3]||(i[3]=[k(" Назад к агентам ",-1)])]),_:1})]),_:1})]),_:1},8,["disabled"])])):ee("",!0),(h(!0),C(oe,null,te(J.value,l=>(h(),C("li",{key:l.name},[a(e(R),{disabled:!o.value},{default:n(()=>[a(e(D),{"as-child":""},{default:n(()=>[a(v,{to:l.path,onClick:i[1]||(i[1]=u=>A("close")),class:y(["flex items-center text-base sm:text-sm font-medium rounded-lg transition-all duration-200",[(t._.provides[se]||t.$route).path===l.path?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md shadow-indigo-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900",o.value?"px-3 py-3 justify-center":"px-4 py-3 sm:py-2.5"]])},{default:n(()=>[(h(),_(ae(l.icon),{class:y(["w-5 h-5 shrink-0 transition-transform",[!o.value&&"mr-3"]])},null,8,["class"])),f(s("span",{class:"whitespace-nowrap transition-opacity duration-300"},d(l.name),513),[[x,!o.value]])]),_:2},1032,["to","class"])]),_:2},1024),a(e(B),null,{default:n(()=>[a(e(z),{side:"right","side-offset":8,class:"z-[9999] rounded-md bg-white border border-slate-200 px-3 py-1.5 text-sm text-slate-700 shadow-md"},{default:n(()=>[k(d(l.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])]))),128))])]),s("div",Pe,[a(e(ue),null,{default:n(()=>[a(e(de),{"as-child":""},{default:n(()=>{var l,u,p,m,g;return[s("button",{class:y(["w-full flex items-center gap-3 rounded-lg p-2 text-left transition-colors hover:bg-slate-100 focus:outline-none",[o.value?"justify-center":""]])},[s("div",Ee,[s("span",Ke,d((l=e(r))!=null&&l.full_name?e(r).full_name.split(" ").map(b=>b.charAt(0)).join("").toUpperCase():((p=(u=e(r))==null?void 0:u.email)==null?void 0:p.charAt(0).toUpperCase())||"U"),1)]),f(s("div",We,[s("p",Fe,d(((m=e(r))==null?void 0:m.full_name)||"Пользователь"),1),s("p",Oe,d(((g=e(r))==null?void 0:g.email)||"Email не указан"),1)],512),[[x,!o.value]]),f(a(e(ye),{class:"h-4 w-4 text-slate-400 shrink-0"},null,512),[[x,!o.value]])],2)]}),_:1}),a(e(ce),null,{default:n(()=>[a(e(he),{side:o.value?"right":"top","side-offset":8,align:o.value?"end":"start",class:"z-[9999] min-w-56 rounded-xl bg-white border border-slate-200 shadow-lg p-1"},{default:n(()=>{var l,u,p,m,g,b;return[s("div",Te,[s("div",Xe,[s("span",Je,d((l=e(r))!=null&&l.full_name?e(r).full_name.split(" ").map($=>$.charAt(0)).join("").toUpperCase():((p=(u=e(r))==null?void 0:u.email)==null?void 0:p.charAt(0).toUpperCase())||"U"),1)]),s("div",Qe,[s("p",Ge,d(((m=e(r))==null?void 0:m.full_name)||"Пользователь"),1),s("p",Ye,d(((g=e(r))==null?void 0:g.email)||"Email не указан"),1),s("p",Ze,d((b=e(r))!=null&&b.role?K(e(r).role):"Роль не указана"),1)])]),a(e(q),{class:"h-px bg-slate-200 my-1"}),a(e(H),{class:"flex items-center gap-2 px-3 py-2 text-sm text-slate-700 rounded-lg cursor-pointer outline-none hover:bg-slate-100 focus:bg-slate-100 transition-colors",onSelect:i[2]||(i[2]=$=>e(j).push("/settings"))},{default:n(()=>[a(e(N),{class:"h-4 w-4 text-slate-400"}),i[4]||(i[4]=k(" Настройки ",-1))]),_:1}),a(e(q),{class:"h-px bg-slate-200 my-1"}),a(e(H),{class:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 rounded-lg cursor-pointer outline-none hover:bg-red-50 focus:bg-red-50 transition-colors",onSelect:F},{default:n(()=>[a(e(Ie),{class:"h-4 w-4"}),i[5]||(i[5]=k(" Выйти ",-1))]),_:1})]}),_:1},8,["side","align"])]),_:1})]),_:1})])],16)]}),_:1})}}});export{Ce as A,Me as B,je as K,mt as M,Le as U,gt as _};
