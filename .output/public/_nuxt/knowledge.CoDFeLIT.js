import{_ as as}from"./AgentPageShell.vue.CAAykDSk.js";import{R as ss,S as ls,U as is,V as us,W as ds,Y as cs,Z as fs,F as Ue,$ as ps,a0 as gs,a1 as ms,a2 as vs,T as hs,a3 as ys,a4 as xs,q as _r,a5 as bs,a6 as Ss,a7 as ws,a8 as Cs,a9 as $s,aa as Es,ab as Rs,ac as Is,ad as Ps,ae as Ds,L as xe,af as Os,n as te,p as ue,c as F,a as v,ag as Ts,ah as Ms,ai as Fs,aj as As,ak as Vs,D as fr,d as ee,b as w,al as Ls,am as Bs,m as ne,an as Ns,ao as js,ap as ks,aq as Us,ar as Gs,as as Hs,at as zs,au as Ks,av as Ws,aw as Xs,ax as Ys,l as _s,ay as qs,az as Qs,aA as Js,aB as ot,aC as Zs,aD as el,aE as tl,aF as nl,aG as ol,aH as rl,aI as al,aJ as sl,aK as ll,aL as il,aM as pr,aN as ul,aO as dl,aP as cl,aQ as fl,G as gr,aR as pl,aS as gl,aT as ml,aU as vl,aV as qr,aW as hl,aX as Le,H as bt,aY as yl,A as Ae,aZ as nt,a_ as xn,j as xl,a$ as bl,g as Sl,b0 as wl,h as Cl,b1 as $l,B as en,b2 as El,b3 as Rl,b4 as Il,b5 as Pl,b6 as co,b7 as Dl,b8 as Ol,o as $,b9 as Tl,ba as Ml,bb as Qr,bc as Fl,bd as Al,be as Vl,bf as Ll,bg as Bl,k as K,bh as Nl,bi as jl,C as ze,K as ie,N as kl,bj as Ul,J as fo,bk as Gl,bl as Hl,bm as zl,bn as Kl,bo as Wl,bp as Xl,bq as Yl,br as Jr,bs as _l,bt as ql,bu as Ql,t as X,bv as Jl,bw as Zl,bx as ei,by as ti,I as tn,bz as ni,bA as oi,bB as ri,u as g,bC as Dt,bD as ai,bE as si,bF as li,bG as ii,bH as ui,bI as di,bJ as ci,bK as fi,bL as pi,bM as gi,bN as Zt,bO as mi,bP as vi,O as dn,x as We,bQ as Zr,bR as hi,bS as yi,f as Xe,e as ea,bT as xi,bU as bi,bV as Si,w as C,bW as wi,v as Me,E as Bn,bX as Ci,s as Ot,bY as $i,M as at,_ as ta,X as mr,z as na,bZ as Ei,b_ as Ri,y as Ii,Q as Pi}from"./entry.CBkKRCnV.js";import{u as Di}from"./useAgentEditorStore.CBOc6_qs.js";import{h as Oi,i as Ti,F as Mi,L as Fi,j as Ai,k as Xo,S as Vi,I as Li,_ as oa,g as vr,a as hr,b as ro,c as En,d as Rn,f as Jn,e as Yo}from"./DialogTitle.vue.ChC94dzl.js";import{S as ra}from"./settings.bgzCNz6L.js";import{T as aa,_ as po,a as go,b as mo,c as vo,d as yr,M as Bi}from"./SheetClose.vue.CHyqCZnj.js";import{P as ho}from"./plus.CAbVbV7B.js";import{S as In}from"./search.CKKCnfcg.js";import{L as Kt}from"./loader-2.CrTaI3Us.js";import{A as sa}from"./alert-circle.DcUsP5Lj.js";import{W as Ni,q as ji,U as ki,H as Ui,j as Gi}from"./index.DUHHe-nk.js";import{T as cn}from"./trash-2.BLHjeIGf.js";import{u as xr,P as pn,c as gn,a as Hi,b as Or,d as zi,e as dt,D as Ki,F as Wi,g as Xi,f as Ft,h as Yi,i as _i,T as qi,j as la,k as ia,l as At,m as yo}from"./utils.wJwXZMb_.js";import{u as xo,a as ua,f as Qi,E as Ji,b as Zi,P as eu,c as tu,d as nu,e as ou,g as ru,h as au}from"./PopperContent.CzIkJbyR.js";import{r as Wt}from"./index.C5R80SqK.js";import{C as su}from"./chevron-down.BtGgxUEg.js";import{E as da}from"./eye.DUCx08TH.js";import{P as _o}from"./pencil.D22Vkj6_.js";import{C as Tr}from"./copy.cIoq39HJ.js";import{A as qo}from"./arrow-left.BVml2r7Y.js";import{F as lu}from"./file-text.CJ5NiI8H.js";import{S as iu}from"./sparkles.C46KeWkI.js";import{C as uu}from"./check-circle.FBGjPGbB.js";import{u as du}from"./useAgents.C6xV-JRH.js";import{g as on}from"./useApiFetch.B9YviUBz.js";import{L as cu}from"./link.DI4GcQzP.js";import{D as fu}from"./database.rUDIiFFC.js";import"./useLayoutState.B8IzXTUd.js";import"./useAuth.CHSuA4zA.js";import"./authSessionManager.BK0upO_P.js";import"./usePermissions.DJmIznYF.js";import"./AuthModal.vue.DxMXnGuG.js";import"./floating-ui.vue.D2M-ESmY.js";/**
* vue v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const pu=()=>{},gu=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ss,BaseTransitionPropsValidators:ls,Comment:is,DeprecationTypes:us,EffectScope:ds,ErrorCodes:cs,ErrorTypeStrings:fs,Fragment:Ue,KeepAlive:ps,ReactiveEffect:gs,Static:ms,Suspense:vs,Teleport:hs,Text:ys,TrackOpTypes:xs,Transition:_r,TransitionGroup:bs,TriggerOpTypes:Ss,VueElement:ws,assertNumber:Cs,callWithAsyncErrorHandling:$s,callWithErrorHandling:Es,camelize:Rs,capitalize:Is,cloneVNode:Ps,compatUtils:Ds,compile:pu,computed:xe,createApp:Os,createBlock:te,createCommentVNode:ue,createElementBlock:F,createElementVNode:v,createHydrationRenderer:Ts,createPropsRestProxy:Ms,createRenderer:Fs,createSSRApp:As,createSlots:Vs,createStaticVNode:fr,createTextVNode:ee,createVNode:w,customRef:Ls,defineAsyncComponent:Bs,defineComponent:ne,defineCustomElement:Ns,defineEmits:js,defineExpose:ks,defineModel:Us,defineOptions:Gs,defineProps:Hs,defineSSRCustomElement:zs,defineSlots:Ks,devtools:Ws,effect:Xs,effectScope:Ys,getCurrentInstance:_s,getCurrentScope:qs,getCurrentWatcher:Qs,getTransitionRawChildren:Js,guardReactiveProps:ot,h:Zs,handleError:el,hasInjectionContext:tl,hydrate:nl,hydrateOnIdle:ol,hydrateOnInteraction:rl,hydrateOnMediaQuery:al,hydrateOnVisible:sl,initCustomFormatter:ll,initDirectivesForSSR:il,inject:pr,isMemoSame:ul,isProxy:dl,isReactive:cl,isReadonly:fl,isRef:gr,isRuntimeOnly:pl,isShallow:gl,isVNode:ml,markRaw:vl,mergeDefaults:qr,mergeModels:hl,mergeProps:Le,nextTick:bt,nodeOps:yl,normalizeClass:Ae,normalizeProps:nt,normalizeStyle:xn,onActivated:xl,onBeforeMount:bl,onBeforeUnmount:Sl,onBeforeUpdate:wl,onDeactivated:Cl,onErrorCaptured:$l,onMounted:en,onRenderTracked:El,onRenderTriggered:Rl,onScopeDispose:Il,onServerPrefetch:Pl,onUnmounted:co,onUpdated:Dl,onWatcherCleanup:Ol,openBlock:$,patchProp:Tl,popScopeId:Ml,provide:Qr,proxyRefs:Fl,pushScopeId:Al,queuePostFlushCb:Vl,reactive:Ll,readonly:Bl,ref:K,registerRuntimeCompiler:Nl,render:jl,renderList:ze,renderSlot:ie,resolveComponent:kl,resolveDirective:Ul,resolveDynamicComponent:fo,resolveFilter:Gl,resolveTransitionHooks:Hl,setBlockTracking:zl,setDevtoolsHook:Kl,setTransitionHooks:Wl,shallowReactive:Xl,shallowReadonly:Yl,shallowRef:Jr,ssrContextKey:_l,ssrUtils:ql,stop:Ql,toDisplayString:X,toHandlerKey:Jl,toHandlers:Zl,toRaw:ei,toRef:ti,toRefs:tn,toValue:ni,transformVNodeArgs:oi,triggerRef:ri,unref:g,useAttrs:Dt,useCssModule:ai,useCssVars:si,useHost:li,useId:ii,useModel:ui,useSSRContext:di,useShadowRoot:ci,useSlots:fi,useTemplateRef:pi,useTransitionState:gi,vModelCheckbox:Zt,vModelDynamic:mi,vModelRadio:vi,vModelSelect:dn,vModelText:We,vShow:Zr,version:hi,warn:yi,watch:Xe,watchEffect:ea,watchPostEffect:xi,watchSyncEffect:bi,withAsyncContext:Si,withCtx:C,withDefaults:wi,withDirectives:Me,withKeys:Bn,withMemo:Ci,withModifiers:Ot,withScopeId:$i},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=at("AlertTriangleIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=at("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=at("BookOpenIcon",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=at("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=at("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=at("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=at("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=at("FileSpreadsheetIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=at("GripVerticalIcon",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=at("HelpCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=at("ListIcon",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=at("MousePointerIcon",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=at("PackageIcon",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=at("Redo2Icon",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=at("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=at("Undo2Icon",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=at("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),$u=["INPUT","TEXTAREA"];function Eu(e,o,t,r={}){if(!o||r.enableIgnoredElement&&$u.includes(o.nodeName))return null;const{arrowKeyOptions:a="both",attributeName:s="[data-reka-collection-item]",itemsArray:n=[],loop:l=!0,dir:i="ltr",preventScroll:u=!0,focus:d=!1}=r,[c,p,f,m,h,y]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],x=f||m,S=c||p;if(!h&&!y&&(!x&&!S||a==="vertical"&&S||a==="horizontal"&&x))return null;const R=t?Array.from(t.querySelectorAll(s)):n;if(!R.length)return null;u&&e.preventDefault();let D=null;return S||x?D=ya(R,o,{goForward:x?m:i==="ltr"?c:p,loop:l}):h?D=R.at(0)||null:y&&(D=R.at(-1)||null),d&&(D==null||D.focus()),D}function ya(e,o,t,r=e.length){if(--r===0)return null;const a=e.indexOf(o),s=t.goForward?a+1:a-1;if(!t.loop&&(s<0||s>=e.length))return null;const n=(s+e.length)%e.length,l=e[n];return l?l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"?ya(e,l,t,r):l:null}const[ny,Ru]=gn("RovingFocusGroup");var Iu=ne({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:o,emit:t}){const r=e,a=t,{loop:s,orientation:n,dir:l}=tn(r),i=xo(l),u=xr(r,"currentTabStopId",a,{defaultValue:r.defaultCurrentTabStopId,passive:r.currentTabStopId===void 0}),d=K(!1),c=K(!1),p=K(0),{getItems:f,CollectionSlot:m}=ua({isProvider:!0});function h(x){const S=!c.value;if(x.currentTarget&&x.target===x.currentTarget&&S&&!d.value){const R=new CustomEvent(Ji,Zi);if(x.currentTarget.dispatchEvent(R),a("entryFocus",R),!R.defaultPrevented){const D=f().map(b=>b.ref).filter(b=>b.dataset.disabled!==""),T=D.find(b=>b.getAttribute("data-active")===""),V=D.find(b=>b.getAttribute("data-highlighted")===""),Q=D.find(b=>b.id===u.value),U=[T,V,Q,...D].filter(Boolean);Qi(U,r.preventScrollOnEntryFocus)}}c.value=!1}function y(){setTimeout(()=>{c.value=!1},1)}return o({getItems:f}),Ru({loop:s,dir:i,orientation:n,currentTabStopId:u,onItemFocus:x=>{u.value=x},onItemShiftTab:()=>{d.value=!0},onFocusableItemAdd:()=>{p.value++},onFocusableItemRemove:()=>{p.value--}}),(x,S)=>($(),te(g(m),null,{default:C(()=>[w(g(pn),{tabindex:d.value||p.value===0?-1:0,"data-orientation":g(n),as:x.as,"as-child":x.asChild,dir:g(i),style:{outline:"none"},onMousedown:S[0]||(S[0]=R=>c.value=!0),onMouseup:y,onFocus:h,onBlur:S[1]||(S[1]=R=>d.value=!1)},{default:C(()=>[ie(x.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),Pu=Iu,Du=ne({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return(t,r)=>($(),te(g(eu),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),xa=Du;function Ou(){const e=K(!1);return en(()=>{Or("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),Or(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const Tu=Hi(Ou),[bo,Mu]=gn(["MenuRoot","MenuSub"],"MenuContext"),[br,Fu]=gn("MenuRoot");var Au=ne({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:o}){const t=e,r=o,{modal:a,dir:s}=tn(t),n=xo(s),l=xr(t,"open",r),i=K(),u=Tu();return Mu({open:l,onOpenChange:d=>{l.value=d},content:i,onContentChange:d=>{i.value=d}}),Fu({onClose:()=>{l.value=!1},isUsingKeyboardRef:u,dir:n,modal:a}),(d,c)=>($(),te(g(tu),null,{default:C(()=>[ie(d.$slots,"default")]),_:3}))}}),ba=Au;const[Sa,Vu]=gn("MenuContent");var Lu=ne({__name:"MenuContentImpl",props:qr({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...au}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:o}){const t=e,r=o,a=bo(),s=br(),{trapFocus:n,disableOutsidePointerEvents:l,loop:i}=tn(t);nu(),zi(l.value);const u=K(""),d=K(0),c=K(0),p=K(null),f=K("right"),m=K(0),h=K(null),y=K(),{forwardRef:x,currentElement:S}=dt(),{handleTypeaheadSearch:R}=ou();Xe(S,b=>{a.onContentChange(b)}),co(()=>{window.clearTimeout(d.value)});function D(b){var M,re;return f.value===((M=p.value)==null?void 0:M.side)&&Ti(b,(re=p.value)==null?void 0:re.area)}async function T(b){var E;r("openAutoFocus",b),!b.defaultPrevented&&(b.preventDefault(),(E=S.value)==null||E.focus({preventScroll:!0}))}function V(b){var J;if(b.defaultPrevented)return;const M=b.target.closest("[data-reka-menu-content]")===b.currentTarget,re=b.ctrlKey||b.altKey||b.metaKey,B=b.key.length===1,j=Eu(b,Xi(),S.value,{loop:i.value,arrowKeyOptions:"vertical",dir:s==null?void 0:s.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(j)return j==null?void 0:j.focus();if(b.code==="Space")return;const H=((J=y.value)==null?void 0:J.getItems())??[];if(M&&(b.key==="Tab"&&b.preventDefault(),!re&&B&&R(b.key,H)),b.target!==S.value||!Mi.includes(b.key))return;b.preventDefault();const N=[...H.map(de=>de.ref)];Fi.includes(b.key)&&N.reverse(),Ai(N)}function Q(b){var E,M;(M=(E=b==null?void 0:b.currentTarget)==null?void 0:E.contains)!=null&&M.call(E,b.target)||(window.clearTimeout(d.value),u.value="")}function U(b){var re;if(!Xo(b))return;const E=b.target,M=m.value!==b.clientX;if((re=b==null?void 0:b.currentTarget)!=null&&re.contains(E)&&M){const B=b.clientX>m.value?"right":"left";f.value=B,m.value=b.clientX}}return Vu({onItemEnter:b=>!!D(b),onItemLeave:b=>{var E;D(b)||((E=S.value)==null||E.focus(),h.value=null)},onTriggerLeave:b=>!!D(b),searchRef:u,pointerGraceTimerRef:c,onPointerGraceIntentChange:b=>{p.value=b}}),(b,E)=>($(),te(g(Wi),{"as-child":"",trapped:g(n),onMountAutoFocus:T,onUnmountAutoFocus:E[7]||(E[7]=M=>r("closeAutoFocus",M))},{default:C(()=>[w(g(Ki),{"as-child":"","disable-outside-pointer-events":g(l),onEscapeKeyDown:E[2]||(E[2]=M=>r("escapeKeyDown",M)),onPointerDownOutside:E[3]||(E[3]=M=>r("pointerDownOutside",M)),onFocusOutside:E[4]||(E[4]=M=>r("focusOutside",M)),onInteractOutside:E[5]||(E[5]=M=>r("interactOutside",M)),onDismiss:E[6]||(E[6]=M=>r("dismiss"))},{default:C(()=>[w(g(Pu),{ref_key:"rovingFocusGroupRef",ref:y,"current-tab-stop-id":h.value,"onUpdate:currentTabStopId":E[0]||(E[0]=M=>h.value=M),"as-child":"",orientation:"vertical",dir:g(s).dir.value,loop:g(i),onEntryFocus:E[1]||(E[1]=M=>{r("entryFocus",M),g(s).isUsingKeyboardRef.value||M.preventDefault()})},{default:C(()=>[w(g(ru),{ref:g(x),role:"menu",as:b.as,"as-child":b.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":g(Oi)(g(a).open.value),dir:g(s).dir.value,side:b.side,"side-offset":b.sideOffset,align:b.align,"align-offset":b.alignOffset,"avoid-collisions":b.avoidCollisions,"collision-boundary":b.collisionBoundary,"collision-padding":b.collisionPadding,"arrow-padding":b.arrowPadding,"prioritize-position":b.prioritizePosition,"position-strategy":b.positionStrategy,"update-position-strategy":b.updatePositionStrategy,sticky:b.sticky,"hide-when-detached":b.hideWhenDetached,reference:b.reference,onKeydown:V,onBlur:Q,onPointermove:U},{default:C(()=>[ie(b.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),wa=Lu,Bu=ne({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e,t=Sa(),{forwardRef:r}=dt(),{CollectionItem:a}=ua(),s=K(!1);async function n(i){if(!i.defaultPrevented&&Xo(i)){if(o.disabled)t.onItemLeave(i);else if(!t.onItemEnter(i)){const d=i.currentTarget;d==null||d.focus({preventScroll:!0})}}}async function l(i){await bt(),!i.defaultPrevented&&Xo(i)&&t.onItemLeave(i)}return(i,u)=>($(),te(g(a),{value:{textValue:i.textValue}},{default:C(()=>[w(g(pn),Le({ref:g(r),role:"menuitem",tabindex:"-1"},i.$attrs,{as:i.as,"as-child":i.asChild,"aria-disabled":i.disabled||void 0,"data-disabled":i.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:n,onPointerleave:l,onFocus:u[0]||(u[0]=async d=>{await bt(),!(d.defaultPrevented||i.disabled)&&(s.value=!0)}),onBlur:u[1]||(u[1]=async d=>{await bt(),!d.defaultPrevented&&(s.value=!1)})}),{default:C(()=>[ie(i.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),Nu=Bu,ju=ne({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:o}){const t=e,r=o,{forwardRef:a,currentElement:s}=dt(),n=br(),l=Sa(),i=K(!1);async function u(){const d=s.value;if(!t.disabled&&d){const c=new CustomEvent(Li,{bubbles:!0,cancelable:!0});r("select",c),await bt(),c.defaultPrevented?i.value=!1:n.onClose()}}return(d,c)=>($(),te(Nu,Le(t,{ref:g(a),onClick:u,onPointerdown:c[0]||(c[0]=()=>{i.value=!0}),onPointerup:c[1]||(c[1]=async p=>{var f;await bt(),!p.defaultPrevented&&(i.value||(f=p.currentTarget)==null||f.click())}),onKeydown:c[2]||(c[2]=async p=>{const f=g(l).searchRef.value!=="";d.disabled||f&&p.key===" "||g(Vi).includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})}),{default:C(()=>[ie(d.$slots,"default")]),_:3},16))}}),Ca=ju,ku=ne({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:o}){const t=e,r=o,a=Ft(t,r),s=bo(),{forwardRef:n,currentElement:l}=dt();return Yi(l),(i,u)=>($(),te(wa,Le(g(a),{ref:g(n),"trap-focus":g(s).open.value,"disable-outside-pointer-events":g(s).open.value,"disable-outside-scroll":!0,onDismiss:u[0]||(u[0]=d=>g(s).onOpenChange(!1)),onFocusOutside:u[1]||(u[1]=Ot(d=>r("focusOutside",d),["prevent"]))}),{default:C(()=>[ie(i.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),Uu=ku,Gu=ne({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:o}){const a=Ft(e,o),s=bo();return(n,l)=>($(),te(wa,Le(g(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:l[0]||(l[0]=i=>g(s).onOpenChange(!1))}),{default:C(()=>[ie(n.$slots,"default")]),_:3},16))}}),Hu=Gu,zu=ne({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:o}){const a=Ft(e,o),s=bo(),n=br();return(l,i)=>($(),te(g(_i),{present:l.forceMount||g(s).open.value},{default:C(()=>[g(n).modal.value?($(),te(Uu,nt(Le({key:0},{...l.$attrs,...g(a)})),{default:C(()=>[ie(l.$slots,"default")]),_:3},16)):($(),te(Hu,nt(Le({key:1},{...l.$attrs,...g(a)})),{default:C(()=>[ie(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),$a=zu,Ku=ne({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const o=e;return(t,r)=>($(),te(g(pn),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),Ea=Ku,Wu=ne({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const o=e;return(t,r)=>($(),te(g(qi),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),Ra=Wu,Xu=ne({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return(t,r)=>($(),te(g(pn),Le(o,{role:"separator","aria-orientation":"horizontal"}),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),Ia=Xu;const[Pa,Yu]=gn("ContextMenuRoot");var _u=ne({inheritAttrs:!1,__name:"ContextMenuRoot",props:{pressOpenDelay:{type:Number,required:!1,default:700},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:o}){const t=e,r=o,{dir:a,modal:s,pressOpenDelay:n}=tn(t);dt();const l=xo(a),i=K(!1),u=K();return Yu({open:i,onOpenChange:d=>{i.value=d},dir:l,modal:s,triggerElement:u,pressOpenDelay:n}),Xe(i,d=>{r("update:open",d)}),(d,c)=>($(),te(g(ba),{open:i.value,"onUpdate:open":c[0]||(c[0]=p=>i.value=p),dir:g(l),modal:g(s)},{default:C(()=>[ie(d.$slots,"default")]),_:3},8,["open","dir","modal"]))}}),qu=_u,Qu=ne({__name:"ContextMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1,default:0},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:o}){const a=Ft(e,o);dt();const s=Pa(),n=K(!1);return(l,i)=>($(),te(g($a),Le(g(a),{side:"right","side-offset":2,align:"start","update-position-strategy":"always",style:{"--reka-context-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-context-menu-content-available-width":"var(--reka-popper-available-width)","--reka-context-menu-content-available-height":"var(--reka-popper-available-height)","--reka-context-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-context-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:i[0]||(i[0]=u=>{!u.defaultPrevented&&n.value&&u.preventDefault(),n.value=!1}),onInteractOutside:i[1]||(i[1]=u=>{u.detail.originalEvent.button===2&&u.target===g(s).triggerElement.value&&u.preventDefault(),!u.defaultPrevented&&!g(s).modal.value&&(n.value=!0)})}),{default:C(()=>[ie(l.$slots,"default")]),_:3},16))}}),Ju=Qu,Zu=ne({__name:"ContextMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:o}){const t=e,a=la(o);return dt(),(s,n)=>($(),te(g(Ca),nt(ot({...t,...g(a)})),{default:C(()=>[ie(s.$slots,"default")]),_:3},16))}}),ed=Zu,td=ne({__name:"ContextMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return dt(),(t,r)=>($(),te(g(Ea),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),nd=td,od=ne({__name:"ContextMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const o=e;return(t,r)=>($(),te(g(Ra),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),rd=od,ad=ne({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return dt(),(t,r)=>($(),te(g(Ia),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),sd=ad;function Mr(e){return e.pointerType!=="mouse"}var ld=ne({inheritAttrs:!1,__name:"ContextMenuTrigger",props:{disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const o=e,{disabled:t}=tn(o),{forwardRef:r,currentElement:a}=dt(),s=Pa(),n=K({x:0,y:0}),l=xe(()=>({getBoundingClientRect:()=>({width:0,height:0,left:n.value.x,right:n.value.x,top:n.value.y,bottom:n.value.y,...n.value})})),i=K(0);function u(){window.clearTimeout(i.value)}function d(m){n.value={x:m.clientX,y:m.clientY},s.onOpenChange(!0)}async function c(m){t.value||(await bt(),m.defaultPrevented||(u(),d(m),m.preventDefault()))}async function p(m){t.value||(await bt(),Mr(m)&&!m.defaultPrevented&&(u(),i.value=window.setTimeout(()=>d(m),s.pressOpenDelay.value)))}async function f(m){t.value||(await bt(),Mr(m)&&!m.defaultPrevented&&u())}return en(()=>{a.value&&(s.triggerElement.value=a.value)}),(m,h)=>($(),F(Ue,null,[w(g(xa),{as:"template",reference:l.value},null,8,["reference"]),w(g(pn),Le({ref:g(r),as:m.as,"as-child":m.asChild,"data-state":g(s).open.value?"open":"closed","data-disabled":g(t)?"":void 0,style:{WebkitTouchCallout:"none",pointerEvents:"auto"}},m.$attrs,{onContextmenu:c,onPointerdown:p,onPointermove:f,onPointercancel:f,onPointerup:f}),{default:C(()=>[ie(m.$slots,"default")]),_:3},16,["as","as-child","data-state","data-disabled"])],64))}}),id=ld;const[Da,ud]=gn("DropdownMenuRoot");var dd=ne({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:o}){const t=e,r=o;dt();const a=xr(t,"open",r,{defaultValue:t.defaultOpen,passive:t.open===void 0}),s=K(),{modal:n,dir:l}=tn(t),i=xo(l);return ud({open:a,onOpenChange:u=>{a.value=u},onOpenToggle:()=>{a.value=!a.value},triggerId:"",triggerElement:s,contentId:"",modal:n,dir:i}),(u,d)=>($(),te(g(ba),{open:g(a),"onUpdate:open":d[0]||(d[0]=c=>gr(a)?a.value=c:null),dir:g(i),modal:g(n)},{default:C(()=>[ie(u.$slots,"default",{open:g(a)})]),_:3},8,["open","dir","modal"]))}}),cd=dd,fd=ne({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:o}){const a=Ft(e,o);dt();const s=Da(),n=K(!1);function l(i){i.defaultPrevented||(n.value||setTimeout(()=>{var u;(u=s.triggerElement.value)==null||u.focus()},0),n.value=!1,i.preventDefault())}return s.contentId||(s.contentId=ia(void 0,"reka-dropdown-menu-content")),(i,u)=>{var d;return $(),te(g($a),Le(g(a),{id:g(s).contentId,"aria-labelledby":(d=g(s))==null?void 0:d.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:l,onInteractOutside:u[0]||(u[0]=c=>{var h;if(c.defaultPrevented)return;const p=c.detail.originalEvent,f=p.button===0&&p.ctrlKey===!0,m=p.button===2||f;(!g(s).modal.value||m)&&(n.value=!0),(h=g(s).triggerElement.value)!=null&&h.contains(c.target)&&c.preventDefault()})}),{default:C(()=>[ie(i.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),pd=fd,gd=ne({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:o}){const t=e,a=la(o);return dt(),(s,n)=>($(),te(g(Ca),nt(ot({...t,...g(a)})),{default:C(()=>[ie(s.$slots,"default")]),_:3},16))}}),md=gd,vd=ne({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return dt(),(t,r)=>($(),te(g(Ea),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),hd=vd,yd=ne({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const o=e;return(t,r)=>($(),te(g(Ra),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),xd=yd,bd=ne({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return dt(),(t,r)=>($(),te(g(Ia),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),Sd=bd,wd=ne({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const o=e,t=Da(),{forwardRef:r,currentElement:a}=dt();return en(()=>{t.triggerElement=a}),t.triggerId||(t.triggerId=ia(void 0,"reka-dropdown-menu-trigger")),(s,n)=>($(),te(g(xa),{"as-child":""},{default:C(()=>[w(g(pn),{id:g(t).triggerId,ref:g(r),type:s.as==="button"?"button":void 0,"as-child":o.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":g(t).open.value,"aria-controls":g(t).open.value?g(t).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":g(t).open.value?"open":"closed",onClick:n[0]||(n[0]=async l=>{var i;!s.disabled&&l.button===0&&l.ctrlKey===!1&&((i=g(t))==null||i.onOpenToggle(),await bt(),g(t).open.value&&l.preventDefault())}),onKeydown:n[1]||(n[1]=Bn(l=>{s.disabled||(["Enter"," "].includes(l.key)&&g(t).onOpenToggle(),l.key==="ArrowDown"&&g(t).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())},["enter","space","arrow-down"]))},{default:C(()=>[ie(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),Cd=wd;const $d={class:"flex items-center gap-1 border-b border-slate-200 mb-6"},Ed=["onClick"],Rd={class:"flex items-center gap-2"},Id={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"},Pd=ne({__name:"KnowledgeSubTabs",props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup(e){return(o,t)=>($(),F("div",$d,[($(!0),F(Ue,null,ze(e.tabs,r=>($(),F("button",{key:r.id,onClick:a=>o.$emit("update:modelValue",r.id),class:Ae(["px-4 py-2.5 text-sm font-medium transition-all relative",[e.modelValue===r.id?"text-indigo-600":"text-slate-500 hover:text-slate-700"]])},[v("span",Rd,[ee(X(r.label)+" ",1),r.count!==void 0?($(),F("span",{key:0,class:Ae(["text-xs px-1.5 py-0.5 rounded-full",[e.modelValue===r.id?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"]])},X(r.count),3)):ue("",!0)]),e.modelValue===r.id?($(),F("div",Id)):ue("",!0)],10,Ed))),128))]))}}),Oa=(e,o)=>{const t=Math.abs(e)%100,r=t%10;return t>=11&&t<=19?o[2]:r===1?o[0]:r>=2&&r<=4?o[1]:o[2]},Dd={class:"flex items-center justify-between gap-4"},Od={class:"flex items-center gap-4 min-w-0"},Td={class:"w-11 h-11 bg-indigo-50 rounded-md flex items-center justify-center flex-shrink-0 group-hover:bg-indigo-100 transition-colors"},Md={class:"min-w-0"},Fd={class:"font-bold text-slate-900 truncate"},Ad={class:"text-xs text-slate-500 mt-0.5"},Vd={class:"font-mono text-slate-400"},Ld=ne({__name:"DirectoryCard",props:{directory:{}},emits:["click","toggle","settings"],setup(e,{emit:o}){const t=e,r=xe(()=>({qa:ma,service_catalog:aa,product_catalog:va,company_info:ca,custom:Qo})[t.directory.template]||Qo),a=xe(()=>Oa(t.directory.items_count,["запись","записи","записей"]));return(s,n)=>($(),F("div",{class:"bg-background rounded-md border border-border p-4 hover:border-slate-300 transition-all cursor-pointer group",onClick:n[3]||(n[3]=l=>s.$emit("click"))},[v("div",Dd,[v("div",Od,[v("div",Td,[($(),te(fo(r.value),{class:"w-5 h-5 text-indigo-600"}))]),v("div",Md,[v("h4",Fd,X(e.directory.name),1),v("p",Ad,[v("span",Vd,X(e.directory.tool_name),1),n[4]||(n[4]=v("span",{class:"mx-1.5"},"•",-1)),v("span",null,X(e.directory.items_count)+" "+X(a.value),1)])])]),v("div",{class:"flex items-center gap-3",onClick:n[2]||(n[2]=Ot(()=>{},["stop"]))},[v("button",{onClick:n[0]||(n[0]=l=>s.$emit("settings")),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Настройки"},[w(g(ra),{class:"w-4 h-4"})]),w(g(oa),{"model-value":e.directory.is_enabled,"onUpdate:modelValue":n[1]||(n[1]=l=>s.$emit("toggle",l)),title:e.directory.is_enabled?"Выключить":"Включить"},null,8,["model-value","title"])])])]))}}),Bd={class:"space-y-4"},Nd={class:"flex items-center justify-between gap-4"},jd={key:0,class:"relative"},kd={key:0,class:"flex justify-center py-12"},Ud={key:1,class:"bg-red-50 rounded-md border border-red-200 p-8 text-center"},Gd={class:"max-w-md mx-auto"},Hd={class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},zd={class:"text-red-600 mt-2 mb-4"},Kd={key:2,class:"bg-background rounded-md border border-border p-12 text-center"},Wd={class:"max-w-md mx-auto"},Xd={class:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4"},Yd={key:3,class:"bg-background rounded-md border border-border p-8 text-center"},_d={class:"text-slate-500"},qd={key:4,class:"grid gap-3"},Qd=ne({__name:"DirectoriesList",props:{directories:{},loading:{type:Boolean},error:{}},emits:["create","select","toggle","settings","retry"],setup(e){const o=e,t=K(""),r=xe(()=>{if(!t.value.trim())return o.directories;const a=t.value.toLowerCase();return o.directories.filter(s=>s.name.toLowerCase().includes(a)||s.tool_name.toLowerCase().includes(a))});return(a,s)=>($(),F("div",Bd,[v("div",Nd,[v("button",{onClick:s[0]||(s[0]=n=>a.$emit("create")),class:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"},[w(g(ho),{class:"w-4 h-4"}),s[4]||(s[4]=ee(" Создать справочник ",-1))]),e.directories.length>0?($(),F("div",jd,[w(g(In),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),Me(v("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>t.value=n),type:"text",placeholder:"Поиск...",class:"pl-9 pr-4 py-2 w-48 text-sm border border-slate-200 rounded-md bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 transition-all"},null,512),[[We,t.value]])])):ue("",!0)]),e.loading?($(),F("div",kd,[w(g(Kt),{class:"w-8 h-8 animate-spin text-indigo-600"})])):e.error?($(),F("div",Ud,[v("div",Gd,[v("div",Hd,[w(g(sa),{class:"h-8 w-8 text-red-500"})]),s[5]||(s[5]=v("h3",{class:"text-lg font-bold text-red-900"},"Ошибка загрузки",-1)),v("p",zd,X(e.error),1),s[6]||(s[6]=v("p",{class:"text-sm text-red-500 mb-4"}," Убедитесь, что API справочников реализован на бэкенде ",-1)),v("button",{onClick:s[2]||(s[2]=n=>a.$emit("retry")),class:"px-5 py-2.5 bg-red-600 text-white rounded-md text-sm font-bold hover:bg-red-700 transition-colors"}," Повторить ")])])):e.directories.length===0?($(),F("div",Kd,[v("div",Wd,[v("div",Xd,[w(g(hu),{class:"h-8 w-8 text-slate-400"})]),s[7]||(s[7]=v("h3",{class:"text-lg font-bold text-slate-900"},"Справочников пока нет",-1)),s[8]||(s[8]=v("p",{class:"text-slate-500 mt-2 mb-6"}," Создайте справочник для хранения FAQ, каталога услуг или другой структурированной информации ",-1)),v("button",{onClick:s[3]||(s[3]=n=>a.$emit("create")),class:"px-6 py-3 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Создать справочник ")])])):r.value.length===0?($(),F("div",Yd,[v("p",_d,'Ничего не найдено по запросу "'+X(t.value)+'"',1)])):($(),F("div",qd,[($(!0),F(Ue,null,ze(r.value,n=>($(),te(Ld,{key:n.id,directory:n,onClick:l=>a.$emit("select",n),onToggle:l=>a.$emit("toggle",n.id,l),onSettings:l=>a.$emit("settings",n)},null,8,["directory","onClick","onToggle","onSettings"]))),128))]))]))}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Gt(e,o){return typeof e=="function"?e(o):e}function St(e,o){return t=>{o.setState(r=>({...r,[e]:Gt(t,r[e])}))}}function So(e){return e instanceof Function}function Jd(e){return Array.isArray(e)&&e.every(o=>typeof o=="number")}function Zd(e,o){const t=[],r=a=>{a.forEach(s=>{t.push(s);const n=o(s);n!=null&&n.length&&r(n)})};return r(e),t}function ve(e,o,t){let r=[],a;return s=>{let n;t.key&&t.debug&&(n=Date.now());const l=e(s);if(!(l.length!==r.length||l.some((d,c)=>r[c]!==d)))return a;r=l;let u;if(t.key&&t.debug&&(u=Date.now()),a=o(...l),t==null||t.onChange==null||t.onChange(a),t.key&&t.debug&&t!=null&&t.debug()){const d=Math.round((Date.now()-n)*100)/100,c=Math.round((Date.now()-u)*100)/100,p=c/16,f=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c⏱ ${f(c,5)} /${f(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,t==null?void 0:t.key)}return a}}function he(e,o,t,r){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[o]},key:!1,onChange:r}}function ec(e,o,t,r){const a=()=>{var n;return(n=s.getValue())!=null?n:e.options.renderFallbackValue},s={id:`${o.id}_${t.id}`,row:o,column:t,getValue:()=>o.getValue(r),renderValue:a,getContext:ve(()=>[e,t,o,s],(n,l,i,u)=>({table:n,column:l,row:i,cell:u,getValue:u.getValue,renderValue:u.renderValue}),he(e.options,"debugCells"))};return e._features.forEach(n=>{n.createCell==null||n.createCell(s,t,o,e)},{}),s}function tc(e,o,t,r){var a,s;const l={...e._getDefaultColumnDef(),...o},i=l.accessorKey;let u=(a=(s=l.id)!=null?s:i?typeof String.prototype.replaceAll=="function"?i.replaceAll(".","_"):i.replace(/\./g,"_"):void 0)!=null?a:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:i&&(i.includes(".")?d=p=>{let f=p;for(const h of i.split(".")){var m;f=(m=f)==null?void 0:m[h]}return f}:d=p=>p[l.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:d,parent:r,depth:t,columnDef:l,columns:[],getFlatColumns:ve(()=>[!0],()=>{var p;return[c,...(p=c.columns)==null?void 0:p.flatMap(f=>f.getFlatColumns())]},he(e.options,"debugColumns")),getLeafColumns:ve(()=>[e._getOrderColumnsFn()],p=>{var f;if((f=c.columns)!=null&&f.length){let m=c.columns.flatMap(h=>h.getLeafColumns());return p(m)}return[c]},he(e.options,"debugColumns"))};for(const p of e._features)p.createColumn==null||p.createColumn(c,e);return c}const st="debugHeaders";function Fr(e,o,t){var r;let s={id:(r=t.id)!=null?r:o.id,column:o,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const n=[],l=i=>{i.subHeaders&&i.subHeaders.length&&i.subHeaders.map(l),n.push(i)};return l(s),n},getContext:()=>({table:e,header:s,column:o})};return e._features.forEach(n=>{n.createHeader==null||n.createHeader(s,e)}),s}const nc={createTable:e=>{e.getHeaderGroups=ve(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,r,a)=>{var s,n;const l=(s=r==null?void 0:r.map(c=>t.find(p=>p.id===c)).filter(Boolean))!=null?s:[],i=(n=a==null?void 0:a.map(c=>t.find(p=>p.id===c)).filter(Boolean))!=null?n:[],u=t.filter(c=>!(r!=null&&r.includes(c.id))&&!(a!=null&&a.includes(c.id)));return Gn(o,[...l,...u,...i],e)},he(e.options,st)),e.getCenterHeaderGroups=ve(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,r,a)=>(t=t.filter(s=>!(r!=null&&r.includes(s.id))&&!(a!=null&&a.includes(s.id))),Gn(o,t,e,"center")),he(e.options,st)),e.getLeftHeaderGroups=ve(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(o,t,r)=>{var a;const s=(a=r==null?void 0:r.map(n=>t.find(l=>l.id===n)).filter(Boolean))!=null?a:[];return Gn(o,s,e,"left")},he(e.options,st)),e.getRightHeaderGroups=ve(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(o,t,r)=>{var a;const s=(a=r==null?void 0:r.map(n=>t.find(l=>l.id===n)).filter(Boolean))!=null?a:[];return Gn(o,s,e,"right")},he(e.options,st)),e.getFooterGroups=ve(()=>[e.getHeaderGroups()],o=>[...o].reverse(),he(e.options,st)),e.getLeftFooterGroups=ve(()=>[e.getLeftHeaderGroups()],o=>[...o].reverse(),he(e.options,st)),e.getCenterFooterGroups=ve(()=>[e.getCenterHeaderGroups()],o=>[...o].reverse(),he(e.options,st)),e.getRightFooterGroups=ve(()=>[e.getRightHeaderGroups()],o=>[...o].reverse(),he(e.options,st)),e.getFlatHeaders=ve(()=>[e.getHeaderGroups()],o=>o.map(t=>t.headers).flat(),he(e.options,st)),e.getLeftFlatHeaders=ve(()=>[e.getLeftHeaderGroups()],o=>o.map(t=>t.headers).flat(),he(e.options,st)),e.getCenterFlatHeaders=ve(()=>[e.getCenterHeaderGroups()],o=>o.map(t=>t.headers).flat(),he(e.options,st)),e.getRightFlatHeaders=ve(()=>[e.getRightHeaderGroups()],o=>o.map(t=>t.headers).flat(),he(e.options,st)),e.getCenterLeafHeaders=ve(()=>[e.getCenterFlatHeaders()],o=>o.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),he(e.options,st)),e.getLeftLeafHeaders=ve(()=>[e.getLeftFlatHeaders()],o=>o.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),he(e.options,st)),e.getRightLeafHeaders=ve(()=>[e.getRightFlatHeaders()],o=>o.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),he(e.options,st)),e.getLeafHeaders=ve(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(o,t,r)=>{var a,s,n,l,i,u;return[...(a=(s=o[0])==null?void 0:s.headers)!=null?a:[],...(n=(l=t[0])==null?void 0:l.headers)!=null?n:[],...(i=(u=r[0])==null?void 0:u.headers)!=null?i:[]].map(d=>d.getLeafHeaders()).flat()},he(e.options,st))}};function Gn(e,o,t,r){var a,s;let n=0;const l=function(p,f){f===void 0&&(f=1),n=Math.max(n,f),p.filter(m=>m.getIsVisible()).forEach(m=>{var h;(h=m.columns)!=null&&h.length&&l(m.columns,f+1)},0)};l(e);let i=[];const u=(p,f)=>{const m={depth:f,id:[r,`${f}`].filter(Boolean).join("_"),headers:[]},h=[];p.forEach(y=>{const x=[...h].reverse()[0],S=y.column.depth===m.depth;let R,D=!1;if(S&&y.column.parent?R=y.column.parent:(R=y.column,D=!0),x&&(x==null?void 0:x.column)===R)x.subHeaders.push(y);else{const T=Fr(t,R,{id:[r,f,R.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${h.filter(V=>V.column===R).length}`:void 0,depth:f,index:h.length});T.subHeaders.push(y),h.push(T)}m.headers.push(y),y.headerGroup=m}),i.push(m),f>0&&u(h,f-1)},d=o.map((p,f)=>Fr(t,p,{depth:n,index:f}));u(d,n-1),i.reverse();const c=p=>p.filter(m=>m.column.getIsVisible()).map(m=>{let h=0,y=0,x=[0];m.subHeaders&&m.subHeaders.length?(x=[],c(m.subHeaders).forEach(R=>{let{colSpan:D,rowSpan:T}=R;h+=D,x.push(T)})):h=1;const S=Math.min(...x);return y=y+S,m.colSpan=h,m.rowSpan=y,{colSpan:h,rowSpan:y}});return c((a=(s=i[0])==null?void 0:s.headers)!=null?a:[]),i}const Sr=(e,o,t,r,a,s,n)=>{let l={id:o,index:r,original:t,depth:a,parentId:n,_valuesCache:{},_uniqueValuesCache:{},getValue:i=>{if(l._valuesCache.hasOwnProperty(i))return l._valuesCache[i];const u=e.getColumn(i);if(u!=null&&u.accessorFn)return l._valuesCache[i]=u.accessorFn(l.original,r),l._valuesCache[i]},getUniqueValues:i=>{if(l._uniqueValuesCache.hasOwnProperty(i))return l._uniqueValuesCache[i];const u=e.getColumn(i);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[i]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[i]):(l._uniqueValuesCache[i]=[l.getValue(i)],l._uniqueValuesCache[i])},renderValue:i=>{var u;return(u=l.getValue(i))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Zd(l.subRows,i=>i.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let i=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;i.push(d),u=d}return i.reverse()},getAllCells:ve(()=>[e.getAllLeafColumns()],i=>i.map(u=>ec(e,l,u,u.id)),he(e.options,"debugRows")),_getAllCellsByColumnId:ve(()=>[l.getAllCells()],i=>i.reduce((u,d)=>(u[d.column.id]=d,u),{}),he(e.options,"debugRows"))};for(let i=0;i<e._features.length;i++){const u=e._features[i];u==null||u.createRow==null||u.createRow(l,e)}return l},oc={createColumn:(e,o)=>{e._getFacetedRowModel=o.options.getFacetedRowModel&&o.options.getFacetedRowModel(o,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():o.getPreFilteredRowModel(),e._getFacetedUniqueValues=o.options.getFacetedUniqueValues&&o.options.getFacetedUniqueValues(o,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=o.options.getFacetedMinMaxValues&&o.options.getFacetedMinMaxValues(o,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Ta=(e,o,t)=>{var r,a;const s=t==null||(r=t.toString())==null?void 0:r.toLowerCase();return!!(!((a=e.getValue(o))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(s))};Ta.autoRemove=e=>Pt(e);const Ma=(e,o,t)=>{var r;return!!(!((r=e.getValue(o))==null||(r=r.toString())==null)&&r.includes(t))};Ma.autoRemove=e=>Pt(e);const Fa=(e,o,t)=>{var r;return((r=e.getValue(o))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(t==null?void 0:t.toLowerCase())};Fa.autoRemove=e=>Pt(e);const Aa=(e,o,t)=>{var r;return(r=e.getValue(o))==null?void 0:r.includes(t)};Aa.autoRemove=e=>Pt(e);const Va=(e,o,t)=>!t.some(r=>{var a;return!((a=e.getValue(o))!=null&&a.includes(r))});Va.autoRemove=e=>Pt(e)||!(e!=null&&e.length);const La=(e,o,t)=>t.some(r=>{var a;return(a=e.getValue(o))==null?void 0:a.includes(r)});La.autoRemove=e=>Pt(e)||!(e!=null&&e.length);const Ba=(e,o,t)=>e.getValue(o)===t;Ba.autoRemove=e=>Pt(e);const Na=(e,o,t)=>e.getValue(o)==t;Na.autoRemove=e=>Pt(e);const wr=(e,o,t)=>{let[r,a]=t;const s=e.getValue(o);return s>=r&&s<=a};wr.resolveFilterValue=e=>{let[o,t]=e,r=typeof o!="number"?parseFloat(o):o,a=typeof t!="number"?parseFloat(t):t,s=o===null||Number.isNaN(r)?-1/0:r,n=t===null||Number.isNaN(a)?1/0:a;if(s>n){const l=s;s=n,n=l}return[s,n]};wr.autoRemove=e=>Pt(e)||Pt(e[0])&&Pt(e[1]);const Vt={includesString:Ta,includesStringSensitive:Ma,equalsString:Fa,arrIncludes:Aa,arrIncludesAll:Va,arrIncludesSome:La,equals:Ba,weakEquals:Na,inNumberRange:wr};function Pt(e){return e==null||e===""}const rc={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:St("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,o)=>{e.getAutoFilterFn=()=>{const t=o.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);return typeof r=="string"?Vt.includesString:typeof r=="number"?Vt.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Vt.equals:Array.isArray(r)?Vt.arrIncludes:Vt.weakEquals},e.getFilterFn=()=>{var t,r;return So(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(r=o.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?t:Vt[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,r,a;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((r=o.options.enableColumnFilters)!=null?r:!0)&&((a=o.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=o.getState().columnFilters)==null||(t=t.find(r=>r.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,r;return(t=(r=o.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?t:-1},e.setFilterValue=t=>{o.setColumnFilters(r=>{const a=e.getFilterFn(),s=r==null?void 0:r.find(d=>d.id===e.id),n=Gt(t,s?s.value:void 0);if(Ar(a,n,e)){var l;return(l=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?l:[]}const i={id:e.id,value:n};if(s){var u;return(u=r==null?void 0:r.map(d=>d.id===e.id?i:d))!=null?u:[]}return r!=null&&r.length?[...r,i]:[i]})}},createRow:(e,o)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=o=>{const t=e.getAllLeafColumns(),r=a=>{var s;return(s=Gt(o,a))==null?void 0:s.filter(n=>{const l=t.find(i=>i.id===n.id);if(l){const i=l.getFilterFn();if(Ar(i,n.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=o=>{var t,r;e.setColumnFilters(o?[]:(t=(r=e.initialState)==null?void 0:r.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ar(e,o,t){return(e&&e.autoRemove?e.autoRemove(o,t):!1)||typeof o>"u"||typeof o=="string"&&!o}const ac=(e,o,t)=>t.reduce((r,a)=>{const s=a.getValue(e);return r+(typeof s=="number"?s:0)},0),sc=(e,o,t)=>{let r;return t.forEach(a=>{const s=a.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},lc=(e,o,t)=>{let r;return t.forEach(a=>{const s=a.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},ic=(e,o,t)=>{let r,a;return t.forEach(s=>{const n=s.getValue(e);n!=null&&(r===void 0?n>=n&&(r=a=n):(r>n&&(r=n),a<n&&(a=n)))}),[r,a]},uc=(e,o)=>{let t=0,r=0;if(o.forEach(a=>{let s=a.getValue(e);s!=null&&(s=+s)>=s&&(++t,r+=s)}),t)return r/t},dc=(e,o)=>{if(!o.length)return;const t=o.map(s=>s.getValue(e));if(!Jd(t))return;if(t.length===1)return t[0];const r=Math.floor(t.length/2),a=t.sort((s,n)=>s-n);return t.length%2!==0?a[r]:(a[r-1]+a[r])/2},cc=(e,o)=>Array.from(new Set(o.map(t=>t.getValue(e))).values()),fc=(e,o)=>new Set(o.map(t=>t.getValue(e))).size,pc=(e,o)=>o.length,$o={sum:ac,min:sc,max:lc,extent:ic,mean:uc,median:dc,unique:cc,uniqueCount:fc,count:pc},gc={getDefaultColumnDef:()=>({aggregatedCell:e=>{var o,t;return(o=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?o:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:St("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,o)=>{e.toggleGrouping=()=>{o.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(r=>r!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,r;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((r=o.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=o.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=o.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=o.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);if(typeof r=="number")return $o.sum;if(Object.prototype.toString.call(r)==="[object Date]")return $o.extent},e.getAggregationFn=()=>{var t,r;if(!e)throw new Error;return So(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(r=o.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?t:$o[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=o=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(o),e.resetGrouping=o=>{var t,r;e.setGrouping(o?[]:(t=(r=e.initialState)==null?void 0:r.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,o)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const r=o.getColumn(t);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[t]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,o,t,r)=>{e.getIsGrouped=()=>o.getIsGrouped()&&o.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&o.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=t.subRows)!=null&&a.length)}}};function mc(e,o,t){if(!(o!=null&&o.length)||!t)return e;const r=e.filter(s=>!o.includes(s.id));return t==="remove"?r:[...o.map(s=>e.find(n=>n.id===s)).filter(Boolean),...r]}const vc={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:St("columnOrder",e)}),createColumn:(e,o)=>{e.getIndex=ve(t=>[Pn(o,t)],t=>t.findIndex(r=>r.id===e.id),he(o.options,"debugColumns")),e.getIsFirstColumn=t=>{var r;return((r=Pn(o,t)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=t=>{var r;const a=Pn(o,t);return((r=a[a.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=o=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(o),e.resetColumnOrder=o=>{var t;e.setColumnOrder(o?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=ve(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(o,t,r)=>a=>{let s=[];if(!(o!=null&&o.length))s=a;else{const n=[...o],l=[...a];for(;l.length&&n.length;){const i=n.shift(),u=l.findIndex(d=>d.id===i);u>-1&&s.push(l.splice(u,1)[0])}s=[...s,...l]}return mc(s,t,r)},he(e.options,"debugTable"))}},Eo=()=>({left:[],right:[]}),hc={getInitialState:e=>({columnPinning:Eo(),...e}),getDefaultOptions:e=>({onColumnPinningChange:St("columnPinning",e)}),createColumn:(e,o)=>{e.pin=t=>{const r=e.getLeafColumns().map(a=>a.id).filter(Boolean);o.setColumnPinning(a=>{var s,n;if(t==="right"){var l,i;return{left:((l=a==null?void 0:a.left)!=null?l:[]).filter(c=>!(r!=null&&r.includes(c))),right:[...((i=a==null?void 0:a.right)!=null?i:[]).filter(c=>!(r!=null&&r.includes(c))),...r]}}if(t==="left"){var u,d;return{left:[...((u=a==null?void 0:a.left)!=null?u:[]).filter(c=>!(r!=null&&r.includes(c))),...r],right:((d=a==null?void 0:a.right)!=null?d:[]).filter(c=>!(r!=null&&r.includes(c)))}}return{left:((s=a==null?void 0:a.left)!=null?s:[]).filter(c=>!(r!=null&&r.includes(c))),right:((n=a==null?void 0:a.right)!=null?n:[]).filter(c=>!(r!=null&&r.includes(c)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var a,s,n;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((s=(n=o.options.enableColumnPinning)!=null?n:o.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(l=>l.id),{left:r,right:a}=o.getState().columnPinning,s=t.some(l=>r==null?void 0:r.includes(l)),n=t.some(l=>a==null?void 0:a.includes(l));return s?"left":n?"right":!1},e.getPinnedIndex=()=>{var t,r;const a=e.getIsPinned();return a?(t=(r=o.getState().columnPinning)==null||(r=r[a])==null?void 0:r.indexOf(e.id))!=null?t:-1:0}},createRow:(e,o)=>{e.getCenterVisibleCells=ve(()=>[e._getAllVisibleCells(),o.getState().columnPinning.left,o.getState().columnPinning.right],(t,r,a)=>{const s=[...r??[],...a??[]];return t.filter(n=>!s.includes(n.column.id))},he(o.options,"debugRows")),e.getLeftVisibleCells=ve(()=>[e._getAllVisibleCells(),o.getState().columnPinning.left],(t,r)=>(r??[]).map(s=>t.find(n=>n.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),he(o.options,"debugRows")),e.getRightVisibleCells=ve(()=>[e._getAllVisibleCells(),o.getState().columnPinning.right],(t,r)=>(r??[]).map(s=>t.find(n=>n.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),he(o.options,"debugRows"))},createTable:e=>{e.setColumnPinning=o=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(o),e.resetColumnPinning=o=>{var t,r;return e.setColumnPinning(o?Eo():(t=(r=e.initialState)==null?void 0:r.columnPinning)!=null?t:Eo())},e.getIsSomeColumnsPinned=o=>{var t;const r=e.getState().columnPinning;if(!o){var a,s;return!!((a=r.left)!=null&&a.length||(s=r.right)!=null&&s.length)}return!!((t=r[o])!=null&&t.length)},e.getLeftLeafColumns=ve(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(o,t)=>(t??[]).map(r=>o.find(a=>a.id===r)).filter(Boolean),he(e.options,"debugColumns")),e.getRightLeafColumns=ve(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(o,t)=>(t??[]).map(r=>o.find(a=>a.id===r)).filter(Boolean),he(e.options,"debugColumns")),e.getCenterLeafColumns=ve(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,r)=>{const a=[...t??[],...r??[]];return o.filter(s=>!a.includes(s.id))},he(e.options,"debugColumns"))}};function yc(e){return e||(typeof document<"u"?document:null)}const Hn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ro=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),xc={getDefaultColumnDef:()=>Hn,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ro(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:St("columnSizing",e),onColumnSizingInfoChange:St("columnSizingInfo",e)}),createColumn:(e,o)=>{e.getSize=()=>{var t,r,a;const s=o.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:Hn.minSize,(r=s??e.columnDef.size)!=null?r:Hn.size),(a=e.columnDef.maxSize)!=null?a:Hn.maxSize)},e.getStart=ve(t=>[t,Pn(o,t),o.getState().columnSizing],(t,r)=>r.slice(0,e.getIndex(t)).reduce((a,s)=>a+s.getSize(),0),he(o.options,"debugColumns")),e.getAfter=ve(t=>[t,Pn(o,t),o.getState().columnSizing],(t,r)=>r.slice(e.getIndex(t)+1).reduce((a,s)=>a+s.getSize(),0),he(o.options,"debugColumns")),e.resetSize=()=>{o.setColumnSizing(t=>{let{[e.id]:r,...a}=t;return a})},e.getCanResize=()=>{var t,r;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((r=o.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>o.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,o)=>{e.getSize=()=>{let t=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var s;t+=(s=a.column.getSize())!=null?s:0}};return r(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const r=o.getColumn(e.column.id),a=r==null?void 0:r.getCanResize();return s=>{if(!r||!a||(s.persist==null||s.persist(),Io(s)&&s.touches&&s.touches.length>1))return;const n=e.getSize(),l=e?e.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],i=Io(s)?Math.round(s.touches[0].clientX):s.clientX,u={},d=(x,S)=>{typeof S=="number"&&(o.setColumnSizingInfo(R=>{var D,T;const V=o.options.columnResizeDirection==="rtl"?-1:1,Q=(S-((D=R==null?void 0:R.startOffset)!=null?D:0))*V,U=Math.max(Q/((T=R==null?void 0:R.startSize)!=null?T:0),-.999999);return R.columnSizingStart.forEach(b=>{let[E,M]=b;u[E]=Math.round(Math.max(M+M*U,0)*100)/100}),{...R,deltaOffset:Q,deltaPercentage:U}}),(o.options.columnResizeMode==="onChange"||x==="end")&&o.setColumnSizing(R=>({...R,...u})))},c=x=>d("move",x),p=x=>{d("end",x),o.setColumnSizingInfo(S=>({...S,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=yc(t),m={moveHandler:x=>c(x.clientX),upHandler:x=>{f==null||f.removeEventListener("mousemove",m.moveHandler),f==null||f.removeEventListener("mouseup",m.upHandler),p(x.clientX)}},h={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),c(x.touches[0].clientX),!1),upHandler:x=>{var S;f==null||f.removeEventListener("touchmove",h.moveHandler),f==null||f.removeEventListener("touchend",h.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),p((S=x.touches[0])==null?void 0:S.clientX)}},y=bc()?{passive:!1}:!1;Io(s)?(f==null||f.addEventListener("touchmove",h.moveHandler,y),f==null||f.addEventListener("touchend",h.upHandler,y)):(f==null||f.addEventListener("mousemove",m.moveHandler,y),f==null||f.addEventListener("mouseup",m.upHandler,y)),o.setColumnSizingInfo(x=>({...x,startOffset:i,startSize:n,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=o=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(o),e.setColumnSizingInfo=o=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(o),e.resetColumnSizing=o=>{var t;e.setColumnSizing(o?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=o=>{var t;e.setColumnSizingInfo(o?Ro():(t=e.initialState.columnSizingInfo)!=null?t:Ro())},e.getTotalSize=()=>{var o,t;return(o=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((r,a)=>r+a.getSize(),0))!=null?o:0},e.getLeftTotalSize=()=>{var o,t;return(o=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((r,a)=>r+a.getSize(),0))!=null?o:0},e.getCenterTotalSize=()=>{var o,t;return(o=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((r,a)=>r+a.getSize(),0))!=null?o:0},e.getRightTotalSize=()=>{var o,t;return(o=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((r,a)=>r+a.getSize(),0))!=null?o:0}}};let zn=null;function bc(){if(typeof zn=="boolean")return zn;let e=!1;try{const o={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,o),window.removeEventListener("test",t)}catch{e=!1}return zn=e,zn}function Io(e){return e.type==="touchstart"}const Sc={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:St("columnVisibility",e)}),createColumn:(e,o)=>{e.toggleVisibility=t=>{e.getCanHide()&&o.setColumnVisibility(r=>({...r,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,r;const a=e.columns;return(t=a.length?a.some(s=>s.getIsVisible()):(r=o.getState().columnVisibility)==null?void 0:r[e.id])!=null?t:!0},e.getCanHide=()=>{var t,r;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((r=o.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,o)=>{e._getAllVisibleCells=ve(()=>[e.getAllCells(),o.getState().columnVisibility],t=>t.filter(r=>r.column.getIsVisible()),he(o.options,"debugRows")),e.getVisibleCells=ve(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,r,a)=>[...t,...r,...a],he(o.options,"debugRows"))},createTable:e=>{const o=(t,r)=>ve(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),he(e.options,"debugColumns"));e.getVisibleFlatColumns=o("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=o("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=o("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=o("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=o("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var r;e.setColumnVisibility(t?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=t=>{var r;t=(r=t)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,s)=>({...a,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var r;e.toggleAllColumnsVisible((r=t.target)==null?void 0:r.checked)}}};function Pn(e,o){return o?o==="center"?e.getCenterVisibleLeafColumns():o==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const wc={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Cc={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:St("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:o=>{var t;const r=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[o.id])==null?void 0:t.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,o)=>{e.getCanGlobalFilter=()=>{var t,r,a,s;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((r=o.options.enableGlobalFilter)!=null?r:!0)&&((a=o.options.enableFilters)!=null?a:!0)&&((s=o.options.getColumnCanGlobalFilter==null?void 0:o.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Vt.includesString,e.getGlobalFilterFn=()=>{var o,t;const{globalFilterFn:r}=e.options;return So(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(o=(t=e.options.filterFns)==null?void 0:t[r])!=null?o:Vt[r]},e.setGlobalFilter=o=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(o)},e.resetGlobalFilter=o=>{e.setGlobalFilter(o?void 0:e.initialState.globalFilter)}}},$c={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:St("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let o=!1,t=!1;e._autoResetExpanded=()=>{var r,a;if(!o){e._queue(()=>{o=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var a,s;e.setExpanded(r?{}:(a=(s=e.initialState)==null?void 0:s.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const n=s.split(".");r=Math.max(r,n.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,o)=>{e.toggleExpanded=t=>{o.setExpanded(r=>{var a;const s=r===!0?!0:!!(r!=null&&r[e.id]);let n={};if(r===!0?Object.keys(o.getRowModel().rowsById).forEach(l=>{n[l]=!0}):n=r,t=(a=t)!=null?a:!s,!s&&t)return{...n,[e.id]:!0};if(s&&!t){const{[e.id]:l,...i}=n;return i}return r})},e.getIsExpanded=()=>{var t;const r=o.getState().expanded;return!!((t=o.options.getIsRowExpanded==null?void 0:o.options.getIsRowExpanded(e))!=null?t:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var t,r,a;return(t=o.options.getRowCanExpand==null?void 0:o.options.getRowCanExpand(e))!=null?t:((r=o.options.enableExpanding)!=null?r:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let t=!0,r=e;for(;t&&r.parentId;)r=o.getRow(r.parentId,!0),t=r.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Jo=0,Zo=10,Po=()=>({pageIndex:Jo,pageSize:Zo}),Ec={getInitialState:e=>({...e,pagination:{...Po(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:St("pagination",e)}),createTable:e=>{let o=!1,t=!1;e._autoResetPageIndex=()=>{var r,a;if(!o){e._queue(()=>{o=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=r=>{const a=s=>Gt(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=r=>{var a;e.setPagination(r?Po():(a=e.initialState.pagination)!=null?a:Po())},e.setPageIndex=r=>{e.setPagination(a=>{let s=Gt(r,a.pageIndex);const n=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,n)),{...a,pageIndex:s}})},e.resetPageIndex=r=>{var a,s;e.setPageIndex(r?Jo:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?a:Jo)},e.resetPageSize=r=>{var a,s;e.setPageSize(r?Zo:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?a:Zo)},e.setPageSize=r=>{e.setPagination(a=>{const s=Math.max(1,Gt(r,a.pageSize)),n=a.pageSize*a.pageIndex,l=Math.floor(n/s);return{...a,pageIndex:l,pageSize:s}})},e.setPageCount=r=>e.setPagination(a=>{var s;let n=Gt(r,(s=e.options.pageCount)!=null?s:-1);return typeof n=="number"&&(n=Math.max(-1,n)),{...a,pageCount:n}}),e.getPageOptions=ve(()=>[e.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((s,n)=>n)),a},he(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:r<a-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Do=()=>({top:[],bottom:[]}),Rc={getInitialState:e=>({rowPinning:Do(),...e}),getDefaultOptions:e=>({onRowPinningChange:St("rowPinning",e)}),createRow:(e,o)=>{e.pin=(t,r,a)=>{const s=r?e.getLeafRows().map(i=>{let{id:u}=i;return u}):[],n=a?e.getParentRows().map(i=>{let{id:u}=i;return u}):[],l=new Set([...n,e.id,...s]);o.setRowPinning(i=>{var u,d;if(t==="bottom"){var c,p;return{top:((c=i==null?void 0:i.top)!=null?c:[]).filter(h=>!(l!=null&&l.has(h))),bottom:[...((p=i==null?void 0:i.bottom)!=null?p:[]).filter(h=>!(l!=null&&l.has(h))),...Array.from(l)]}}if(t==="top"){var f,m;return{top:[...((f=i==null?void 0:i.top)!=null?f:[]).filter(h=>!(l!=null&&l.has(h))),...Array.from(l)],bottom:((m=i==null?void 0:i.bottom)!=null?m:[]).filter(h=>!(l!=null&&l.has(h)))}}return{top:((u=i==null?void 0:i.top)!=null?u:[]).filter(h=>!(l!=null&&l.has(h))),bottom:((d=i==null?void 0:i.bottom)!=null?d:[]).filter(h=>!(l!=null&&l.has(h)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:r,enablePinning:a}=o.options;return typeof r=="function"?r(e):(t=r??a)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:r,bottom:a}=o.getState().rowPinning,s=t.some(l=>r==null?void 0:r.includes(l)),n=t.some(l=>a==null?void 0:a.includes(l));return s?"top":n?"bottom":!1},e.getPinnedIndex=()=>{var t,r;const a=e.getIsPinned();if(!a)return-1;const s=(t=a==="top"?o.getTopRows():o.getBottomRows())==null?void 0:t.map(n=>{let{id:l}=n;return l});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=o=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(o),e.resetRowPinning=o=>{var t,r;return e.setRowPinning(o?Do():(t=(r=e.initialState)==null?void 0:r.rowPinning)!=null?t:Do())},e.getIsSomeRowsPinned=o=>{var t;const r=e.getState().rowPinning;if(!o){var a,s;return!!((a=r.top)!=null&&a.length||(s=r.bottom)!=null&&s.length)}return!!((t=r[o])!=null&&t.length)},e._getPinnedRows=(o,t,r)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(t??[]).map(n=>{const l=e.getRow(n,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(n=>o.find(l=>l.id===n))).filter(Boolean).map(n=>({...n,position:r}))},e.getTopRows=ve(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(o,t)=>e._getPinnedRows(o,t,"top"),he(e.options,"debugRows")),e.getBottomRows=ve(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(o,t)=>e._getPinnedRows(o,t,"bottom"),he(e.options,"debugRows")),e.getCenterRows=ve(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(o,t,r)=>{const a=new Set([...t??[],...r??[]]);return o.filter(s=>!a.has(s.id))},he(e.options,"debugRows"))}},Ic={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:St("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=o=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(o),e.resetRowSelection=o=>{var t;return e.setRowSelection(o?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=o=>{e.setRowSelection(t=>{o=typeof o<"u"?o:!e.getIsAllRowsSelected();const r={...t},a=e.getPreGroupedRowModel().flatRows;return o?a.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):a.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=o=>e.setRowSelection(t=>{const r=typeof o<"u"?o:!e.getIsAllPageRowsSelected(),a={...t};return e.getRowModel().rows.forEach(s=>{er(a,s.id,r,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ve(()=>[e.getState().rowSelection,e.getCoreRowModel()],(o,t)=>Object.keys(o).length?Oo(e,t):{rows:[],flatRows:[],rowsById:{}},he(e.options,"debugTable")),e.getFilteredSelectedRowModel=ve(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(o,t)=>Object.keys(o).length?Oo(e,t):{rows:[],flatRows:[],rowsById:{}},he(e.options,"debugTable")),e.getGroupedSelectedRowModel=ve(()=>[e.getState().rowSelection,e.getSortedRowModel()],(o,t)=>Object.keys(o).length?Oo(e,t):{rows:[],flatRows:[],rowsById:{}},he(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const o=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let r=!!(o.length&&Object.keys(t).length);return r&&o.some(a=>a.getCanSelect()&&!t[a.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const o=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:t}=e.getState();let r=!!o.length;return r&&o.some(a=>!t[a.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var o;const t=Object.keys((o=e.getState().rowSelection)!=null?o:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const o=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:o.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>o=>{e.toggleAllRowsSelected(o.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>o=>{e.toggleAllPageRowsSelected(o.target.checked)}},createRow:(e,o)=>{e.toggleSelected=(t,r)=>{const a=e.getIsSelected();o.setRowSelection(s=>{var n;if(t=typeof t<"u"?t:!a,e.getCanSelect()&&a===t)return s;const l={...s};return er(l,e.id,t,(n=r==null?void 0:r.selectChildren)!=null?n:!0,o),l})},e.getIsSelected=()=>{const{rowSelection:t}=o.getState();return Cr(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=o.getState();return tr(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=o.getState();return tr(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof o.options.enableRowSelection=="function"?o.options.enableRowSelection(e):(t=o.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof o.options.enableSubRowSelection=="function"?o.options.enableSubRowSelection(e):(t=o.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof o.options.enableMultiRowSelection=="function"?o.options.enableMultiRowSelection(e):(t=o.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return r=>{var a;t&&e.toggleSelected((a=r.target)==null?void 0:a.checked)}}}},er=(e,o,t,r,a)=>{var s;const n=a.getRow(o,!0);t?(n.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),n.getCanSelect()&&(e[o]=!0)):delete e[o],r&&(s=n.subRows)!=null&&s.length&&n.getCanSelectSubRows()&&n.subRows.forEach(l=>er(e,l.id,t,r,a))};function Oo(e,o){const t=e.getState().rowSelection,r=[],a={},s=function(n,l){return n.map(i=>{var u;const d=Cr(i,t);if(d&&(r.push(i),a[i.id]=i),(u=i.subRows)!=null&&u.length&&(i={...i,subRows:s(i.subRows)}),d)return i}).filter(Boolean)};return{rows:s(o.rows),flatRows:r,rowsById:a}}function Cr(e,o){var t;return(t=o[e.id])!=null?t:!1}function tr(e,o,t){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let a=!0,s=!1;return e.subRows.forEach(n=>{if(!(s&&!a)&&(n.getCanSelect()&&(Cr(n,o)?s=!0:a=!1),n.subRows&&n.subRows.length)){const l=tr(n,o);l==="all"?s=!0:(l==="some"&&(s=!0),a=!1)}}),a?"all":s?"some":!1}const nr=/([0-9]+)/gm,Pc=(e,o,t)=>ja(zt(e.getValue(t)).toLowerCase(),zt(o.getValue(t)).toLowerCase()),Dc=(e,o,t)=>ja(zt(e.getValue(t)),zt(o.getValue(t))),Oc=(e,o,t)=>$r(zt(e.getValue(t)).toLowerCase(),zt(o.getValue(t)).toLowerCase()),Tc=(e,o,t)=>$r(zt(e.getValue(t)),zt(o.getValue(t))),Mc=(e,o,t)=>{const r=e.getValue(t),a=o.getValue(t);return r>a?1:r<a?-1:0},Fc=(e,o,t)=>$r(e.getValue(t),o.getValue(t));function $r(e,o){return e===o?0:e>o?1:-1}function zt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ja(e,o){const t=e.split(nr).filter(Boolean),r=o.split(nr).filter(Boolean);for(;t.length&&r.length;){const a=t.shift(),s=r.shift(),n=parseInt(a,10),l=parseInt(s,10),i=[n,l].sort();if(isNaN(i[0])){if(a>s)return 1;if(s>a)return-1;continue}if(isNaN(i[1]))return isNaN(n)?-1:1;if(n>l)return 1;if(l>n)return-1}return t.length-r.length}const mn={alphanumeric:Pc,alphanumericCaseSensitive:Dc,text:Oc,textCaseSensitive:Tc,datetime:Mc,basic:Fc},Ac={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:St("sorting",e),isMultiSortEvent:o=>o.shiftKey}),createColumn:(e,o)=>{e.getAutoSortingFn=()=>{const t=o.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of t){const s=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return mn.datetime;if(typeof s=="string"&&(r=!0,s.split(nr).length>1))return mn.alphanumeric}return r?mn.text:mn.basic},e.getAutoSortDir=()=>{const t=o.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,r;if(!e)throw new Error;return So(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(r=o.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?t:mn[e.columnDef.sortingFn]},e.toggleSorting=(t,r)=>{const a=e.getNextSortingOrder(),s=typeof t<"u"&&t!==null;o.setSorting(n=>{const l=n==null?void 0:n.find(f=>f.id===e.id),i=n==null?void 0:n.findIndex(f=>f.id===e.id);let u=[],d,c=s?t:a==="desc";if(n!=null&&n.length&&e.getCanMultiSort()&&r?l?d="toggle":d="add":n!=null&&n.length&&i!==n.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(s||a||(d="remove")),d==="add"){var p;u=[...n,{id:e.id,desc:c}],u.splice(0,u.length-((p=o.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=n.map(f=>f.id===e.id?{...f,desc:c}:f):d==="remove"?u=n.filter(f=>f.id!==e.id):u=[{id:e.id,desc:c}];return u})},e.getFirstSortDir=()=>{var t,r;return((t=(r=e.columnDef.sortDescFirst)!=null?r:o.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var r,a;const s=e.getFirstSortDir(),n=e.getIsSorted();return n?n!==s&&((r=o.options.enableSortingRemoval)==null||r)&&(!(t&&(a=o.options.enableMultiRemove)!=null)||a)?!1:n==="desc"?"asc":"desc":s},e.getCanSort=()=>{var t,r;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((r=o.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,r;return(t=(r=e.columnDef.enableMultiSort)!=null?r:o.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const r=(t=o.getState().sorting)==null?void 0:t.find(a=>a.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,r;return(t=(r=o.getState().sorting)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?t:-1},e.clearSorting=()=>{o.setSorting(t=>t!=null&&t.length?t.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return r=>{t&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?o.options.isMultiSortEvent==null?void 0:o.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=o=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(o),e.resetSorting=o=>{var t,r;e.setSorting(o?[]:(t=(r=e.initialState)==null?void 0:r.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Vc=[nc,Sc,vc,hc,oc,rc,wc,Cc,Ac,gc,$c,Ec,Rc,Ic,xc];function Lc(e){var o,t;const r=[...Vc,...(o=e._features)!=null?o:[]];let a={_features:r};const s=a._features.reduce((p,f)=>Object.assign(p,f.getDefaultOptions==null?void 0:f.getDefaultOptions(a)),{}),n=p=>a.options.mergeOptions?a.options.mergeOptions(s,p):{...s,...p};let i={...{},...(t=e.initialState)!=null?t:{}};a._features.forEach(p=>{var f;i=(f=p.getInitialState==null?void 0:p.getInitialState(i))!=null?f:i});const u=[];let d=!1;const c={_features:r,options:{...s,...e},initialState:i,_queue:p=>{u.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{a.setState(a.initialState)},setOptions:p=>{const f=Gt(p,a.options);a.options=n(f)},getState:()=>a.options.state,setState:p=>{a.options.onStateChange==null||a.options.onStateChange(p)},_getRowId:(p,f,m)=>{var h;return(h=a.options.getRowId==null?void 0:a.options.getRowId(p,f,m))!=null?h:`${m?[m.id,f].join("."):f}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(p,f)=>{let m=(f?a.getPrePaginationRowModel():a.getRowModel()).rowsById[p];if(!m&&(m=a.getCoreRowModel().rowsById[p],!m))throw new Error;return m},_getDefaultColumnDef:ve(()=>[a.options.defaultColumn],p=>{var f;return p=(f=p)!=null?f:{},{header:m=>{const h=m.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:m=>{var h,y;return(h=(y=m.renderValue())==null||y.toString==null?void 0:y.toString())!=null?h:null},...a._features.reduce((m,h)=>Object.assign(m,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...p}},he(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:ve(()=>[a._getColumnDefs()],p=>{const f=function(m,h,y){return y===void 0&&(y=0),m.map(x=>{const S=tc(a,x,y,h),R=x;return S.columns=R.columns?f(R.columns,S,y+1):[],S})};return f(p)},he(e,"debugColumns")),getAllFlatColumns:ve(()=>[a.getAllColumns()],p=>p.flatMap(f=>f.getFlatColumns()),he(e,"debugColumns")),_getAllFlatColumnsById:ve(()=>[a.getAllFlatColumns()],p=>p.reduce((f,m)=>(f[m.id]=m,f),{}),he(e,"debugColumns")),getAllLeafColumns:ve(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(p,f)=>{let m=p.flatMap(h=>h.getLeafColumns());return f(m)},he(e,"debugColumns")),getColumn:p=>a._getAllFlatColumnsById()[p]};Object.assign(a,c);for(let p=0;p<a._features.length;p++){const f=a._features[p];f==null||f.createTable==null||f.createTable(a)}return a}function Bc(){return e=>ve(()=>[e.options.data],o=>{const t={rows:[],flatRows:[],rowsById:{}},r=function(a,s,n){s===void 0&&(s=0);const l=[];for(let u=0;u<a.length;u++){const d=Sr(e,e._getRowId(a[u],u,n),a[u],u,s,void 0,n==null?void 0:n.id);if(t.flatRows.push(d),t.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var i;d.originalSubRows=e.options.getSubRows(a[u],u),(i=d.originalSubRows)!=null&&i.length&&(d.subRows=r(d.originalSubRows,s+1,d))}}return l};return t.rows=r(o),t},he(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Nc(e){const o=[],t=r=>{var a;o.push(r),(a=r.subRows)!=null&&a.length&&r.getIsExpanded()&&r.subRows.forEach(t)};return e.rows.forEach(t),{rows:o,flatRows:e.flatRows,rowsById:e.rowsById}}function jc(e,o,t){return t.options.filterFromLeafRows?kc(e,o,t):Uc(e,o,t)}function kc(e,o,t){var r;const a=[],s={},n=(r=t.options.maxLeafRowFilterDepth)!=null?r:100,l=function(i,u){u===void 0&&(u=0);const d=[];for(let p=0;p<i.length;p++){var c;let f=i[p];const m=Sr(t,f.id,f.original,f.index,f.depth,void 0,f.parentId);if(m.columnFilters=f.columnFilters,(c=f.subRows)!=null&&c.length&&u<n){if(m.subRows=l(f.subRows,u+1),f=m,o(f)&&!m.subRows.length){d.push(f),s[f.id]=f,a.push(f);continue}if(o(f)||m.subRows.length){d.push(f),s[f.id]=f,a.push(f);continue}}else f=m,o(f)&&(d.push(f),s[f.id]=f,a.push(f))}return d};return{rows:l(e),flatRows:a,rowsById:s}}function Uc(e,o,t){var r;const a=[],s={},n=(r=t.options.maxLeafRowFilterDepth)!=null?r:100,l=function(i,u){u===void 0&&(u=0);const d=[];for(let p=0;p<i.length;p++){let f=i[p];if(o(f)){var c;if((c=f.subRows)!=null&&c.length&&u<n){const h=Sr(t,f.id,f.original,f.index,f.depth,void 0,f.parentId);h.subRows=l(f.subRows,u+1),f=h}d.push(f),a.push(f),s[f.id]=f}}return d};return{rows:l(e),flatRows:a,rowsById:s}}function Gc(){return e=>ve(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(o,t,r)=>{if(!o.rows.length||!(t!=null&&t.length)&&!r){for(let p=0;p<o.flatRows.length;p++)o.flatRows[p].columnFilters={},o.flatRows[p].columnFiltersMeta={};return o}const a=[],s=[];(t??[]).forEach(p=>{var f;const m=e.getColumn(p.id);if(!m)return;const h=m.getFilterFn();h&&a.push({id:p.id,filterFn:h,resolvedValue:(f=h.resolveFilterValue==null?void 0:h.resolveFilterValue(p.value))!=null?f:p.value})});const n=(t??[]).map(p=>p.id),l=e.getGlobalFilterFn(),i=e.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&l&&i.length&&(n.push("__global__"),i.forEach(p=>{var f;s.push({id:p.id,filterFn:l,resolvedValue:(f=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?f:r})}));let u,d;for(let p=0;p<o.flatRows.length;p++){const f=o.flatRows[p];if(f.columnFilters={},a.length)for(let m=0;m<a.length;m++){u=a[m];const h=u.id;f.columnFilters[h]=u.filterFn(f,h,u.resolvedValue,y=>{f.columnFiltersMeta[h]=y})}if(s.length){for(let m=0;m<s.length;m++){d=s[m];const h=d.id;if(d.filterFn(f,h,d.resolvedValue,y=>{f.columnFiltersMeta[h]=y})){f.columnFilters.__global__=!0;break}}f.columnFilters.__global__!==!0&&(f.columnFilters.__global__=!1)}}const c=p=>{for(let f=0;f<n.length;f++)if(p.columnFilters[n[f]]===!1)return!1;return!0};return jc(o.rows,c,e)},he(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Hc(e){return o=>ve(()=>[o.getState().pagination,o.getPrePaginationRowModel(),o.options.paginateExpandedRows?void 0:o.getState().expanded],(t,r)=>{if(!r.rows.length)return r;const{pageSize:a,pageIndex:s}=t;let{rows:n,flatRows:l,rowsById:i}=r;const u=a*s,d=u+a;n=n.slice(u,d);let c;o.options.paginateExpandedRows?c={rows:n,flatRows:l,rowsById:i}:c=Nc({rows:n,flatRows:l,rowsById:i}),c.flatRows=[];const p=f=>{c.flatRows.push(f),f.subRows.length&&f.subRows.forEach(p)};return c.rows.forEach(p),c},he(o.options,"debugTable"))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Kn(){return!0}const zc=Symbol("merge-proxy"),Kc={get(e,o,t){return o===zc?t:e.get(o)},has(e,o){return e.has(o)},set:Kn,deleteProperty:Kn,getOwnPropertyDescriptor(e,o){return{configurable:!0,enumerable:!0,get(){return e.get(o)},set:Kn,deleteProperty:Kn}},ownKeys(e){return e.keys()}};function To(e){return"value"in e?e.value:e}function bn(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return new Proxy({get(r){for(let a=o.length-1;a>=0;a--){const s=To(o[a])[r];if(s!==void 0)return s}},has(r){for(let a=o.length-1;a>=0;a--)if(r in To(o[a]))return!0;return!1},keys(){const r=[];for(let a=0;a<o.length;a++)r.push(...Object.keys(To(o[a])));return[...Array.from(new Set(r))]}},Kc)}function Vr(e){return bn(e,{data:g(e.data)})}function Wc(e){const o=gr(e.data),t=bn({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(s,n){return o?{...s,...n}:bn(s,n)}},o?Vr(e):e),r=Lc(t);if(o){const s=Jr(e.data);Xe(s,()=>{r.setState(n=>({...n,data:s.value}))},{immediate:!0})}const a=K(r.initialState);return ea(()=>{r.setOptions(s=>{var n;const l=new Proxy({},{get:(i,u)=>a.value[u]});return bn(s,o?Vr(e):e,{state:bn(l,(n=e.state)!=null?n:{}),onStateChange:i=>{i instanceof Function?a.value=i(a.value):a.value=i,e.onStateChange==null||e.onStateChange(i)}})})}),r}const Dn=ne({__name:"Table",props:{wrapperClass:{}},setup(e){const o=Dt();return(t,r)=>($(),F("div",{class:Ae(["overflow-x-auto rounded-lg border border-slate-200 bg-white shadow-sm",e.wrapperClass])},[v("table",Le({class:"min-w-full border-collapse text-left table-fixed"},g(o)),[ie(t.$slots,"default")],16)],2))}}),On=ne({__name:"TableHeader",props:{className:{}},setup(e){const o=Dt();return(t,r)=>($(),F("thead",Le({class:["bg-slate-50/50 border-b border-slate-200",e.className]},g(o)),[ie(t.$slots,"default")],16))}}),Tn=ne({__name:"TableBody",props:{className:{}},setup(e){const o=Dt();return(t,r)=>($(),F("tbody",Le({class:["bg-white",e.className]},g(o)),[ie(t.$slots,"default")],16))}}),it=ne({__name:"TableRow",props:{className:{}},setup(e){const o=Dt();return(t,r)=>($(),F("tr",Le({class:["border-b border-slate-100 last:border-b-0 hover:bg-slate-50/50 transition-colors duration-150",e.className]},g(o)),[ie(t.$slots,"default")],16))}}),Qe=ne({__name:"TableHead",props:{className:{}},setup(e){const o=Dt();return(t,r)=>($(),F("th",Le({class:["px-2 py-2.5 text-[11px] font-bold uppercase tracking-wider text-slate-500 border-r border-slate-200 last:border-r-0 bg-slate-50/50 text-left",e.className],scope:"col"},g(o)),[ie(t.$slots,"default")],16))}}),Ee=ne({__name:"TableCell",props:{className:{}},setup(e){const o=Dt();return(t,r)=>($(),F("td",Le({class:["px-2 py-2 text-sm text-slate-600 border-r border-slate-100 last:border-r-0 align-top text-left",e.className]},g(o)),[ie(t.$slots,"default")],16))}}),or=ne({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const o=e;return(t,r)=>($(),te(g(Ni),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),rr=ne({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"right"},sideOffset:{default:8},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},setup(e){const o=e,t=xe(()=>{const{class:r,...a}=o;return a});return(r,a)=>($(),te(g(ji),null,{default:C(()=>[w(g(ki),Le(t.value,{class:"z-[9999] overflow-hidden rounded-md bg-white border border-slate-200 px-3 py-1.5 text-sm text-slate-700 shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=right]:slide-in-from-left-2"}),{default:C(()=>[ie(r.$slots,"default")]),_:3},16)]),_:3}))}}),ka=ne({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const o=e;return(t,r)=>($(),te(g(Ui),nt(ot(o)),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),ar=ne({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const o=e;return(t,r)=>($(),te(g(Gi),Le(o,{"as-child":""}),{default:C(()=>[ie(t.$slots,"default")]),_:3},16))}}),Xc=["answer","description","info","specs"],Nn=e=>Xc.includes(e),sr=e=>e?/^[a-z][a-z0-9_]*$/.test(e):!0,Ua=(e,o,t)=>e?/^[a-z][a-z0-9_]*$/.test(e)?(t?o.filter(a=>a!==t):o).includes(e)?"Такое имя функции уже существует":"":"Только латиница в нижнем регистре, цифры и _":"",Yc=(e,o)=>e==="bool"?"80px":e==="number"?"100px":e==="date"?"120px":Nn(o)?"200px":"140px",_c=(e,o)=>{if(e==null||e==="")return"";switch(o){case"number":return typeof e=="number"?e.toLocaleString("ru-RU"):String(e);case"date":if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,r,a]=e.split("-");return`${a}.${r}.${t}`}return String(e);case"bool":return e?"Да":"Нет";default:return String(e)}},Ga=(e,o)=>({question:"Введите вопрос...",answer:"Введите ответ...",name:"Введите название...",description:"Введите описание...",topic:"Введите тему...",info:"Введите информацию...",specs:"Введите характеристики..."})[e]||`Введите ${o.toLowerCase()}...`,qc={class:"flex flex-wrap items-center justify-between gap-3 bg-background rounded-md border border-border p-3"},Qc={class:"flex items-center gap-2"},Jc=["disabled"],Zc={disabled:"",class:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors opacity-50 cursor-not-allowed"},ef=["disabled"],tf={class:"flex items-center gap-2"},nf={class:"relative"},of=["value"],rf=ne({__name:"DirectoryDetailToolbar",props:{addDisabled:{type:Boolean},hasItems:{type:Boolean},selectedCount:{},searchQuery:{}},emits:["addRow","import","export","deleteSelected","update:searchQuery"],setup(e){return(o,t)=>($(),F("div",qc,[v("div",Qc,[v("button",{onClick:t[0]||(t[0]=r=>o.$emit("addRow")),disabled:e.addDisabled,class:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[w(g(ho),{class:"w-4 h-4"}),t[4]||(t[4]=ee(" Добавить ",-1))],8,Jc),v("button",Zc,[w(g(ha),{class:"w-4 h-4"}),t[5]||(t[5]=ee(" Загрузить CSV ",-1))]),v("button",{onClick:t[1]||(t[1]=r=>o.$emit("export")),class:Ae(["flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-50 transition-colors",{"opacity-50 cursor-not-allowed":!e.hasItems}]),disabled:!e.hasItems},[w(g(yu),{class:"w-4 h-4"}),t[6]||(t[6]=ee(" Экспорт ",-1))],10,ef)]),v("div",tf,[e.selectedCount>0?($(),F("button",{key:0,onClick:t[2]||(t[2]=r=>o.$emit("deleteSelected")),class:"flex items-center gap-2 px-4 py-2 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 transition-colors"},[w(g(cn),{class:"w-4 h-4"}),ee(" Удалить ("+X(e.selectedCount)+") ",1)])):ue("",!0),v("div",nf,[w(g(In),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),v("input",{value:e.searchQuery,onInput:t[3]||(t[3]=r=>o.$emit("update:searchQuery",r.target.value)),type:"text",placeholder:"Поиск...",class:"pl-9 pr-4 py-2 w-48 text-sm border border-slate-200 rounded-lg bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 transition-all"},null,40,of)])])]))}}),af={key:0,class:"relative"},sf=["value","placeholder"],lf=["value","placeholder"],uf=["value"],df={key:3,class:"flex items-center gap-2 px-2 py-1.5 cursor-pointer bg-indigo-50/50 rounded"},cf=["checked"],ff={class:"text-xs font-medium text-indigo-700"},pf=["value","placeholder"],gf={key:5,class:"absolute right-2 top-1/2 -translate-y-1/2"},mf={key:0,class:"flex items-center gap-1.5"},vf={key:1,class:"line-clamp-2 leading-tight"},hf=ne({__name:"EditableCell",props:{column:{},displayValue:{},modelValue:{},editing:{type:Boolean},saving:{type:Boolean}},emits:["update:modelValue","startEdit","blur","keydown","save"],setup(e,{expose:o}){const t=e,r=K(null),a=xe(()=>Nn(t.column.name)),s=xe(()=>_c(t.displayValue,t.column.type));return Xe(()=>t.editing,n=>{n&&bt(()=>{var i,u,d,c;const l=r.value;l&&(Array.isArray(l)?((i=l[0])==null||i.focus(),(d=(u=l[0])==null?void 0:u.select)==null||d.call(u)):(l.focus(),(c=l.select)==null||c.call(l)))})}),o({inputRef:r}),(n,l)=>e.editing?($(),F("div",af,[e.column.type==="text"&&a.value?($(),F("textarea",{key:0,ref_key:"inputRef",ref:r,value:e.modelValue,onInput:l[0]||(l[0]=i=>n.$emit("update:modelValue",i.target.value)),placeholder:e.column.label,rows:"3",class:"w-full px-2 py-1.5 text-sm border-2 border-indigo-500 rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100 resize-none",onBlur:l[1]||(l[1]=i=>n.$emit("blur")),onKeydown:l[2]||(l[2]=i=>n.$emit("keydown",i))},null,40,sf)):e.column.type==="number"?($(),F("input",{key:1,ref_key:"inputRef",ref:r,value:e.modelValue,onInput:l[3]||(l[3]=i=>n.$emit("update:modelValue",Number(i.target.value))),type:"number",step:"any",placeholder:e.column.label,class:"w-full px-2 py-1.5 text-sm border-2 border-indigo-500 rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100 font-mono",onBlur:l[4]||(l[4]=i=>n.$emit("blur")),onKeydown:l[5]||(l[5]=i=>n.$emit("keydown",i))},null,40,lf)):e.column.type==="date"?($(),F("input",{key:2,ref_key:"inputRef",ref:r,value:e.modelValue,onInput:l[6]||(l[6]=i=>n.$emit("update:modelValue",i.target.value)),type:"date",class:"w-full px-2 py-1.5 text-sm border-2 border-indigo-500 rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100",onBlur:l[7]||(l[7]=i=>n.$emit("blur")),onKeydown:l[8]||(l[8]=i=>n.$emit("keydown",i))},null,40,uf)):e.column.type==="bool"?($(),F("label",df,[v("input",{ref_key:"inputRef",ref:r,checked:!!e.modelValue,onChange:l[9]||(l[9]=i=>{n.$emit("update:modelValue",i.target.checked),n.$emit("save")}),type:"checkbox",class:"w-4 h-4 rounded border-indigo-400 text-indigo-600 focus:ring-indigo-500"},null,40,cf),v("span",ff,X(e.modelValue?"Да":"Нет"),1)])):($(),F("input",{key:4,ref_key:"inputRef",ref:r,value:e.modelValue,onInput:l[10]||(l[10]=i=>n.$emit("update:modelValue",i.target.value)),type:"text",placeholder:e.column.label,class:"w-full px-2 py-1.5 text-sm border-2 border-indigo-500 rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100",onBlur:l[11]||(l[11]=i=>n.$emit("blur")),onKeydown:l[12]||(l[12]=i=>n.$emit("keydown",i))},null,40,pf)),e.saving?($(),F("div",gf,[w(g(Kt),{class:"w-4 h-4 animate-spin text-indigo-500"})])):ue("",!0)])):($(),F("div",{key:1,onClick:l[13]||(l[13]=i=>n.$emit("startEdit")),class:Ae(["px-2 py-1.5 text-sm text-slate-700 rounded cursor-pointer hover:bg-slate-100/80 transition-colors min-h-[32px] flex items-center",{"font-mono":e.column.type==="number","text-slate-400 italic":e.displayValue===null||e.displayValue===void 0||e.displayValue===""}])},[e.column.type==="bool"?($(),F("span",mf,[v("span",{class:Ae(["w-3.5 h-3.5 rounded flex items-center justify-center text-white text-[10px]",e.displayValue?"bg-green-500":"bg-slate-200"])},X(e.displayValue?"✓":""),3),v("span",{class:Ae(["text-xs",e.displayValue?"text-green-700 font-medium":"text-slate-400"])},X(e.displayValue?"Да":"Нет"),3)])):($(),F("span",vf,X(s.value||"Пусто"),1))],2))}}),yf=ta(hf,[["__scopeId","data-v-242ce9d8"]]),xf=ne({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:o}){const a=Ft(e,o);return(s,n)=>($(),te(g(cd),nt(ot(g(a))),{default:C(()=>[ie(s.$slots,"default")]),_:3},16))}}),bf=ne({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:o}){const t=e,r=o,a=Wt(t,"class"),s=Ft(a,r);return(n,l)=>($(),te(g(xd),null,{default:C(()=>[w(g(pd),Le(g(s),{class:g(At)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:C(()=>[ie(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Mo=ne({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const o=e,t=Wt(o,"class"),r=yo(t);return(a,s)=>($(),te(g(md),Le(g(r),{class:g(At)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e.inset&&"pl-8",o.class)}),{default:C(()=>[ie(a.$slots,"default")]),_:3},16,["class"]))}}),Sf=ne({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const o=e,t=Wt(o,"class"),r=yo(t);return(a,s)=>($(),te(g(hd),Le(g(r),{class:g(At)("px-2 py-1.5 text-sm font-semibold",e.inset&&"pl-8",o.class)}),{default:C(()=>[ie(a.$slots,"default")]),_:3},16,["class"]))}}),Lr=ne({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const o=e,t=Wt(o,"class");return(r,a)=>($(),te(g(Sd),Le(g(t),{class:g(At)("-mx-1 my-1 h-px bg-muted",o.class)}),null,16,["class"]))}}),wf=ne({__name:"DropdownMenuShortcut",props:{class:{}},setup(e){const o=e;return(t,r)=>($(),F("span",{class:Ae(g(At)("ml-auto text-xs tracking-widest opacity-60",o.class))},[ie(t.$slots,"default")],2))}}),Cf=ne({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=yo(e);return(r,a)=>($(),te(g(Cd),Le({class:"outline-none"},g(t)),{default:C(()=>[ie(r.$slots,"default")]),_:3},16))}}),$f={class:"select-none truncate flex-1 text-left"},Ef={key:0,class:"text-[10px] text-slate-400 font-mono shrink-0"},Rf={class:"text-xs"},If={class:"font-medium"},Pf={class:"text-muted-foreground ml-1"},Df={class:"text-xs text-muted-foreground mt-0.5"},Of={key:0},Tf={key:1},Mf={class:"font-mono text-slate-400 ml-1 font-normal"},Ff=ne({__name:"ColumnHeaderDropdown",props:{column:{},isOnlyColumn:{type:Boolean}},emits:["dragstart","edit","hide","delete"],setup(e){const o=e,t={text:"Aa",number:"#",date:"📅",bool:"☑"},r={text:"Текст",number:"Число",date:"Дата",bool:"Да/Нет"},a=xe(()=>t[o.column.type]??o.column.type),s=xe(()=>r[o.column.type]??o.column.type);return(n,l)=>($(),te(g(xf),null,{default:C(()=>[w(g(ka),{"delay-duration":500},{default:C(()=>[w(g(or),null,{default:C(()=>[w(g(ar),{"as-child":""},{default:C(()=>[w(g(Cf),{"as-child":""},{default:C(()=>[v("div",{class:"flex items-center gap-1 cursor-pointer group hover:bg-slate-50 -mx-2 px-2 py-1 rounded transition-colors w-full",draggable:"true",onDragstart:l[0]||(l[0]=i=>n.$emit("dragstart",i))},[w(g(ga),{class:"w-3 h-3 text-slate-300 group-hover:text-slate-500 shrink-0"}),v("span",$f,X(e.column.label),1),e.column.type!=="text"?($(),F("span",Ef,X(a.value),1)):ue("",!0),w(g(su),{class:"w-3 h-3 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity shrink-0"})],32)]),_:1})]),_:1}),w(g(rr),{side:"top","side-offset":8},{default:C(()=>[v("p",Rf,[v("span",If,X(e.column.label),1),v("span",Pf,"("+X(e.column.name)+")",1)]),v("p",Df,[ee(X(s.value)+" ",1),e.column.required?($(),F("span",Of," •  обязательное")):ue("",!0),e.column.searchable?($(),F("span",Tf," •  поиск")):ue("",!0)])]),_:1})]),_:1})]),_:1}),w(g(bf),{align:"start",class:"w-52"},{default:C(()=>[w(g(Sf),{class:"text-xs"},{default:C(()=>[ee(' Столбец "'+X(e.column.label)+'" ',1),v("span",Mf,X(e.column.name),1)]),_:1}),w(g(Lr)),w(g(Mo),{onClick:l[1]||(l[1]=i=>n.$emit("edit"))},{default:C(()=>[w(g(ra),{class:"w-4 h-4 mr-2"}),l[4]||(l[4]=ee(" Настройки столбца ",-1))]),_:1}),w(g(Mo),{onClick:l[2]||(l[2]=i=>n.$emit("hide"))},{default:C(()=>[w(g(da),{class:"w-4 h-4 mr-2"}),l[6]||(l[6]=ee(" Скрыть столбец ",-1)),w(g(wf),null,{default:C(()=>[...l[5]||(l[5]=[ee("H",-1)])]),_:1})]),_:1}),w(g(Lr)),w(g(Mo),{disabled:e.isOnlyColumn,class:"text-red-600 focus:text-red-600 focus:bg-red-50",onClick:l[3]||(l[3]=i=>n.$emit("delete"))},{default:C(()=>[w(g(cn),{class:"w-4 h-4 mr-2"}),l[7]||(l[7]=ee(" Удалить столбец ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1}))}}),Af=ne({__name:"ContextMenu",props:{pressOpenDelay:{},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:o}){const a=Ft(e,o);return(s,n)=>($(),te(g(qu),nt(ot(g(a))),{default:C(()=>[ie(s.$slots,"default")]),_:3},16))}}),Vf=ne({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideFlip:{type:Boolean},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:o}){const t=e,r=o,a=Wt(t,"class"),s=Ft(a,r);return(n,l)=>($(),te(g(rd),null,{default:C(()=>[w(g(Ju),Le(g(s),{class:g(At)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:C(()=>[ie(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Fo=ne({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(e,{emit:o}){const t=e,r=o,a=Wt(t,"class"),s=Ft(a,r);return(n,l)=>($(),te(g(ed),Le(g(s),{class:g(At)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.inset&&"pl-8",t.class)}),{default:C(()=>[ie(n.$slots,"default")]),_:3},16,["class"]))}}),Lf=ne({__name:"ContextMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const o=e,t=Wt(o,"class");return(r,a)=>($(),te(g(nd),Le(g(t),{class:g(At)("px-2 py-1.5 text-sm font-semibold text-foreground",e.inset&&"pl-8",o.class)}),{default:C(()=>[ie(r.$slots,"default")]),_:3},16,["class"]))}}),Br=ne({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const o=e,t=Wt(o,"class");return(r,a)=>($(),te(g(sd),Le(g(t),{class:g(At)("-mx-1 my-1 h-px bg-border",o.class)}),null,16,["class"]))}}),Ao=ne({__name:"ContextMenuShortcut",props:{class:{}},setup(e){const o=e;return(t,r)=>($(),F("span",{class:Ae(g(At)("ml-auto text-xs tracking-widest text-muted-foreground",o.class))},[ie(t.$slots,"default")],2))}}),Bf=ne({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=yo(e);return(r,a)=>($(),te(g(id),nt(ot(g(t))),{default:C(()=>[ie(r.$slots,"default")]),_:3},16))}}),Nf=e=>{const{delay:o=500,onLongPress:t}=e,r=K(null),a=K(!1),s=i=>{a.value=!1,r.value=setTimeout(()=>{a.value=!0,t()},o)},n=()=>{r.value&&(clearTimeout(r.value),r.value=null)},l=i=>{a.value&&i.preventDefault(),n(),a.value=!1};return co(n),{onTouchstart:s,onTouchend:l,onTouchmove:n,onTouchcancel:n,isLongPressing:a}},jf={class:"py-2 space-y-1"},kf=ne({__name:"RowContextMenu",emits:["edit","duplicate","delete"],setup(e,{emit:o}){const t=o,r=K(!1),{onTouchstart:a,onTouchend:s,onTouchmove:n,onTouchcancel:l}=Nf({delay:500,onLongPress:()=>{r.value=!0}}),i=xe(()=>({onTouchstart:a,onTouchend:s,onTouchmove:n,onTouchcancel:l}));return(u,d)=>($(),F(Ue,null,[w(g(Af),null,{default:C(()=>[w(g(Bf),{"as-child":""},{default:C(()=>[v("div",Le(i.value,{class:"contents"}),[ie(u.$slots,"default")],16)]),_:3}),w(g(Vf),{class:"w-56"},{default:C(()=>[w(g(Lf),{class:"text-xs"},{default:C(()=>[...d[7]||(d[7]=[ee("Действия с записью",-1)])]),_:1}),w(g(Br)),w(g(Fo),{onClick:d[0]||(d[0]=c=>t("edit"))},{default:C(()=>[w(g(_o),{class:"w-4 h-4 mr-2"}),d[9]||(d[9]=ee(" Редактировать ",-1)),w(g(Ao),null,{default:C(()=>[...d[8]||(d[8]=[ee("Enter",-1)])]),_:1})]),_:1}),w(g(Fo),{onClick:d[1]||(d[1]=c=>t("duplicate"))},{default:C(()=>[w(g(Tr),{class:"w-4 h-4 mr-2"}),d[11]||(d[11]=ee(" Дублировать ",-1)),w(g(Ao),null,{default:C(()=>[...d[10]||(d[10]=[ee("Ctrl+D",-1)])]),_:1})]),_:1}),w(g(Br)),w(g(Fo),{class:"text-red-600 focus:text-red-600 focus:bg-red-50",onClick:d[2]||(d[2]=c=>t("delete"))},{default:C(()=>[w(g(cn),{class:"w-4 h-4 mr-2"}),d[13]||(d[13]=ee(" Удалить ",-1)),w(g(Ao),null,{default:C(()=>[...d[12]||(d[12]=[ee("Del",-1)])]),_:1})]),_:1})]),_:1})]),_:3}),w(g(po),{open:r.value,"onUpdate:open":d[6]||(d[6]=c=>r.value=c)},{default:C(()=>[w(g(go),{side:"bottom","class-name":"rounded-t-2xl"},{default:C(()=>[w(g(mo),null,{default:C(()=>[w(g(vo),{class:"text-sm"},{default:C(()=>[...d[14]||(d[14]=[ee("Действия с записью",-1)])]),_:1})]),_:1}),v("div",jf,[v("button",{onClick:d[3]||(d[3]=c=>{r.value=!1,t("edit")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition-colors"},[w(g(_o),{class:"w-5 h-5 text-slate-500"}),d[15]||(d[15]=ee(" Редактировать ",-1))]),v("button",{onClick:d[4]||(d[4]=c=>{r.value=!1,t("duplicate")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition-colors"},[w(g(Tr),{class:"w-5 h-5 text-slate-500"}),d[16]||(d[16]=ee(" Дублировать ",-1))]),d[18]||(d[18]=v("div",{class:"border-t border-slate-100 my-1"},null,-1)),v("button",{onClick:d[5]||(d[5]=c=>{r.value=!1,t("delete")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[w(g(cn),{class:"w-5 h-5"}),d[17]||(d[17]=ee(" Удалить ",-1))])])]),_:1})]),_:1},8,["open"])],64))}}),Uf={class:"flex items-center justify-between"},Gf={class:"flex-1 overflow-y-auto p-6 space-y-6"},Hf={class:"flex items-center gap-1.5 text-sm font-medium text-slate-700"},zf={key:0,class:"text-red-500 text-xs"},Kf={class:"text-xs text-slate-400 font-mono ml-auto"},Wf={key:0,class:"mt-1 flex items-center gap-3 cursor-pointer px-3 py-2 rounded-md border border-slate-200 hover:border-slate-300 transition-all"},Xf=["checked","onChange"],Yf={class:"text-sm text-slate-700"},_f=["onUpdate:modelValue","placeholder"],qf=["onUpdate:modelValue","placeholder"],Qf=["onUpdate:modelValue"],Jf=["onUpdate:modelValue","placeholder"],Zf={key:0,class:"text-center py-8 text-slate-400 text-sm"},ep={class:"flex-shrink-0 border-t border-slate-200 bg-white px-6 py-3"},tp={class:"flex items-center justify-between"},np={key:0,class:"text-xs text-green-600"},op={key:1},rp={class:"flex items-center gap-2"},ap=["disabled"],sp=ne({__name:"AddRowSheet",props:{open:{type:Boolean},columns:{},saving:{type:Boolean}},emits:["update:open","save"],setup(e,{emit:o}){const t=e,r=o,a=K({}),s=K(0),n=K({}),l=xe(()=>Object.values(a.value).some(y=>y!=null&&y!==""&&y!==!1)),i=y=>Nn(y),u=(y,x)=>Ga(y,x),d=(y,x)=>{n.value[y]=x},c=()=>{const y={};t.columns.forEach(x=>{y[x.name]=x.type==="bool"?!1:""}),a.value=y},p=()=>{bt(()=>{var x;const y=t.columns.find(S=>S.type!=="bool");y&&n.value[y.name]&&((x=n.value[y.name])==null||x.focus())})},f=()=>{if(!l.value||t.saving)return;const y={};Object.entries(a.value).forEach(([x,S])=>{S!==""&&S!==null&&S!==void 0&&(y[x]=S)}),r("save",y),s.value++,c(),p()},m=()=>{r("update:open",!1)},h=y=>{y.shiftKey||(y.preventDefault(),f())};return Xe(()=>t.open,y=>{y&&(s.value=0,c(),p())}),(y,x)=>($(),te(g(po),{open:e.open,"onUpdate:open":x[0]||(x[0]=S=>!S&&m())},{default:C(()=>[w(g(go),{side:"right","class-name":"max-w-4xl flex flex-col"},{default:C(()=>[w(g(mo),null,{default:C(()=>[v("div",Uf,[w(g(vo),null,{default:C(()=>[...x[1]||(x[1]=[ee("Новая запись",-1)])]),_:1}),w(g(yr))]),x[2]||(x[2]=v("p",{class:"text-sm text-slate-500 mt-1"}," Заполните поля и нажмите «Сохранить». Форма останется открытой для добавления следующей записи. ",-1))]),_:1}),v("div",Gf,[($(!0),F(Ue,null,ze(e.columns,S=>($(),F("div",{key:S.name},[v("label",Hf,[ee(X(S.label)+" ",1),S.required?($(),F("span",zf,"*")):ue("",!0),v("span",Kf,X(S.name),1)]),S.type==="bool"?($(),F("label",Wf,[v("input",{checked:!!a.value[S.name],onChange:R=>a.value[S.name]=R.target.checked,type:"checkbox",class:"w-5 h-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,Xf),v("span",Yf,X(a.value[S.name]?"Да":"Нет"),1)])):S.type==="text"&&i(S.name)?Me(($(),F("textarea",{key:1,ref_for:!0,ref:R=>d(S.name,R),"onUpdate:modelValue":R=>a.value[S.name]=R,placeholder:u(S.name,S.label),rows:"4",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,8,_f)),[[We,a.value[S.name]]]):S.type==="number"?Me(($(),F("input",{key:2,ref_for:!0,ref:R=>d(S.name,R),"onUpdate:modelValue":R=>a.value[S.name]=R,type:"number",step:"any",placeholder:u(S.name,S.label),class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,8,qf)),[[We,a.value[S.name],void 0,{number:!0}]]):S.type==="date"?Me(($(),F("input",{key:3,ref_for:!0,ref:R=>d(S.name,R),"onUpdate:modelValue":R=>a.value[S.name]=R,type:"date",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,8,Qf)),[[We,a.value[S.name]]]):Me(($(),F("input",{key:4,ref_for:!0,ref:R=>d(S.name,R),"onUpdate:modelValue":R=>a.value[S.name]=R,type:"text",placeholder:u(S.name,S.label),class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",onKeydown:Bn(h,["enter"])},null,40,Jf)),[[We,a.value[S.name]]])]))),128)),e.columns.length===0?($(),F("div",Zf," Нет столбцов. Сначала добавьте столбцы в справочник. ")):ue("",!0)]),v("div",ep,[v("div",tp,[s.value>0?($(),F("p",np," Добавлено записей за сессию: "+X(s.value),1)):($(),F("span",op)),v("div",rp,[v("button",{onClick:m,class:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-md transition-colors"}," Закрыть "),v("button",{onClick:f,class:"px-5 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5",disabled:!l.value||e.saving},[e.saving?($(),te(g(Kt),{key:0,class:"w-3.5 h-3.5 animate-spin"})):ue("",!0),ee(" "+X(e.saving?"Сохранение...":"Сохранить"),1)],8,ap)])])])]),_:1})]),_:1},8,["open"]))}}),lp={class:"flex items-center justify-between"},ip={class:"flex-1 overflow-y-auto p-6 space-y-6"},up={class:"flex items-center gap-1.5 text-sm font-medium text-slate-700"},dp={key:0,class:"text-red-500 text-xs"},cp={class:"text-xs text-slate-400 font-mono ml-auto"},fp={key:0,class:"mt-1 flex items-center gap-3 cursor-pointer px-3 py-2 rounded-md border border-slate-200 hover:border-slate-300 transition-all"},pp=["checked","onChange"],gp={class:"text-sm text-slate-700"},mp=["onUpdate:modelValue","placeholder"],vp=["onUpdate:modelValue","placeholder"],hp=["onUpdate:modelValue"],yp=["onUpdate:modelValue","placeholder"],xp={key:0,class:"text-center py-8 text-slate-400 text-sm"},bp={key:1,class:"text-sm text-red-600"},Sp={class:"flex-shrink-0 border-t border-slate-200 bg-white px-6 py-3"},wp={class:"flex items-center justify-end gap-2"},Cp=["disabled"],$p=ne({__name:"EditRowSheet",props:{open:{type:Boolean},columns:{},item:{},saving:{type:Boolean}},emits:["update:open","save"],setup(e,{expose:o,emit:t}){const r=e,a=t,s=K({}),n=K({}),l=K(""),i=xe(()=>r.columns.some(h=>{const y=s.value[h.name]??"",x=n.value[h.name]??"";return String(y)!==String(x)})),u=h=>Nn(h),d=(h,y)=>Ga(h,y),c=()=>{if(!r.item)return;const h={},y={};r.columns.forEach(x=>{const S=r.item.data[x.name];h[x.name]=S??(x.type==="bool"?!1:""),y[x.name]=S??(x.type==="bool"?!1:"")}),s.value=h,n.value=y},p=()=>{if(!i.value||r.saving||!r.item)return;l.value="";const h={};r.columns.forEach(y=>{const x=s.value[y.name];h[y.name]=x===""?null:x}),a("save",r.item.id,h)},f=()=>{l.value="",a("update:open",!1)},m=h=>{h.shiftKey||(h.preventDefault(),p())};return Xe(()=>r.open,h=>{h&&r.item&&(l.value="",c())}),o({setError:h=>{l.value=h}}),(h,y)=>($(),te(g(po),{open:e.open,"onUpdate:open":y[0]||(y[0]=x=>!x&&f())},{default:C(()=>[w(g(go),{side:"right","class-name":"max-w-4xl flex flex-col"},{default:C(()=>[w(g(mo),null,{default:C(()=>[v("div",lp,[w(g(vo),null,{default:C(()=>[...y[1]||(y[1]=[ee("Редактирование записи",-1)])]),_:1}),w(g(yr))])]),_:1}),v("div",ip,[($(!0),F(Ue,null,ze(e.columns,x=>($(),F("div",{key:x.name},[v("label",up,[ee(X(x.label)+" ",1),x.required?($(),F("span",dp,"*")):ue("",!0),v("span",cp,X(x.name),1)]),x.type==="bool"?($(),F("label",fp,[v("input",{checked:!!s.value[x.name],onChange:S=>s.value[x.name]=S.target.checked,type:"checkbox",class:"w-5 h-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,pp),v("span",gp,X(s.value[x.name]?"Да":"Нет"),1)])):x.type==="text"&&u(x.name)?Me(($(),F("textarea",{key:1,"onUpdate:modelValue":S=>s.value[x.name]=S,placeholder:d(x.name,x.label),rows:"4",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,8,mp)),[[We,s.value[x.name]]]):x.type==="number"?Me(($(),F("input",{key:2,"onUpdate:modelValue":S=>s.value[x.name]=S,type:"number",step:"any",placeholder:d(x.name,x.label),class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,8,vp)),[[We,s.value[x.name],void 0,{number:!0}]]):x.type==="date"?Me(($(),F("input",{key:3,"onUpdate:modelValue":S=>s.value[x.name]=S,type:"date",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,8,hp)),[[We,s.value[x.name]]]):Me(($(),F("input",{key:4,"onUpdate:modelValue":S=>s.value[x.name]=S,type:"text",placeholder:d(x.name,x.label),class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",onKeydown:Bn(m,["enter"])},null,40,yp)),[[We,s.value[x.name]]])]))),128)),e.columns.length===0?($(),F("div",xp," Нет столбцов для редактирования. ")):ue("",!0),l.value?($(),F("p",bp,X(l.value),1)):ue("",!0)]),v("div",Sp,[v("div",wp,[v("button",{onClick:f,class:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-md transition-colors"}," Отмена "),v("button",{onClick:p,class:"px-5 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5",disabled:!i.value||e.saving},[e.saving?($(),te(g(Kt),{key:0,class:"w-3.5 h-3.5 animate-spin"})):ue("",!0),ee(" "+X(e.saving?"Сохранение...":"Сохранить"),1)],8,Cp)])])]),_:1})]),_:1},8,["open"]))}}),Ep={class:"space-y-4"},Rp={class:"flex items-center justify-between gap-4"},Ip={class:"flex items-center gap-3 min-w-0"},Pp={class:"min-w-0"},Dp={class:"text-lg font-bold text-slate-900 truncate"},Op={class:"text-xs text-slate-500"},Tp={class:"font-mono text-slate-400"},Mp={key:0,class:"flex items-center justify-between gap-4 flex-wrap"},Fp={class:"text-xs text-slate-400 flex items-center gap-1.5"},Ap={class:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-slate-100 rounded text-slate-500"},Vp={class:"flex items-center gap-2"},Lp=["disabled"],Bp=["disabled"],Np={key:1,class:"flex justify-center py-12"},jp={key:2,class:"shadow-sm"},kp={class:"text-xs font-semibold text-slate-500 uppercase tracking-wide"},Up={class:"flex flex-col items-center"},Gp={class:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mb-3"},Hp={key:3,class:"bg-background rounded-md border border-border p-8 text-center"},zp={class:"text-slate-500"},Kp={key:4,class:"shadow-sm"},Wp={class:"flex items-center justify-center gap-1 h-full"},Xp=["checked","indeterminate"],Yp=["onMousedown","onTouchstart","onDblclick"],_p={class:"flex justify-center"},qp={class:"flex items-center justify-center gap-1 h-full"},Qp=["onClick"],Jp=["checked","onChange"],Zp={class:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},eg=["onClick"],tg={key:0,class:"flex items-center justify-between px-4 py-3 border-t border-slate-100 bg-slate-50"},ng={class:"text-sm text-slate-500"},og={class:"flex items-center gap-1"},rg=["disabled"],ag=["onClick"],sg=["disabled"],lg=50,ig=ne({__name:"DirectoryDetail",props:{directory:{},items:{},loading:{type:Boolean},onUpdateItem:{type:Function}},emits:["back","settings","import","export","update","create","delete","deleteSelected","addColumn","deleteColumn","updateColumns"],setup(e,{emit:o}){const t=e,r=o,a=K(null),s=K(""),n=K(""),l=K(!1),i=K(null),u=K([]),d=K([]),c=K(new Set),p=K(!1),f=K(!1),m=K(!1),h=K(null),y=K(!1),x=K(""),S=K({}),R=xe(()=>t.directory.columns||[]),D=xe(()=>R.value.filter(A=>!c.value.has(A.name))),T=K([]),V=K(null),Q=K(null);Xe(()=>t.directory.columns,A=>{if(A&&A.length>0){const k=T.value.filter(le=>A.some(I=>I.name===le)),z=A.map(le=>le.name).filter(le=>!k.includes(le));T.value=[...k,...z]}},{immediate:!0});const U=xe(()=>{const A=D.value;return T.value.length===0?A:T.value.map(k=>A.find(z=>z.name===k)).filter(k=>k!==void 0)}),b=A=>A.type==="bool"?80:A.type==="number"?100:A.type==="date"?120:Nn(A.name)?200:140,E=xe(()=>U.value.map(A=>({id:A.name,accessorFn:k=>k.data[A.name],header:A.label,meta:A,filterFn:"includesString",size:b(A),minSize:40,maxSize:500}))),M=Wc({get data(){return t.items},get columns(){return E.value},state:{get globalFilter(){return x.value},get rowSelection(){return S.value}},onGlobalFilterChange:A=>{x.value=typeof A=="function"?A(x.value):A},onRowSelectionChange:A=>{S.value=typeof A=="function"?A(S.value):A},columnResizeMode:"onChange",getCoreRowModel:Bc(),getFilteredRowModel:Gc(),getPaginationRowModel:Hc(),getRowId:A=>A.id,globalFilterFn:(A,k,z)=>{const le=String(z).toLowerCase();return R.value.some(I=>{const O=A.original.data[I.name];return O&&String(O).toLowerCase().includes(le)})},initialState:{pagination:{pageSize:10}}}),re=xe(()=>Object.keys(S.value).filter(A=>S.value[A])),B=xe(()=>Oa(t.directory.items_count,["запись","записи","записей"])),j=A=>Yc(A.type,A.name),H=A=>{var k;return((k=M.getColumn(A))==null?void 0:k.getSize())??140},N=A=>{A.column.resetSize()},J=xe(()=>{const A=[],k=M.getPageCount(),z=M.getState().pagination.pageIndex+1;if(k<=5)for(let le=1;le<=k;le++)A.push(le);else z<=3?A.push(1,2,3,4,5):z>=k-2?A.push(k-4,k-3,k-2,k-1,k):A.push(z-2,z-1,z,z+1,z+2);return A}),de=(A,k)=>{V.value=k,A.dataTransfer&&(A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",String(k)))},Ce=(A,k)=>{A.preventDefault(),A.dataTransfer&&(A.dataTransfer.dropEffect="move")},Ve=()=>{},Oe=(A,k)=>{if(A.preventDefault(),V.value===null||V.value===k){Ie();return}const z=[...T.value],[le]=z.splice(V.value,1);z.splice(k,0,le),T.value=z,Ie()},Ie=()=>{V.value=null,Q.value=null},_=()=>{a.value&&Y(),p.value=!0},q=async A=>{if(!f.value){f.value=!0;try{r("create",A),await new Promise(k=>setTimeout(k,200))}finally{f.value=!1}}},fe=A=>{a.value&&Y(),h.value=A,m.value=!0},ce=async(A,k)=>{y.value=!0;try{t.onUpdateItem?await t.onUpdateItem(A,k):r("update",A,k),m.value=!1}finally{y.value=!1}},$e=(A,k)=>{var z,le;return((z=a.value)==null?void 0:z.itemId)===A&&((le=a.value)==null?void 0:le.colName)===k},je=(A,k)=>{i.value&&(clearTimeout(i.value),i.value=null),a.value&&P(!0),a.value={itemId:A.id,colName:k.name};const z=A.data[k.name];s.value=z??"",n.value=z??""},Y=()=>{a.value=null,s.value="",n.value=""},P=async(A=!1)=>{if(!a.value||l.value)return;const{itemId:k,colName:z}=a.value,le=s.value;if(le===n.value){A&&Y();return}const I=t.items.find(oe=>oe.id===k);if(!I){A&&Y();return}const O=le===""?null:le,L={...I.data,[z]:O},G=n.value;l.value=!0;try{t.onUpdateItem?await t.onUpdateItem(k,L):r("update",k,L),pt({itemId:k,colName:z,oldValue:G,newValue:O,timestamp:Date.now()})}finally{l.value=!1}A&&Y()},W=()=>{i.value&&clearTimeout(i.value);const A=a.value?{...a.value}:null;i.value=setTimeout(()=>{i.value=null,a.value&&A&&a.value.itemId===A.itemId&&a.value.colName===A.colName&&P(!0)},150)},Ne=async(A,k,z,le,I)=>{if(A.key==="Escape"){A.preventDefault(),Y();return}if(A.key==="Enter"&&!A.shiftKey){A.preventDefault(),await P(!0);return}A.key==="Tab"&&(A.preventDefault(),await P(!0),bt(()=>{const O=U.value,L=M.getRowModel().rows;let G=A.shiftKey?I-1:I+1,oe=le;if(G>=O.length?(G=0,oe=le+1):G<0&&(G=O.length-1,oe=le-1),oe>=0&&oe<L.length){const pe=L[oe].original,be=O[G];pe&&be&&je(pe,be)}}))},Ye=A=>{r("settings")},Pe=A=>{c.value.add(A.name)},et=()=>{c.value.clear()},ft=A=>{R.value.length<=1||r("deleteColumn",A.name)},pt=A=>{u.value.push(A),u.value.length>lg&&u.value.shift(),d.value=[]},Xt=xe(()=>u.value.length>0),nn=xe(()=>d.value.length>0),gt=async()=>{const A=u.value.pop();if(!A)return;d.value.push(A);const k=t.items.find(le=>le.id===A.itemId);if(!k)return;const z={...k.data,[A.colName]:A.oldValue};t.onUpdateItem?await t.onUpdateItem(A.itemId,z):r("update",A.itemId,z)},$t=async()=>{const A=d.value.pop();if(!A)return;u.value.push(A);const k=t.items.find(le=>le.id===A.itemId);if(!k)return;const z={...k.data,[A.colName]:A.newValue};t.onUpdateItem?await t.onUpdateItem(A.itemId,z):r("update",A.itemId,z)},Nt=A=>{const k=U.value[0];k&&je(A,k)},Yt=A=>{r("create",{...A.data})},jt=A=>{const k=A.ctrlKey||A.metaKey;if(k&&A.key==="z"&&!A.shiftKey){Xt.value&&(A.preventDefault(),gt());return}if(k&&A.key==="z"&&A.shiftKey||k&&A.key==="y"){nn.value&&(A.preventDefault(),$t());return}if(k&&A.key==="n"&&!p.value&&!a.value){A.preventDefault(),_();return}if((A.key==="Delete"||A.key==="Backspace")&&!a.value&&!p.value){const z=re.value;z.length>0&&(A.preventDefault(),r("deleteSelected",z))}};return en(()=>{window.addEventListener("keydown",jt)}),co(()=>{window.removeEventListener("keydown",jt),i.value&&clearTimeout(i.value)}),Xe(()=>t.items,()=>{S.value={}},{deep:!0}),Xe(()=>M.getState().pagination.pageIndex,()=>{Y()}),(A,k)=>($(),F("div",Ep,[v("div",Rp,[v("div",Ip,[v("button",{onClick:k[0]||(k[0]=z=>A.$emit("back")),class:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors text-sm font-medium"},[w(g(qo),{class:"w-4 h-4"}),k[14]||(k[14]=v("span",null,"Все справочники",-1))]),k[16]||(k[16]=v("div",{class:"w-px h-6 bg-slate-200"},null,-1)),v("div",Pp,[v("h3",Dp,X(e.directory.name),1),v("p",Op,[v("span",Tp,X(e.directory.tool_name),1),k[15]||(k[15]=v("span",{class:"mx-1.5"},"•",-1)),v("span",null,X(e.directory.items_count)+" "+X(B.value),1)])])]),v("button",{onClick:k[1]||(k[1]=z=>A.$emit("settings")),class:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors text-sm font-medium"},[w(g(_o),{class:"w-4 h-4"}),k[17]||(k[17]=v("span",null,"Редактировать",-1))])]),w(rf,{"add-disabled":!1,"has-items":e.items.length>0,"selected-count":Object.keys(S.value).length,"search-query":x.value,onAddRow:_,onImport:k[2]||(k[2]=z=>A.$emit("import")),onExport:k[3]||(k[3]=z=>A.$emit("export")),onDeleteSelected:k[4]||(k[4]=z=>A.$emit("deleteSelected",re.value)),"onUpdate:searchQuery":k[5]||(k[5]=z=>x.value=z)},null,8,["has-items","selected-count","search-query"]),e.items.length>0?($(),F("div",Mp,[v("p",Fp,[v("span",Ap,[w(g(bu),{class:"w-3 h-3"}),k[18]||(k[18]=ee(" Клик ",-1))]),k[19]||(k[19]=fr(' редактирование <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Tab</span> далее <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Enter</span> сохранить <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Esc</span> отмена <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">ПКМ</span> меню ',13))]),v("div",Vp,[c.value.size>0?($(),F("button",{key:0,onClick:et,class:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded-lg transition-colors"},[w(g(da),{class:"w-3 h-3"}),ee(" "+X(c.value.size)+" скрыто ",1),w(g(mr),{class:"w-3 h-3 ml-0.5"})])):ue("",!0),w(g(ka),{"delay-duration":300},{default:C(()=>[w(g(or),null,{default:C(()=>[w(g(ar),{"as-child":""},{default:C(()=>[v("button",{onClick:gt,disabled:!Xt.value,class:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed"},[w(g(Cu),{class:"w-3.5 h-3.5"})],8,Lp)]),_:1}),w(g(rr),{side:"bottom"},{default:C(()=>[...k[20]||(k[20]=[v("p",{class:"text-xs"},[ee("Отменить "),v("kbd",{class:"ml-1 px-1 py-0.5 bg-slate-700 rounded text-[10px]"},"Ctrl+Z")],-1)])]),_:1})]),_:1}),w(g(or),null,{default:C(()=>[w(g(ar),{"as-child":""},{default:C(()=>[v("button",{onClick:$t,disabled:!nn.value,class:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed"},[w(g(Su),{class:"w-3.5 h-3.5"})],8,Bp)]),_:1}),w(g(rr),{side:"bottom"},{default:C(()=>[...k[21]||(k[21]=[v("p",{class:"text-xs"},[ee("Повторить "),v("kbd",{class:"ml-1 px-1 py-0.5 bg-slate-700 rounded text-[10px]"},"Ctrl+Shift+Z")],-1)])]),_:1})]),_:1})]),_:1})])])):ue("",!0),e.loading?($(),F("div",Np,[w(g(Kt),{class:"w-8 h-8 animate-spin text-indigo-600"})])):e.items.length===0&&!x.value?($(),F("div",jp,[w(g(Dn),null,{default:C(()=>[w(g(On),null,{default:C(()=>[w(g(it),null,{default:C(()=>[w(g(Qe),{class:"w-12"}),($(!0),F(Ue,null,ze(U.value,z=>($(),te(g(Qe),{key:z.name,style:xn({minWidth:j(z)})},{default:C(()=>[v("span",kp,X(z.label),1)]),_:2},1032,["style"]))),128)),w(g(Qe),{"class-name":"w-16"})]),_:1})]),_:1}),w(g(Tn),null,{default:C(()=>[w(g(it),null,{default:C(()=>[w(g(Ee),{"class-name":"text-center py-12",colspan:U.value.length+2},{default:C(()=>[v("div",Up,[v("div",Gp,[w(g(lu),{class:"h-6 w-6 text-slate-400"})]),k[22]||(k[22]=v("p",{class:"text-sm font-medium text-slate-900"},"Записей пока нет",-1)),k[23]||(k[23]=v("p",{class:"text-xs text-slate-500 mt-1 mb-4"},"Добавьте первую запись",-1)),v("button",{onClick:_,class:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Добавить запись ")])]),_:1},8,["colspan"])]),_:1})]),_:1})]),_:1})])):g(M).getRowModel().rows.length===0&&x.value?($(),F("div",Hp,[v("p",zp,'Ничего не найдено по запросу "'+X(x.value)+'"',1)])):g(M).getRowModel().rows.length>0?($(),F("div",Kp,[w(g(Dn),{style:xn({width:`${g(M).getTotalSize()+56}px`,minWidth:"100%"})},{default:C(()=>[w(g(On),null,{default:C(()=>[w(g(it),null,{default:C(()=>[w(g(Qe),{"class-name":"w-14 !px-0"},{default:C(()=>[v("div",Wp,[k[24]||(k[24]=v("span",{class:"w-[26px] shrink-0"},null,-1)),v("input",{type:"checkbox",checked:g(M).getIsAllPageRowsSelected(),indeterminate:g(M).getIsSomePageRowsSelected(),onChange:k[6]||(k[6]=z=>g(M).toggleAllPageRowsSelected()),class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,Xp)])]),_:1}),($(!0),F(Ue,null,ze(g(M).getHeaderGroups()[0].headers.filter(z=>z.id!=="select"&&z.id!=="actions"),z=>($(),te(g(Qe),{key:z.id,onDragover:Ot(le=>Ce(le,z.index-1),["prevent"]),onDragenter:Ot(le=>Q.value=z.index-1,["prevent"]),onDragleave:Ve,onDrop:le=>Oe(le,z.index-1),onDragend:Ie,"class-name":`relative select-none ${Q.value===z.index-1&&V.value!==z.index-1?"bg-indigo-100":""} ${V.value===z.index-1?"opacity-50":""}`,style:xn({width:`${z.getSize()}px`})},{default:C(()=>[w(Ff,{column:z.column.columnDef.meta,"is-only-column":R.value.length<=1,onDragstart:le=>de(le,z.index-1),onEdit:le=>Ye(z.column.columnDef.meta),onHide:le=>Pe(z.column.columnDef.meta),onDelete:le=>ft(z.column.columnDef.meta)},null,8,["column","is-only-column","onDragstart","onEdit","onHide","onDelete"]),v("div",{onMousedown:le=>{var I;return(I=z.getResizeHandler())==null?void 0:I(le)},onTouchstart:le=>{var I;return(I=z.getResizeHandler())==null?void 0:I(le)},onDblclick:le=>N(z),class:Ae(["absolute right-0 top-0 h-full w-1 cursor-col-resize select-none touch-none group/resize",z.column.getIsResizing()?"bg-indigo-400":"hover:bg-indigo-300"])},null,42,Yp)]),_:2},1032,["onDragover","onDragenter","onDrop","class-name","style"]))),128)),w(g(Qe),{"class-name":"w-40"},{default:C(()=>[v("div",_p,[v("button",{onClick:k[7]||(k[7]=z=>A.$emit("settings")),class:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Добавить столбец"},[w(g(ho),{class:"w-3.5 h-3.5"}),k[25]||(k[25]=ee(" Столбец ",-1))])])]),_:1}),w(g(Qe),{"class-name":"w-16"})]),_:1})]),_:1}),w(g(Tn),null,{default:C(()=>[($(!0),F(Ue,null,ze(g(M).getRowModel().rows,z=>($(),te(kf,{key:z.id,onEdit:le=>Nt(z.original),onDuplicate:le=>Yt(z.original),onDelete:le=>A.$emit("delete",z.original.id)},{default:C(()=>{var le;return[w(g(it),{class:Ae(["group",{"bg-indigo-50/30":((le=a.value)==null?void 0:le.itemId)===z.original.id}])},{default:C(()=>[w(g(Ee),{"class-name":"w-14 !px-0"},{default:C(()=>[v("div",qp,[v("button",{onClick:I=>fe(z.original),class:"p-1 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors opacity-0 group-hover:opacity-100",title:"Развернуть"},[w(g(Bi),{class:"w-3.5 h-3.5"})],8,Qp),v("input",{type:"checkbox",checked:z.getIsSelected(),onChange:I=>z.toggleSelected(),class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,Jp)])]),_:2},1024),($(!0),F(Ue,null,ze(U.value,I=>($(),te(g(Ee),{key:I.name,"class-name":"px-1 py-1",style:xn({width:`${H(I.name)}px`})},{default:C(()=>{var O,L;return[w(yf,{column:I,"display-value":z.original.data[I.name],"model-value":((O=a.value)==null?void 0:O.itemId)===z.original.id&&((L=a.value)==null?void 0:L.colName)===I.name?s.value:z.original.data[I.name],editing:$e(z.original.id,I.name),saving:l.value&&$e(z.original.id,I.name),"onUpdate:modelValue":k[8]||(k[8]=G=>s.value=G),onStartEdit:G=>je(z.original,I),onBlur:W,onKeydown:G=>Ne(G,z.original,I,z.index,U.value.indexOf(I)),onSave:k[9]||(k[9]=G=>P(!0))},null,8,["column","display-value","model-value","editing","saving","onStartEdit","onKeydown"])]}),_:2},1032,["style"]))),128)),w(g(Ee),{"class-name":"px-2 py-2 w-40"}),w(g(Ee),{"class-name":"px-4 py-2 w-16"},{default:C(()=>[v("div",Zp,[v("button",{onClick:I=>A.$emit("delete",z.original.id),class:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Удалить"},[w(g(cn),{class:"w-4 h-4"})],8,eg)])]),_:2},1024)]),_:2},1032,["class"])]}),_:2},1032,["onEdit","onDuplicate","onDelete"]))),128))]),_:1})]),_:1},8,["style"]),g(M).getPageCount()>1?($(),F("div",tg,[v("p",ng," Показано "+X(g(M).getState().pagination.pageIndex*g(M).getState().pagination.pageSize+1)+"-"+X(Math.min((g(M).getState().pagination.pageIndex+1)*g(M).getState().pagination.pageSize,g(M).getFilteredRowModel().rows.length))+" из "+X(g(M).getFilteredRowModel().rows.length),1),v("div",og,[v("button",{disabled:!g(M).getCanPreviousPage(),onClick:k[10]||(k[10]=z=>g(M).previousPage()),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[w(g(fa),{class:"w-4 h-4"})],8,rg),($(!0),F(Ue,null,ze(J.value,z=>($(),F("button",{key:z,onClick:le=>g(M).setPageIndex(z-1),class:Ae(["min-w-[32px] h-8 px-2 text-sm font-medium rounded-lg transition-colors",[g(M).getState().pagination.pageIndex===z-1?"bg-indigo-600 text-white":"text-slate-600 hover:bg-white"]])},X(z),11,ag))),128)),v("button",{disabled:!g(M).getCanNextPage(),onClick:k[11]||(k[11]=z=>g(M).nextPage()),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[w(g(pa),{class:"w-4 h-4"})],8,sg)])])):ue("",!0)])):ue("",!0),w(sp,{open:p.value,columns:U.value,saving:f.value,"onUpdate:open":k[12]||(k[12]=z=>p.value=z),onSave:q},null,8,["open","columns","saving"]),w($p,{open:m.value,columns:U.value,item:h.value,saving:y.value,"onUpdate:open":k[13]||(k[13]=z=>m.value=z),onSave:ce},null,8,["open","columns","item","saving"])]))}});var ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ha(e){if(e.__esModule)return e;var o=e.default;if(typeof o=="function"){var t=function r(){return this instanceof r?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};t.prototype=o.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),t}var za={exports:{}};const cg=Ha(gu);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Nr(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function Mt(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{};o%2?Nr(Object(t),!0).forEach(function(r){fg(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nr(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Zn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zn=function(o){return typeof o}:Zn=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Zn(e)}function fg(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function Ct(){return Ct=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ct.apply(this,arguments)}function pg(e,o){if(e==null)return{};var t={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(o.indexOf(a)>=0)&&(t[a]=e[a]);return t}function gg(e,o){if(e==null)return{};var t=pg(e,o),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(o.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}function mg(e){return vg(e)||hg(e)||yg(e)||xg()}function vg(e){if(Array.isArray(e))return lr(e)}function hg(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yg(e,o){if(e){if(typeof e=="string")return lr(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lr(e,o)}}function lr(e,o){(o==null||o>e.length)&&(o=e.length);for(var t=0,r=new Array(o);t<o;t++)r[t]=e[t];return r}function xg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bg="1.14.0";function Lt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Bt=Lt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),jn=Lt(/Edge/i),jr=Lt(/firefox/i),Mn=Lt(/safari/i)&&!Lt(/chrome/i)&&!Lt(/android/i),Ka=Lt(/iP(ad|od|hone)/i),Sg=Lt(/chrome/i)&&Lt(/android/i),Wa={capture:!1,passive:!1};function De(e,o,t){e.addEventListener(o,t,!Bt&&Wa)}function Re(e,o,t){e.removeEventListener(o,t,!Bt&&Wa)}function ao(e,o){if(o){if(o[0]===">"&&(o=o.substring(1)),e)try{if(e.matches)return e.matches(o);if(e.msMatchesSelector)return e.msMatchesSelector(o);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(o)}catch{return!1}return!1}}function wg(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function It(e,o,t,r){if(e){t=t||document;do{if(o!=null&&(o[0]===">"?e.parentNode===t&&ao(e,o):ao(e,o))||r&&e===t)return e;if(e===t)break}while(e=wg(e))}return null}var kr=/\s+/g;function Ke(e,o,t){if(e&&o)if(e.classList)e.classList[t?"add":"remove"](o);else{var r=(" "+e.className+" ").replace(kr," ").replace(" "+o+" "," ");e.className=(r+(t?" "+o:"")).replace(kr," ")}}function ae(e,o,t){var r=e&&e.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),o===void 0?t:t[o];!(o in r)&&o.indexOf("webkit")===-1&&(o="-webkit-"+o),r[o]=t+(typeof t=="string"?"":"px")}}function Jt(e,o){var t="";if(typeof e=="string")t=e;else do{var r=ae(e,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!o&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function Xa(e,o,t){if(e){var r=e.getElementsByTagName(o),a=0,s=r.length;if(t)for(;a<s;a++)t(r[a],a);return r}return[]}function Tt(){var e=document.scrollingElement;return e||document.documentElement}function He(e,o,t,r,a){if(!(!e.getBoundingClientRect&&e!==window)){var s,n,l,i,u,d,c;if(e!==window&&e.parentNode&&e!==Tt()?(s=e.getBoundingClientRect(),n=s.top,l=s.left,i=s.bottom,u=s.right,d=s.height,c=s.width):(n=0,l=0,i=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(o||t)&&e!==window&&(a=a||e.parentNode,!Bt))do if(a&&a.getBoundingClientRect&&(ae(a,"transform")!=="none"||t&&ae(a,"position")!=="static")){var p=a.getBoundingClientRect();n-=p.top+parseInt(ae(a,"border-top-width")),l-=p.left+parseInt(ae(a,"border-left-width")),i=n+s.height,u=l+s.width;break}while(a=a.parentNode);if(r&&e!==window){var f=Jt(a||e),m=f&&f.a,h=f&&f.d;f&&(n/=h,l/=m,c/=m,d/=h,i=n+d,u=l+c)}return{top:n,left:l,bottom:i,right:u,width:c,height:d}}}function Ur(e,o,t){for(var r=Ht(e,!0),a=He(e)[o];r;){var s=He(r)[t],n=void 0;if(n=a>=s,!n)return r;if(r===Tt())break;r=Ht(r,!1)}return!1}function fn(e,o,t,r){for(var a=0,s=0,n=e.children;s<n.length;){if(n[s].style.display!=="none"&&n[s]!==me.ghost&&(r||n[s]!==me.dragged)&&It(n[s],t.draggable,e,!1)){if(a===o)return n[s];a++}s++}return null}function Er(e,o){for(var t=e.lastElementChild;t&&(t===me.ghost||ae(t,"display")==="none"||o&&!ao(t,o));)t=t.previousElementSibling;return t||null}function Je(e,o){var t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==me.clone&&(!o||ao(e,o))&&t++;return t}function Gr(e){var o=0,t=0,r=Tt();if(e)do{var a=Jt(e),s=a.a,n=a.d;o+=e.scrollLeft*s,t+=e.scrollTop*n}while(e!==r&&(e=e.parentNode));return[o,t]}function Cg(e,o){for(var t in e)if(e.hasOwnProperty(t)){for(var r in o)if(o.hasOwnProperty(r)&&o[r]===e[t][r])return Number(t)}return-1}function Ht(e,o){if(!e||!e.getBoundingClientRect)return Tt();var t=e,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=ae(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Tt();if(r||o)return t;r=!0}}while(t=t.parentNode);return Tt()}function $g(e,o){if(e&&o)for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}function Vo(e,o){return Math.round(e.top)===Math.round(o.top)&&Math.round(e.left)===Math.round(o.left)&&Math.round(e.height)===Math.round(o.height)&&Math.round(e.width)===Math.round(o.width)}var Fn;function Ya(e,o){return function(){if(!Fn){var t=arguments,r=this;t.length===1?e.call(r,t[0]):e.apply(r,t),Fn=setTimeout(function(){Fn=void 0},o)}}}function Eg(){clearTimeout(Fn),Fn=void 0}function _a(e,o,t){e.scrollLeft+=o,e.scrollTop+=t}function Rr(e){var o=window.Polymer,t=window.jQuery||window.Zepto;return o&&o.dom?o.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function Hr(e,o){ae(e,"position","absolute"),ae(e,"top",o.top),ae(e,"left",o.left),ae(e,"width",o.width),ae(e,"height",o.height)}function Lo(e){ae(e,"position",""),ae(e,"top",""),ae(e,"left",""),ae(e,"width",""),ae(e,"height","")}var ut="Sortable"+new Date().getTime();function Rg(){var e=[],o;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(a){if(!(ae(a,"display")==="none"||a===me.ghost)){e.push({target:a,rect:He(a)});var s=Mt({},e[e.length-1].rect);if(a.thisAnimationDuration){var n=Jt(a,!0);n&&(s.top-=n.f,s.left-=n.e)}a.fromRect=s}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(Cg(e,{target:r}),1)},animateAll:function(r){var a=this;if(!this.options.animation){clearTimeout(o),typeof r=="function"&&r();return}var s=!1,n=0;e.forEach(function(l){var i=0,u=l.target,d=u.fromRect,c=He(u),p=u.prevFromRect,f=u.prevToRect,m=l.rect,h=Jt(u,!0);h&&(c.top-=h.f,c.left-=h.e),u.toRect=c,u.thisAnimationDuration&&Vo(p,c)&&!Vo(d,c)&&(m.top-c.top)/(m.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(i=Pg(m,p,f,a.options)),Vo(c,d)||(u.prevFromRect=d,u.prevToRect=c,i||(i=a.options.animation),a.animate(u,m,c,i)),i&&(s=!0,n=Math.max(n,i),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},i),u.thisAnimationDuration=i)}),clearTimeout(o),s?o=setTimeout(function(){typeof r=="function"&&r()},n):typeof r=="function"&&r(),e=[]},animate:function(r,a,s,n){if(n){ae(r,"transition",""),ae(r,"transform","");var l=Jt(this.el),i=l&&l.a,u=l&&l.d,d=(a.left-s.left)/(i||1),c=(a.top-s.top)/(u||1);r.animatingX=!!d,r.animatingY=!!c,ae(r,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=Ig(r),ae(r,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),ae(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){ae(r,"transition",""),ae(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},n)}}}}function Ig(e){return e.offsetWidth}function Pg(e,o,t,r){return Math.sqrt(Math.pow(o.top-e.top,2)+Math.pow(o.left-e.left,2))/Math.sqrt(Math.pow(o.top-t.top,2)+Math.pow(o.left-t.left,2))*r.animation}var rn=[],Bo={initializeByDefault:!0},kn={mount:function(o){for(var t in Bo)Bo.hasOwnProperty(t)&&!(t in o)&&(o[t]=Bo[t]);rn.forEach(function(r){if(r.pluginName===o.pluginName)throw"Sortable: Cannot mount plugin ".concat(o.pluginName," more than once")}),rn.push(o)},pluginEvent:function(o,t,r){var a=this;this.eventCanceled=!1,r.cancel=function(){a.eventCanceled=!0};var s=o+"Global";rn.forEach(function(n){t[n.pluginName]&&(t[n.pluginName][s]&&t[n.pluginName][s](Mt({sortable:t},r)),t.options[n.pluginName]&&t[n.pluginName][o]&&t[n.pluginName][o](Mt({sortable:t},r)))})},initializePlugins:function(o,t,r,a){rn.forEach(function(l){var i=l.pluginName;if(!(!o.options[i]&&!l.initializeByDefault)){var u=new l(o,t,o.options);u.sortable=o,u.options=o.options,o[i]=u,Ct(r,u.defaults)}});for(var s in o.options)if(o.options.hasOwnProperty(s)){var n=this.modifyOption(o,s,o.options[s]);typeof n<"u"&&(o.options[s]=n)}},getEventProperties:function(o,t){var r={};return rn.forEach(function(a){typeof a.eventProperties=="function"&&Ct(r,a.eventProperties.call(t[a.pluginName],o))}),r},modifyOption:function(o,t,r){var a;return rn.forEach(function(s){o[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(a=s.optionListeners[t].call(o[s.pluginName],r))}),a}};function Sn(e){var o=e.sortable,t=e.rootEl,r=e.name,a=e.targetEl,s=e.cloneEl,n=e.toEl,l=e.fromEl,i=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,p=e.originalEvent,f=e.putSortable,m=e.extraEventProperties;if(o=o||t&&t[ut],!!o){var h,y=o.options,x="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Bt&&!jn?h=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(r,!0,!0)),h.to=n||t,h.from=l||t,h.item=a||t,h.clone=s,h.oldIndex=i,h.newIndex=u,h.oldDraggableIndex=d,h.newDraggableIndex=c,h.originalEvent=p,h.pullMode=f?f.lastPutMode:void 0;var S=Mt(Mt({},m),kn.getEventProperties(r,o));for(var R in S)h[R]=S[R];t&&t.dispatchEvent(h),y[x]&&y[x].call(o,h)}}var Dg=["evt"],vt=function(o,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.evt,s=gg(r,Dg);kn.pluginEvent.bind(me)(o,t,Mt({dragEl:Z,parentEl:_e,ghostEl:we,rootEl:Ge,nextEl:Qt,lastDownEl:eo,cloneEl:qe,cloneHidden:Ut,dragStarted:wn,putSortable:rt,activeSortable:me.active,originalEvent:a,oldIndex:un,oldDraggableIndex:An,newIndex:xt,newDraggableIndex:kt,hideGhostForTarget:Za,unhideGhostForTarget:es,cloneNowHidden:function(){Ut=!0},cloneNowShown:function(){Ut=!1},dispatchSortableEvent:function(l){ct({sortable:t,name:l,originalEvent:a})}},s))};function ct(e){Sn(Mt({putSortable:rt,cloneEl:qe,targetEl:Z,rootEl:Ge,oldIndex:un,oldDraggableIndex:An,newIndex:xt,newDraggableIndex:kt},e))}var Z,_e,we,Ge,Qt,eo,qe,Ut,un,xt,An,kt,Wn,rt,ln=!1,so=!1,lo=[],_t,Et,No,jo,zr,Kr,wn,an,Vn,Ln=!1,Xn=!1,to,lt,ko=[],ir=!1,io=[],wo=typeof document<"u",Yn=Ka,Wr=jn||Bt?"cssFloat":"float",Og=wo&&!Sg&&!Ka&&"draggable"in document.createElement("div"),qa=function(){if(wo){if(Bt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Qa=function(o,t){var r=ae(o),a=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=fn(o,0,t),n=fn(o,1,t),l=s&&ae(s),i=n&&ae(n),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+He(s).width,d=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+He(n).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return n&&(i.clear==="both"||i.clear===c)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=a&&r[Wr]==="none"||n&&r[Wr]==="none"&&u+d>a)?"vertical":"horizontal"},Tg=function(o,t,r){var a=r?o.left:o.top,s=r?o.right:o.bottom,n=r?o.width:o.height,l=r?t.left:t.top,i=r?t.right:t.bottom,u=r?t.width:t.height;return a===l||s===i||a+n/2===l+u/2},Mg=function(o,t){var r;return lo.some(function(a){var s=a[ut].options.emptyInsertThreshold;if(!(!s||Er(a))){var n=He(a),l=o>=n.left-s&&o<=n.right+s,i=t>=n.top-s&&t<=n.bottom+s;if(l&&i)return r=a}}),r},Ja=function(o){function t(s,n){return function(l,i,u,d){var c=l.options.group.name&&i.options.group.name&&l.options.group.name===i.options.group.name;if(s==null&&(n||c))return!0;if(s==null||s===!1)return!1;if(n&&s==="clone")return s;if(typeof s=="function")return t(s(l,i,u,d),n)(l,i,u,d);var p=(n?l:i).options.group.name;return s===!0||typeof s=="string"&&s===p||s.join&&s.indexOf(p)>-1}}var r={},a=o.group;(!a||Zn(a)!="object")&&(a={name:a}),r.name=a.name,r.checkPull=t(a.pull,!0),r.checkPut=t(a.put),r.revertClone=a.revertClone,o.group=r},Za=function(){!qa&&we&&ae(we,"display","none")},es=function(){!qa&&we&&ae(we,"display","")};wo&&document.addEventListener("click",function(e){if(so)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),so=!1,!1},!0);var qt=function(o){if(Z){o=o.touches?o.touches[0]:o;var t=Mg(o.clientX,o.clientY);if(t){var r={};for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[ut]._onDragOver(r)}}},Fg=function(o){Z&&Z.parentNode[ut]._isOutsideThisEl(o.target)};function me(e,o){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=o=Ct({},o),e[ut]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Qa(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,l){n.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:me.supportPointer!==!1&&"PointerEvent"in window&&!Mn,emptyInsertThreshold:5};kn.initializePlugins(this,e,t);for(var r in t)!(r in o)&&(o[r]=t[r]);Ja(o);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=o.forceFallback?!1:Og,this.nativeDraggable&&(this.options.touchStartThreshold=1),o.supportPointer?De(e,"pointerdown",this._onTapStart):(De(e,"mousedown",this._onTapStart),De(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(De(e,"dragover",this),De(e,"dragenter",this)),lo.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[]),Ct(this,Rg())}me.prototype={constructor:me,_isOutsideThisEl:function(o){!this.el.contains(o)&&o!==this.el&&(an=null)},_getDirection:function(o,t){return typeof this.options.direction=="function"?this.options.direction.call(this,o,t,Z):this.options.direction},_onTapStart:function(o){if(o.cancelable){var t=this,r=this.el,a=this.options,s=a.preventOnFilter,n=o.type,l=o.touches&&o.touches[0]||o.pointerType&&o.pointerType==="touch"&&o,i=(l||o).target,u=o.target.shadowRoot&&(o.path&&o.path[0]||o.composedPath&&o.composedPath()[0])||i,d=a.filter;if(Ug(r),!Z&&!(/mousedown|pointerdown/.test(n)&&o.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Mn&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=It(i,a.draggable,r,!1),!(i&&i.animated)&&eo!==i)){if(un=Je(i),An=Je(i,a.draggable),typeof d=="function"){if(d.call(this,o,i,this)){ct({sortable:t,rootEl:u,name:"filter",targetEl:i,toEl:r,fromEl:r}),vt("filter",t,{evt:o}),s&&o.cancelable&&o.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=It(u,c.trim(),r,!1),c)return ct({sortable:t,rootEl:c,name:"filter",targetEl:i,fromEl:r,toEl:r}),vt("filter",t,{evt:o}),!0}),d)){s&&o.cancelable&&o.preventDefault();return}a.handle&&!It(u,a.handle,r,!1)||this._prepareDragStart(o,l,i)}}},_prepareDragStart:function(o,t,r){var a=this,s=a.el,n=a.options,l=s.ownerDocument,i;if(r&&!Z&&r.parentNode===s){var u=He(r);if(Ge=s,Z=r,_e=Z.parentNode,Qt=Z.nextSibling,eo=r,Wn=n.group,me.dragged=Z,_t={target:Z,clientX:(t||o).clientX,clientY:(t||o).clientY},zr=_t.clientX-u.left,Kr=_t.clientY-u.top,this._lastX=(t||o).clientX,this._lastY=(t||o).clientY,Z.style["will-change"]="all",i=function(){if(vt("delayEnded",a,{evt:o}),me.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!jr&&a.nativeDraggable&&(Z.draggable=!0),a._triggerDragStart(o,t),ct({sortable:a,name:"choose",originalEvent:o}),Ke(Z,n.chosenClass,!0)},n.ignore.split(",").forEach(function(d){Xa(Z,d.trim(),Uo)}),De(l,"dragover",qt),De(l,"mousemove",qt),De(l,"touchmove",qt),De(l,"mouseup",a._onDrop),De(l,"touchend",a._onDrop),De(l,"touchcancel",a._onDrop),jr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Z.draggable=!0),vt("delayStart",this,{evt:o}),n.delay&&(!n.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(jn||Bt))){if(me.eventCanceled){this._onDrop();return}De(l,"mouseup",a._disableDelayedDrag),De(l,"touchend",a._disableDelayedDrag),De(l,"touchcancel",a._disableDelayedDrag),De(l,"mousemove",a._delayedDragTouchMoveHandler),De(l,"touchmove",a._delayedDragTouchMoveHandler),n.supportPointer&&De(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(i,n.delay)}else i()}},_delayedDragTouchMoveHandler:function(o){var t=o.touches?o.touches[0]:o;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Z&&Uo(Z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var o=this.el.ownerDocument;Re(o,"mouseup",this._disableDelayedDrag),Re(o,"touchend",this._disableDelayedDrag),Re(o,"touchcancel",this._disableDelayedDrag),Re(o,"mousemove",this._delayedDragTouchMoveHandler),Re(o,"touchmove",this._delayedDragTouchMoveHandler),Re(o,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(o,t){t=t||o.pointerType=="touch"&&o,!this.nativeDraggable||t?this.options.supportPointer?De(document,"pointermove",this._onTouchMove):t?De(document,"touchmove",this._onTouchMove):De(document,"mousemove",this._onTouchMove):(De(Z,"dragend",this),De(Ge,"dragstart",this._onDragStart));try{document.selection?no(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(o,t){if(ln=!1,Ge&&Z){vt("dragStarted",this,{evt:t}),this.nativeDraggable&&De(document,"dragover",Fg);var r=this.options;!o&&Ke(Z,r.dragClass,!1),Ke(Z,r.ghostClass,!0),me.active=this,o&&this._appendGhost(),ct({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Et){this._lastX=Et.clientX,this._lastY=Et.clientY,Za();for(var o=document.elementFromPoint(Et.clientX,Et.clientY),t=o;o&&o.shadowRoot&&(o=o.shadowRoot.elementFromPoint(Et.clientX,Et.clientY),o!==t);)t=o;if(Z.parentNode[ut]._isOutsideThisEl(o),t)do{if(t[ut]){var r=void 0;if(r=t[ut]._onDragOver({clientX:Et.clientX,clientY:Et.clientY,target:o,rootEl:t}),r&&!this.options.dragoverBubble)break}o=t}while(t=t.parentNode);es()}},_onTouchMove:function(o){if(_t){var t=this.options,r=t.fallbackTolerance,a=t.fallbackOffset,s=o.touches?o.touches[0]:o,n=we&&Jt(we,!0),l=we&&n&&n.a,i=we&&n&&n.d,u=Yn&&lt&&Gr(lt),d=(s.clientX-_t.clientX+a.x)/(l||1)+(u?u[0]-ko[0]:0)/(l||1),c=(s.clientY-_t.clientY+a.y)/(i||1)+(u?u[1]-ko[1]:0)/(i||1);if(!me.active&&!ln){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(o,!0)}if(we){n?(n.e+=d-(No||0),n.f+=c-(jo||0)):n={a:1,b:0,c:0,d:1,e:d,f:c};var p="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");ae(we,"webkitTransform",p),ae(we,"mozTransform",p),ae(we,"msTransform",p),ae(we,"transform",p),No=d,jo=c,Et=s}o.cancelable&&o.preventDefault()}},_appendGhost:function(){if(!we){var o=this.options.fallbackOnBody?document.body:Ge,t=He(Z,!0,Yn,!0,o),r=this.options;if(Yn){for(lt=o;ae(lt,"position")==="static"&&ae(lt,"transform")==="none"&&lt!==document;)lt=lt.parentNode;lt!==document.body&&lt!==document.documentElement?(lt===document&&(lt=Tt()),t.top+=lt.scrollTop,t.left+=lt.scrollLeft):lt=Tt(),ko=Gr(lt)}we=Z.cloneNode(!0),Ke(we,r.ghostClass,!1),Ke(we,r.fallbackClass,!0),Ke(we,r.dragClass,!0),ae(we,"transition",""),ae(we,"transform",""),ae(we,"box-sizing","border-box"),ae(we,"margin",0),ae(we,"top",t.top),ae(we,"left",t.left),ae(we,"width",t.width),ae(we,"height",t.height),ae(we,"opacity","0.8"),ae(we,"position",Yn?"absolute":"fixed"),ae(we,"zIndex","100000"),ae(we,"pointerEvents","none"),me.ghost=we,o.appendChild(we),ae(we,"transform-origin",zr/parseInt(we.style.width)*100+"% "+Kr/parseInt(we.style.height)*100+"%")}},_onDragStart:function(o,t){var r=this,a=o.dataTransfer,s=r.options;if(vt("dragStart",this,{evt:o}),me.eventCanceled){this._onDrop();return}vt("setupClone",this),me.eventCanceled||(qe=Rr(Z),qe.draggable=!1,qe.style["will-change"]="",this._hideClone(),Ke(qe,this.options.chosenClass,!1),me.clone=qe),r.cloneId=no(function(){vt("clone",r),!me.eventCanceled&&(r.options.removeCloneOnHide||Ge.insertBefore(qe,Z),r._hideClone(),ct({sortable:r,name:"clone"}))}),!t&&Ke(Z,s.dragClass,!0),t?(so=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Re(document,"mouseup",r._onDrop),Re(document,"touchend",r._onDrop),Re(document,"touchcancel",r._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(r,a,Z)),De(document,"drop",r),ae(Z,"transform","translateZ(0)")),ln=!0,r._dragStartId=no(r._dragStarted.bind(r,t,o)),De(document,"selectstart",r),wn=!0,Mn&&ae(document.body,"user-select","none")},_onDragOver:function(o){var t=this.el,r=o.target,a,s,n,l=this.options,i=l.group,u=me.active,d=Wn===i,c=l.sort,p=rt||u,f,m=this,h=!1;if(ir)return;function y(de,Ce){vt(de,m,Mt({evt:o,isOwner:d,axis:f?"vertical":"horizontal",revert:n,dragRect:a,targetRect:s,canSort:c,fromSortable:p,target:r,completed:S,onMove:function(Oe,Ie){return _n(Ge,t,Z,a,Oe,He(Oe),o,Ie)},changed:R},Ce))}function x(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function S(de){return y("dragOverCompleted",{insertion:de}),de&&(d?u._hideClone():u._showClone(m),m!==p&&(Ke(Z,rt?rt.options.ghostClass:u.options.ghostClass,!1),Ke(Z,l.ghostClass,!0)),rt!==m&&m!==me.active?rt=m:m===me.active&&rt&&(rt=null),p===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r===Z&&!Z.animated||r===t&&!r.animated)&&(an=null),!l.dragoverBubble&&!o.rootEl&&r!==document&&(Z.parentNode[ut]._isOutsideThisEl(o.target),!de&&qt(o)),!l.dragoverBubble&&o.stopPropagation&&o.stopPropagation(),h=!0}function R(){xt=Je(Z),kt=Je(Z,l.draggable),ct({sortable:m,name:"change",toEl:t,newIndex:xt,newDraggableIndex:kt,originalEvent:o})}if(o.preventDefault!==void 0&&o.cancelable&&o.preventDefault(),r=It(r,l.draggable,t,!0),y("dragOver"),me.eventCanceled)return h;if(Z.contains(o.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return S(!1);if(so=!1,u&&!l.disabled&&(d?c||(n=_e!==Ge):rt===this||(this.lastPutMode=Wn.checkPull(this,u,Z,o))&&i.checkPut(this,u,Z,o))){if(f=this._getDirection(o,r)==="vertical",a=He(Z),y("dragOverValid"),me.eventCanceled)return h;if(n)return _e=Ge,x(),this._hideClone(),y("revert"),me.eventCanceled||(Qt?Ge.insertBefore(Z,Qt):Ge.appendChild(Z)),S(!0);var D=Er(t,l.draggable);if(!D||Bg(o,f,this)&&!D.animated){if(D===Z)return S(!1);if(D&&t===o.target&&(r=D),r&&(s=He(r)),_n(Ge,t,Z,a,r,s,o,!!r)!==!1)return x(),t.appendChild(Z),_e=t,R(),S(!0)}else if(D&&Lg(o,f,this)){var T=fn(t,0,l,!0);if(T===Z)return S(!1);if(r=T,s=He(r),_n(Ge,t,Z,a,r,s,o,!1)!==!1)return x(),t.insertBefore(Z,T),_e=t,R(),S(!0)}else if(r.parentNode===t){s=He(r);var V=0,Q,U=Z.parentNode!==t,b=!Tg(Z.animated&&Z.toRect||a,r.animated&&r.toRect||s,f),E=f?"top":"left",M=Ur(r,"top","top")||Ur(Z,"top","top"),re=M?M.scrollTop:void 0;an!==r&&(Q=s[E],Ln=!1,Xn=!b&&l.invertSwap||U),V=Ng(o,r,s,f,b?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Xn,an===r);var B;if(V!==0){var j=Je(Z);do j-=V,B=_e.children[j];while(B&&(ae(B,"display")==="none"||B===we))}if(V===0||B===r)return S(!1);an=r,Vn=V;var H=r.nextElementSibling,N=!1;N=V===1;var J=_n(Ge,t,Z,a,r,s,o,N);if(J!==!1)return(J===1||J===-1)&&(N=J===1),ir=!0,setTimeout(Vg,30),x(),N&&!H?t.appendChild(Z):r.parentNode.insertBefore(Z,N?H:r),M&&_a(M,0,re-M.scrollTop),_e=Z.parentNode,Q!==void 0&&!Xn&&(to=Math.abs(Q-He(r)[E])),R(),S(!0)}if(t.contains(Z))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Re(document,"mousemove",this._onTouchMove),Re(document,"touchmove",this._onTouchMove),Re(document,"pointermove",this._onTouchMove),Re(document,"dragover",qt),Re(document,"mousemove",qt),Re(document,"touchmove",qt)},_offUpEvents:function(){var o=this.el.ownerDocument;Re(o,"mouseup",this._onDrop),Re(o,"touchend",this._onDrop),Re(o,"pointerup",this._onDrop),Re(o,"touchcancel",this._onDrop),Re(document,"selectstart",this)},_onDrop:function(o){var t=this.el,r=this.options;if(xt=Je(Z),kt=Je(Z,r.draggable),vt("drop",this,{evt:o}),_e=Z&&Z.parentNode,xt=Je(Z),kt=Je(Z,r.draggable),me.eventCanceled){this._nulling();return}ln=!1,Xn=!1,Ln=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ur(this.cloneId),ur(this._dragStartId),this.nativeDraggable&&(Re(document,"drop",this),Re(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Mn&&ae(document.body,"user-select",""),ae(Z,"transform",""),o&&(wn&&(o.cancelable&&o.preventDefault(),!r.dropBubble&&o.stopPropagation()),we&&we.parentNode&&we.parentNode.removeChild(we),(Ge===_e||rt&&rt.lastPutMode!=="clone")&&qe&&qe.parentNode&&qe.parentNode.removeChild(qe),Z&&(this.nativeDraggable&&Re(Z,"dragend",this),Uo(Z),Z.style["will-change"]="",wn&&!ln&&Ke(Z,rt?rt.options.ghostClass:this.options.ghostClass,!1),Ke(Z,this.options.chosenClass,!1),ct({sortable:this,name:"unchoose",toEl:_e,newIndex:null,newDraggableIndex:null,originalEvent:o}),Ge!==_e?(xt>=0&&(ct({rootEl:_e,name:"add",toEl:_e,fromEl:Ge,originalEvent:o}),ct({sortable:this,name:"remove",toEl:_e,originalEvent:o}),ct({rootEl:_e,name:"sort",toEl:_e,fromEl:Ge,originalEvent:o}),ct({sortable:this,name:"sort",toEl:_e,originalEvent:o})),rt&&rt.save()):xt!==un&&xt>=0&&(ct({sortable:this,name:"update",toEl:_e,originalEvent:o}),ct({sortable:this,name:"sort",toEl:_e,originalEvent:o})),me.active&&((xt==null||xt===-1)&&(xt=un,kt=An),ct({sortable:this,name:"end",toEl:_e,originalEvent:o}),this.save()))),this._nulling()},_nulling:function(){vt("nulling",this),Ge=Z=_e=we=Qt=qe=eo=Ut=_t=Et=wn=xt=kt=un=An=an=Vn=rt=Wn=me.dragged=me.ghost=me.clone=me.active=null,io.forEach(function(o){o.checked=!0}),io.length=No=jo=0},handleEvent:function(o){switch(o.type){case"drop":case"dragend":this._onDrop(o);break;case"dragenter":case"dragover":Z&&(this._onDragOver(o),Ag(o));break;case"selectstart":o.preventDefault();break}},toArray:function(){for(var o=[],t,r=this.el.children,a=0,s=r.length,n=this.options;a<s;a++)t=r[a],It(t,n.draggable,this.el,!1)&&o.push(t.getAttribute(n.dataIdAttr)||kg(t));return o},sort:function(o,t){var r={},a=this.el;this.toArray().forEach(function(s,n){var l=a.children[n];It(l,this.options.draggable,a,!1)&&(r[s]=l)},this),t&&this.captureAnimationState(),o.forEach(function(s){r[s]&&(a.removeChild(r[s]),a.appendChild(r[s]))}),t&&this.animateAll()},save:function(){var o=this.options.store;o&&o.set&&o.set(this)},closest:function(o,t){return It(o,t||this.options.draggable,this.el,!1)},option:function(o,t){var r=this.options;if(t===void 0)return r[o];var a=kn.modifyOption(this,o,t);typeof a<"u"?r[o]=a:r[o]=t,o==="group"&&Ja(r)},destroy:function(){vt("destroy",this);var o=this.el;o[ut]=null,Re(o,"mousedown",this._onTapStart),Re(o,"touchstart",this._onTapStart),Re(o,"pointerdown",this._onTapStart),this.nativeDraggable&&(Re(o,"dragover",this),Re(o,"dragenter",this)),Array.prototype.forEach.call(o.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),lo.splice(lo.indexOf(this.el),1),this.el=o=null},_hideClone:function(){if(!Ut){if(vt("hideClone",this),me.eventCanceled)return;ae(qe,"display","none"),this.options.removeCloneOnHide&&qe.parentNode&&qe.parentNode.removeChild(qe),Ut=!0}},_showClone:function(o){if(o.lastPutMode!=="clone"){this._hideClone();return}if(Ut){if(vt("showClone",this),me.eventCanceled)return;Z.parentNode==Ge&&!this.options.group.revertClone?Ge.insertBefore(qe,Z):Qt?Ge.insertBefore(qe,Qt):Ge.appendChild(qe),this.options.group.revertClone&&this.animate(Z,qe),ae(qe,"display",""),Ut=!1}}};function Ag(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function _n(e,o,t,r,a,s,n,l){var i,u=e[ut],d=u.options.onMove,c;return window.CustomEvent&&!Bt&&!jn?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=o,i.from=e,i.dragged=t,i.draggedRect=r,i.related=a||o,i.relatedRect=s||He(o),i.willInsertAfter=l,i.originalEvent=n,e.dispatchEvent(i),d&&(c=d.call(u,i,n)),c}function Uo(e){e.draggable=!1}function Vg(){ir=!1}function Lg(e,o,t){var r=He(fn(t.el,0,t.options,!0)),a=10;return o?e.clientX<r.left-a||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-a||e.clientY<r.bottom&&e.clientX<r.left}function Bg(e,o,t){var r=He(Er(t.el,t.options.draggable)),a=10;return o?e.clientX>r.right+a||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+a}function Ng(e,o,t,r,a,s,n,l){var i=r?e.clientY:e.clientX,u=r?t.height:t.width,d=r?t.top:t.left,c=r?t.bottom:t.right,p=!1;if(!n){if(l&&to<u*a){if(!Ln&&(Vn===1?i>d+u*s/2:i<c-u*s/2)&&(Ln=!0),Ln)p=!0;else if(Vn===1?i<d+to:i>c-to)return-Vn}else if(i>d+u*(1-a)/2&&i<c-u*(1-a)/2)return jg(o)}return p=p||n,p&&(i<d+u*s/2||i>c-u*s/2)?i>d+u/2?1:-1:0}function jg(e){return Je(Z)<Je(e)?1:-1}function kg(e){for(var o=e.tagName+e.className+e.src+e.href+e.textContent,t=o.length,r=0;t--;)r+=o.charCodeAt(t);return r.toString(36)}function Ug(e){io.length=0;for(var o=e.getElementsByTagName("input"),t=o.length;t--;){var r=o[t];r.checked&&io.push(r)}}function no(e){return setTimeout(e,0)}function ur(e){return clearTimeout(e)}wo&&De(document,"touchmove",function(e){(me.active||ln)&&e.cancelable&&e.preventDefault()});me.utils={on:De,off:Re,css:ae,find:Xa,is:function(o,t){return!!It(o,t,o,!1)},extend:$g,throttle:Ya,closest:It,toggleClass:Ke,clone:Rr,index:Je,nextTick:no,cancelNextTick:ur,detectDirection:Qa,getChild:fn};me.get=function(e){return e[ut]};me.mount=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];o[0].constructor===Array&&(o=o[0]),o.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(me.utils=Mt(Mt({},me.utils),r.utils)),kn.mount(r)})};me.create=function(e,o){return new me(e,o)};me.version=bg;var tt=[],Cn,dr,cr=!1,Go,Ho,uo,$n;function Gg(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this))}return e.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?De(document,"dragover",this._handleAutoScroll):this.options.supportPointer?De(document,"pointermove",this._handleFallbackAutoScroll):r.touches?De(document,"touchmove",this._handleFallbackAutoScroll):De(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Re(document,"dragover",this._handleAutoScroll):(Re(document,"pointermove",this._handleFallbackAutoScroll),Re(document,"touchmove",this._handleFallbackAutoScroll),Re(document,"mousemove",this._handleFallbackAutoScroll)),Xr(),oo(),Eg()},nulling:function(){uo=dr=Cn=cr=$n=Go=Ho=null,tt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var a=this,s=(t.touches?t.touches[0]:t).clientX,n=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(s,n);if(uo=t,r||this.options.forceAutoScrollFallback||jn||Bt||Mn){zo(t,this.options,l,r);var i=Ht(l,!0);cr&&(!$n||s!==Go||n!==Ho)&&($n&&Xr(),$n=setInterval(function(){var u=Ht(document.elementFromPoint(s,n),!0);u!==i&&(i=u,oo()),zo(t,a.options,u,r)},10),Go=s,Ho=n)}else{if(!this.options.bubbleScroll||Ht(l,!0)===Tt()){oo();return}zo(t,this.options,Ht(l,!1),!1)}}},Ct(e,{pluginName:"scroll",initializeByDefault:!0})}function oo(){tt.forEach(function(e){clearInterval(e.pid)}),tt=[]}function Xr(){clearInterval($n)}var zo=Ya(function(e,o,t,r){if(o.scroll){var a=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,n=o.scrollSensitivity,l=o.scrollSpeed,i=Tt(),u=!1,d;dr!==t&&(dr=t,oo(),Cn=o.scroll,d=o.scrollFn,Cn===!0&&(Cn=Ht(t,!0)));var c=0,p=Cn;do{var f=p,m=He(f),h=m.top,y=m.bottom,x=m.left,S=m.right,R=m.width,D=m.height,T=void 0,V=void 0,Q=f.scrollWidth,U=f.scrollHeight,b=ae(f),E=f.scrollLeft,M=f.scrollTop;f===i?(T=R<Q&&(b.overflowX==="auto"||b.overflowX==="scroll"||b.overflowX==="visible"),V=D<U&&(b.overflowY==="auto"||b.overflowY==="scroll"||b.overflowY==="visible")):(T=R<Q&&(b.overflowX==="auto"||b.overflowX==="scroll"),V=D<U&&(b.overflowY==="auto"||b.overflowY==="scroll"));var re=T&&(Math.abs(S-a)<=n&&E+R<Q)-(Math.abs(x-a)<=n&&!!E),B=V&&(Math.abs(y-s)<=n&&M+D<U)-(Math.abs(h-s)<=n&&!!M);if(!tt[c])for(var j=0;j<=c;j++)tt[j]||(tt[j]={});(tt[c].vx!=re||tt[c].vy!=B||tt[c].el!==f)&&(tt[c].el=f,tt[c].vx=re,tt[c].vy=B,clearInterval(tt[c].pid),(re!=0||B!=0)&&(u=!0,tt[c].pid=setInterval((function(){r&&this.layer===0&&me.active._onTouchMove(uo);var H=tt[this.layer].vy?tt[this.layer].vy*l:0,N=tt[this.layer].vx?tt[this.layer].vx*l:0;typeof d=="function"&&d.call(me.dragged.parentNode[ut],N,H,e,uo,tt[this.layer].el)!=="continue"||_a(tt[this.layer].el,N,H)}).bind({layer:c}),24))),c++}while(o.bubbleScroll&&p!==i&&(p=Ht(p,!1)));cr=u}},30),ts=function(o){var t=o.originalEvent,r=o.putSortable,a=o.dragEl,s=o.activeSortable,n=o.dispatchSortableEvent,l=o.hideGhostForTarget,i=o.unhideGhostForTarget;if(t){var u=r||s;l();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);i(),u&&!u.el.contains(c)&&(n("spill"),this.onSpill({dragEl:a,putSortable:r}))}};function Ir(){}Ir.prototype={startIndex:null,dragStart:function(o){var t=o.oldDraggableIndex;this.startIndex=t},onSpill:function(o){var t=o.dragEl,r=o.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var a=fn(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:ts};Ct(Ir,{pluginName:"revertOnSpill"});function Pr(){}Pr.prototype={onSpill:function(o){var t=o.dragEl,r=o.putSortable,a=r||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:ts};Ct(Pr,{pluginName:"removeOnSpill"});var wt;function Hg(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(t){var r=t.dragEl;wt=r},dragOverValid:function(t){var r=t.completed,a=t.target,s=t.onMove,n=t.activeSortable,l=t.changed,i=t.cancel;if(n.options.swap){var u=this.sortable.el,d=this.options;if(a&&a!==u){var c=wt;s(a)!==!1?(Ke(a,d.swapClass,!0),wt=a):wt=null,c&&c!==wt&&Ke(c,d.swapClass,!1)}l(),r(!0),i()}},drop:function(t){var r=t.activeSortable,a=t.putSortable,s=t.dragEl,n=a||this.sortable,l=this.options;wt&&Ke(wt,l.swapClass,!1),wt&&(l.swap||a&&a.options.swap)&&s!==wt&&(n.captureAnimationState(),n!==r&&r.captureAnimationState(),zg(s,wt),n.animateAll(),n!==r&&r.animateAll())},nulling:function(){wt=null}},Ct(e,{pluginName:"swap",eventProperties:function(){return{swapItem:wt}}})}function zg(e,o){var t=e.parentNode,r=o.parentNode,a,s;!t||!r||t.isEqualNode(o)||r.isEqualNode(e)||(a=Je(e),s=Je(o),t.isEqualNode(r)&&a<s&&s++,t.insertBefore(o,t.children[a]),r.insertBefore(e,r.children[s]))}var Se=[],yt=[],vn,Rt,hn=!1,ht=!1,sn=!1,ke,yn,qn;function Kg(){function e(o){for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));o.options.supportPointer?De(document,"pointerup",this._deselectMultiDrag):(De(document,"mouseup",this._deselectMultiDrag),De(document,"touchend",this._deselectMultiDrag)),De(document,"keydown",this._checkKeyDown),De(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,s){var n="";Se.length&&Rt===o?Se.forEach(function(l,i){n+=(i?", ":"")+l.textContent}):n=s.textContent,a.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var r=t.dragEl;ke=r},delayEnded:function(){this.isMultiDrag=~Se.indexOf(ke)},setupClone:function(t){var r=t.sortable,a=t.cancel;if(this.isMultiDrag){for(var s=0;s<Se.length;s++)yt.push(Rr(Se[s])),yt[s].sortableIndex=Se[s].sortableIndex,yt[s].draggable=!1,yt[s].style["will-change"]="",Ke(yt[s],this.options.selectedClass,!1),Se[s]===ke&&Ke(yt[s],this.options.chosenClass,!1);r._hideClone(),a()}},clone:function(t){var r=t.sortable,a=t.rootEl,s=t.dispatchSortableEvent,n=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Se.length&&Rt===r&&(Yr(!0,a),s("clone"),n()))},showClone:function(t){var r=t.cloneNowShown,a=t.rootEl,s=t.cancel;this.isMultiDrag&&(Yr(!1,a),yt.forEach(function(n){ae(n,"display","")}),r(),qn=!1,s())},hideClone:function(t){var r=this;t.sortable;var a=t.cloneNowHidden,s=t.cancel;this.isMultiDrag&&(yt.forEach(function(n){ae(n,"display","none"),r.options.removeCloneOnHide&&n.parentNode&&n.parentNode.removeChild(n)}),a(),qn=!0,s())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&Rt&&Rt.multiDrag._deselectMultiDrag(),Se.forEach(function(r){r.sortableIndex=Je(r)}),Se=Se.sort(function(r,a){return r.sortableIndex-a.sortableIndex}),sn=!0},dragStarted:function(t){var r=this,a=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){Se.forEach(function(n){n!==ke&&ae(n,"position","absolute")});var s=He(ke,!1,!0,!0);Se.forEach(function(n){n!==ke&&Hr(n,s)}),ht=!0,hn=!0}a.animateAll(function(){ht=!1,hn=!1,r.options.animation&&Se.forEach(function(n){Lo(n)}),r.options.sort&&Qn()})}},dragOver:function(t){var r=t.target,a=t.completed,s=t.cancel;ht&&~Se.indexOf(r)&&(a(!1),s())},revert:function(t){var r=t.fromSortable,a=t.rootEl,s=t.sortable,n=t.dragRect;Se.length>1&&(Se.forEach(function(l){s.addAnimationState({target:l,rect:ht?He(l):n}),Lo(l),l.fromRect=n,r.removeAnimationState(l)}),ht=!1,Wg(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(t){var r=t.sortable,a=t.isOwner,s=t.insertion,n=t.activeSortable,l=t.parentEl,i=t.putSortable,u=this.options;if(s){if(a&&n._hideClone(),hn=!1,u.animation&&Se.length>1&&(ht||!a&&!n.options.sort&&!i)){var d=He(ke,!1,!0,!0);Se.forEach(function(p){p!==ke&&(Hr(p,d),l.appendChild(p))}),ht=!0}if(!a)if(ht||Qn(),Se.length>1){var c=qn;n._showClone(r),n.options.animation&&!qn&&c&&yt.forEach(function(p){n.addAnimationState({target:p,rect:yn}),p.fromRect=yn,p.thisAnimationDuration=null})}else n._showClone(r)}},dragOverAnimationCapture:function(t){var r=t.dragRect,a=t.isOwner,s=t.activeSortable;if(Se.forEach(function(l){l.thisAnimationDuration=null}),s.options.animation&&!a&&s.multiDrag.isMultiDrag){yn=Ct({},r);var n=Jt(ke,!0);yn.top-=n.f,yn.left-=n.e}},dragOverAnimationComplete:function(){ht&&(ht=!1,Qn())},drop:function(t){var r=t.originalEvent,a=t.rootEl,s=t.parentEl,n=t.sortable,l=t.dispatchSortableEvent,i=t.oldIndex,u=t.putSortable,d=u||this.sortable;if(r){var c=this.options,p=s.children;if(!sn)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Ke(ke,c.selectedClass,!~Se.indexOf(ke)),~Se.indexOf(ke))Se.splice(Se.indexOf(ke),1),vn=null,Sn({sortable:n,rootEl:a,name:"deselect",targetEl:ke});else{if(Se.push(ke),Sn({sortable:n,rootEl:a,name:"select",targetEl:ke}),r.shiftKey&&vn&&n.el.contains(vn)){var f=Je(vn),m=Je(ke);if(~f&&~m&&f!==m){var h,y;for(m>f?(y=f,h=m):(y=m,h=f+1);y<h;y++)~Se.indexOf(p[y])||(Ke(p[y],c.selectedClass,!0),Se.push(p[y]),Sn({sortable:n,rootEl:a,name:"select",targetEl:p[y]}))}}else vn=ke;Rt=d}if(sn&&this.isMultiDrag){if(ht=!1,(s[ut].options.sort||s!==a)&&Se.length>1){var x=He(ke),S=Je(ke,":not(."+this.options.selectedClass+")");if(!hn&&c.animation&&(ke.thisAnimationDuration=null),d.captureAnimationState(),!hn&&(c.animation&&(ke.fromRect=x,Se.forEach(function(D){if(D.thisAnimationDuration=null,D!==ke){var T=ht?He(D):x;D.fromRect=T,d.addAnimationState({target:D,rect:T})}})),Qn(),Se.forEach(function(D){p[S]?s.insertBefore(D,p[S]):s.appendChild(D),S++}),i===Je(ke))){var R=!1;Se.forEach(function(D){if(D.sortableIndex!==Je(D)){R=!0;return}}),R&&l("update")}Se.forEach(function(D){Lo(D)}),d.animateAll()}Rt=d}(a===s||u&&u.lastPutMode!=="clone")&&yt.forEach(function(D){D.parentNode&&D.parentNode.removeChild(D)})}},nullingGlobal:function(){this.isMultiDrag=sn=!1,yt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Re(document,"pointerup",this._deselectMultiDrag),Re(document,"mouseup",this._deselectMultiDrag),Re(document,"touchend",this._deselectMultiDrag),Re(document,"keydown",this._checkKeyDown),Re(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(typeof sn<"u"&&sn)&&Rt===this.sortable&&!(t&&It(t.target,this.options.draggable,this.sortable.el,!1))&&!(t&&t.button!==0))for(;Se.length;){var r=Se[0];Ke(r,this.options.selectedClass,!1),Se.shift(),Sn({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ct(e,{pluginName:"multiDrag",utils:{select:function(t){var r=t.parentNode[ut];!r||!r.options.multiDrag||~Se.indexOf(t)||(Rt&&Rt!==r&&(Rt.multiDrag._deselectMultiDrag(),Rt=r),Ke(t,r.options.selectedClass,!0),Se.push(t))},deselect:function(t){var r=t.parentNode[ut],a=Se.indexOf(t);!r||!r.options.multiDrag||!~a||(Ke(t,r.options.selectedClass,!1),Se.splice(a,1))}},eventProperties:function(){var t=this,r=[],a=[];return Se.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var n;ht&&s!==ke?n=-1:ht?n=Je(s,":not(."+t.options.selectedClass+")"):n=Je(s),a.push({multiDragElement:s,index:n})}),{items:mg(Se),clones:[].concat(yt),oldIndicies:r,newIndicies:a}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),t==="ctrl"?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function Wg(e,o){Se.forEach(function(t,r){var a=o.children[t.sortableIndex+(e?Number(r):0)];a?o.insertBefore(t,a):o.appendChild(t)})}function Yr(e,o){yt.forEach(function(t,r){var a=o.children[t.sortableIndex+(e?Number(r):0)];a?o.insertBefore(t,a):o.appendChild(t)})}function Qn(){Se.forEach(function(e){e!==ke&&e.parentNode&&e.parentNode.removeChild(e)})}me.mount(new Gg);me.mount(Pr,Ir);const Xg=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Kg,Sortable:me,Swap:Hg,default:me},Symbol.toStringTag,{value:"Module"})),Yg=Ha(Xg);(function(e,o){(function(r,a){e.exports=a(cg,Yg)})(typeof self<"u"?self:ug,function(t,r){return function(a){var s={};function n(l){if(s[l])return s[l].exports;var i=s[l]={i:l,l:!1,exports:{}};return a[l].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=a,n.c=s,n.d=function(l,i,u){n.o(l,i)||Object.defineProperty(l,i,{enumerable:!0,get:u})},n.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},n.t=function(l,i){if(i&1&&(l=n(l)),i&8||i&4&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),i&2&&typeof l!="string")for(var d in l)n.d(u,d,(function(c){return l[c]}).bind(null,d));return u},n.n=function(l){var i=l&&l.__esModule?function(){return l.default}:function(){return l};return n.d(i,"a",i),i},n.o=function(l,i){return Object.prototype.hasOwnProperty.call(l,i)},n.p="",n(n.s="fb15")}({"00ee":function(a,s,n){var l=n("b622"),i=l("toStringTag"),u={};u[i]="z",a.exports=String(u)==="[object z]"},"0366":function(a,s,n){var l=n("1c0b");a.exports=function(i,u,d){if(l(i),u===void 0)return i;switch(d){case 0:return function(){return i.call(u)};case 1:return function(c){return i.call(u,c)};case 2:return function(c,p){return i.call(u,c,p)};case 3:return function(c,p,f){return i.call(u,c,p,f)}}return function(){return i.apply(u,arguments)}}},"057f":function(a,s,n){var l=n("fc6a"),i=n("241c").f,u={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(p){try{return i(p)}catch{return d.slice()}};a.exports.f=function(f){return d&&u.call(f)=="[object Window]"?c(f):i(l(f))}},"06cf":function(a,s,n){var l=n("83ab"),i=n("d1e7"),u=n("5c6c"),d=n("fc6a"),c=n("c04e"),p=n("5135"),f=n("0cfb"),m=Object.getOwnPropertyDescriptor;s.f=l?m:function(y,x){if(y=d(y),x=c(x,!0),f)try{return m(y,x)}catch{}if(p(y,x))return u(!i.f.call(y,x),y[x])}},"0cfb":function(a,s,n){var l=n("83ab"),i=n("d039"),u=n("cc12");a.exports=!l&&!i(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,s,n){var l=n("23e7"),i=n("d58f").left,u=n("a640"),d=n("ae40"),c=u("reduce"),p=d("reduce",{1:0});l({target:"Array",proto:!0,forced:!c||!p},{reduce:function(m){return i(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,s,n){var l=n("c6b6"),i=n("9263");a.exports=function(u,d){var c=u.exec;if(typeof c=="function"){var p=c.call(u,d);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(l(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return i.call(u,d)}},"159b":function(a,s,n){var l=n("da84"),i=n("fdbc"),u=n("17c2"),d=n("9112");for(var c in i){var p=l[c],f=p&&p.prototype;if(f&&f.forEach!==u)try{d(f,"forEach",u)}catch{f.forEach=u}}},"17c2":function(a,s,n){var l=n("b727").forEach,i=n("a640"),u=n("ae40"),d=i("forEach"),c=u("forEach");a.exports=!d||!c?function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,s,n){var l=n("d066");a.exports=l("document","documentElement")},"1c0b":function(a,s){a.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},"1c7e":function(a,s,n){var l=n("b622"),i=l("iterator"),u=!1;try{var d=0,c={next:function(){return{done:!!d++}},return:function(){u=!0}};c[i]=function(){return this},Array.from(c,function(){throw 2})}catch{}a.exports=function(p,f){if(!f&&!u)return!1;var m=!1;try{var h={};h[i]=function(){return{next:function(){return{done:m=!0}}}},p(h)}catch{}return m}},"1d80":function(a,s){a.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},"1dde":function(a,s,n){var l=n("d039"),i=n("b622"),u=n("2d00"),d=i("species");a.exports=function(c){return u>=51||!l(function(){var p=[],f=p.constructor={};return f[d]=function(){return{foo:1}},p[c](Boolean).foo!==1})}},"23cb":function(a,s,n){var l=n("a691"),i=Math.max,u=Math.min;a.exports=function(d,c){var p=l(d);return p<0?i(p+c,0):u(p,c)}},"23e7":function(a,s,n){var l=n("da84"),i=n("06cf").f,u=n("9112"),d=n("6eeb"),c=n("ce4e"),p=n("e893"),f=n("94ca");a.exports=function(m,h){var y=m.target,x=m.global,S=m.stat,R,D,T,V,Q,U;if(x?D=l:S?D=l[y]||c(y,{}):D=(l[y]||{}).prototype,D)for(T in h){if(Q=h[T],m.noTargetGet?(U=i(D,T),V=U&&U.value):V=D[T],R=f(x?T:y+(S?".":"#")+T,m.forced),!R&&V!==void 0){if(typeof Q==typeof V)continue;p(Q,V)}(m.sham||V&&V.sham)&&u(Q,"sham",!0),d(D,T,Q,m)}}},"241c":function(a,s,n){var l=n("ca84"),i=n("7839"),u=i.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return l(c,u)}},"25f0":function(a,s,n){var l=n("6eeb"),i=n("825a"),u=n("d039"),d=n("ad6d"),c="toString",p=RegExp.prototype,f=p[c],m=u(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),h=f.name!=c;(m||h)&&l(RegExp.prototype,c,function(){var x=i(this),S=String(x.source),R=x.flags,D=String(R===void 0&&x instanceof RegExp&&!("flags"in p)?d.call(x):R);return"/"+S+"/"+D},{unsafe:!0})},"2ca0":function(a,s,n){var l=n("23e7"),i=n("06cf").f,u=n("50c4"),d=n("5a34"),c=n("1d80"),p=n("ab13"),f=n("c430"),m="".startsWith,h=Math.min,y=p("startsWith"),x=!f&&!y&&!!function(){var S=i(String.prototype,"startsWith");return S&&!S.writable}();l({target:"String",proto:!0,forced:!x&&!y},{startsWith:function(R){var D=String(c(this));d(R);var T=u(h(arguments.length>1?arguments[1]:void 0,D.length)),V=String(R);return m?m.call(D,V,T):D.slice(T,T+V.length)===V}})},"2d00":function(a,s,n){var l=n("da84"),i=n("342f"),u=l.process,d=u&&u.versions,c=d&&d.v8,p,f;c?(p=c.split("."),f=p[0]+p[1]):i&&(p=i.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=i.match(/Chrome\/(\d+)/),p&&(f=p[1]))),a.exports=f&&+f},"342f":function(a,s,n){var l=n("d066");a.exports=l("navigator","userAgent")||""},"35a1":function(a,s,n){var l=n("f5df"),i=n("3f8c"),u=n("b622"),d=u("iterator");a.exports=function(c){if(c!=null)return c[d]||c["@@iterator"]||i[l(c)]}},"37e8":function(a,s,n){var l=n("83ab"),i=n("9bf2"),u=n("825a"),d=n("df75");a.exports=l?Object.defineProperties:function(p,f){u(p);for(var m=d(f),h=m.length,y=0,x;h>y;)i.f(p,x=m[y++],f[x]);return p}},"3bbe":function(a,s,n){var l=n("861d");a.exports=function(i){if(!l(i)&&i!==null)throw TypeError("Can't set "+String(i)+" as a prototype");return i}},"3ca3":function(a,s,n){var l=n("6547").charAt,i=n("69f3"),u=n("7dd0"),d="String Iterator",c=i.set,p=i.getterFor(d);u(String,"String",function(f){c(this,{type:d,string:String(f),index:0})},function(){var m=p(this),h=m.string,y=m.index,x;return y>=h.length?{value:void 0,done:!0}:(x=l(h,y),m.index+=x.length,{value:x,done:!1})})},"3f8c":function(a,s){a.exports={}},4160:function(a,s,n){var l=n("23e7"),i=n("17c2");l({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(a,s,n){var l=n("da84");a.exports=l},"44ad":function(a,s,n){var l=n("d039"),i=n("c6b6"),u="".split;a.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return i(d)=="String"?u.call(d,""):Object(d)}:Object},"44d2":function(a,s,n){var l=n("b622"),i=n("7c73"),u=n("9bf2"),d=l("unscopables"),c=Array.prototype;c[d]==null&&u.f(c,d,{configurable:!0,value:i(null)}),a.exports=function(p){c[d][p]=!0}},"44e7":function(a,s,n){var l=n("861d"),i=n("c6b6"),u=n("b622"),d=u("match");a.exports=function(c){var p;return l(c)&&((p=c[d])!==void 0?!!p:i(c)=="RegExp")}},4930:function(a,s,n){var l=n("d039");a.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})},"4d64":function(a,s,n){var l=n("fc6a"),i=n("50c4"),u=n("23cb"),d=function(c){return function(p,f,m){var h=l(p),y=i(h.length),x=u(m,y),S;if(c&&f!=f){for(;y>x;)if(S=h[x++],S!=S)return!0}else for(;y>x;x++)if((c||x in h)&&h[x]===f)return c||x||0;return!c&&-1}};a.exports={includes:d(!0),indexOf:d(!1)}},"4de4":function(a,s,n){var l=n("23e7"),i=n("b727").filter,u=n("1dde"),d=n("ae40"),c=u("filter"),p=d("filter");l({target:"Array",proto:!0,forced:!c||!p},{filter:function(m){return i(this,m,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,s,n){var l=n("0366"),i=n("7b0b"),u=n("9bdd"),d=n("e95a"),c=n("50c4"),p=n("8418"),f=n("35a1");a.exports=function(h){var y=i(h),x=typeof this=="function"?this:Array,S=arguments.length,R=S>1?arguments[1]:void 0,D=R!==void 0,T=f(y),V=0,Q,U,b,E,M,re;if(D&&(R=l(R,S>2?arguments[2]:void 0,2)),T!=null&&!(x==Array&&d(T)))for(E=T.call(y),M=E.next,U=new x;!(b=M.call(E)).done;V++)re=D?u(E,R,[b.value,V],!0):b.value,p(U,V,re);else for(Q=c(y.length),U=new x(Q);Q>V;V++)re=D?R(y[V],V):y[V],p(U,V,re);return U.length=V,U}},"4fad":function(a,s,n){var l=n("23e7"),i=n("6f53").entries;l({target:"Object",stat:!0},{entries:function(d){return i(d)}})},"50c4":function(a,s,n){var l=n("a691"),i=Math.min;a.exports=function(u){return u>0?i(l(u),9007199254740991):0}},5135:function(a,s){var n={}.hasOwnProperty;a.exports=function(l,i){return n.call(l,i)}},5319:function(a,s,n){var l=n("d784"),i=n("825a"),u=n("7b0b"),d=n("50c4"),c=n("a691"),p=n("1d80"),f=n("8aa5"),m=n("14c3"),h=Math.max,y=Math.min,x=Math.floor,S=/\$([$&'`]|\d\d?|<[^>]*>)/g,R=/\$([$&'`]|\d\d?)/g,D=function(T){return T===void 0?T:String(T)};l("replace",2,function(T,V,Q,U){var b=U.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=U.REPLACE_KEEPS_$0,M=b?"$":"$0";return[function(j,H){var N=p(this),J=j==null?void 0:j[T];return J!==void 0?J.call(j,N,H):V.call(String(N),j,H)},function(B,j){if(!b&&E||typeof j=="string"&&j.indexOf(M)===-1){var H=Q(V,B,this,j);if(H.done)return H.value}var N=i(B),J=String(this),de=typeof j=="function";de||(j=String(j));var Ce=N.global;if(Ce){var Ve=N.unicode;N.lastIndex=0}for(var Oe=[];;){var Ie=m(N,J);if(Ie===null||(Oe.push(Ie),!Ce))break;var _=String(Ie[0]);_===""&&(N.lastIndex=f(J,d(N.lastIndex),Ve))}for(var q="",fe=0,ce=0;ce<Oe.length;ce++){Ie=Oe[ce];for(var $e=String(Ie[0]),je=h(y(c(Ie.index),J.length),0),Y=[],P=1;P<Ie.length;P++)Y.push(D(Ie[P]));var W=Ie.groups;if(de){var Ne=[$e].concat(Y,je,J);W!==void 0&&Ne.push(W);var Ye=String(j.apply(void 0,Ne))}else Ye=re($e,J,je,Y,W,j);je>=fe&&(q+=J.slice(fe,je)+Ye,fe=je+$e.length)}return q+J.slice(fe)}];function re(B,j,H,N,J,de){var Ce=H+B.length,Ve=N.length,Oe=R;return J!==void 0&&(J=u(J),Oe=S),V.call(de,Oe,function(Ie,_){var q;switch(_.charAt(0)){case"$":return"$";case"&":return B;case"`":return j.slice(0,H);case"'":return j.slice(Ce);case"<":q=J[_.slice(1,-1)];break;default:var fe=+_;if(fe===0)return Ie;if(fe>Ve){var ce=x(fe/10);return ce===0?Ie:ce<=Ve?N[ce-1]===void 0?_.charAt(1):N[ce-1]+_.charAt(1):Ie}q=N[fe-1]}return q===void 0?"":q})}})},5692:function(a,s,n){var l=n("c430"),i=n("c6cd");(a.exports=function(u,d){return i[u]||(i[u]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,s,n){var l=n("d066"),i=n("241c"),u=n("7418"),d=n("825a");a.exports=l("Reflect","ownKeys")||function(p){var f=i.f(d(p)),m=u.f;return m?f.concat(m(p)):f}},"5a34":function(a,s,n){var l=n("44e7");a.exports=function(i){if(l(i))throw TypeError("The method doesn't accept regular expressions");return i}},"5c6c":function(a,s){a.exports=function(n,l){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:l}}},"5db7":function(a,s,n){var l=n("23e7"),i=n("a2bf"),u=n("7b0b"),d=n("50c4"),c=n("1c0b"),p=n("65f0");l({target:"Array",proto:!0},{flatMap:function(m){var h=u(this),y=d(h.length),x;return c(m),x=p(h,0),x.length=i(x,h,h,y,0,1,m,arguments.length>1?arguments[1]:void 0),x}})},6547:function(a,s,n){var l=n("a691"),i=n("1d80"),u=function(d){return function(c,p){var f=String(i(c)),m=l(p),h=f.length,y,x;return m<0||m>=h?d?"":void 0:(y=f.charCodeAt(m),y<55296||y>56319||m+1===h||(x=f.charCodeAt(m+1))<56320||x>57343?d?f.charAt(m):y:d?f.slice(m,m+2):(y-55296<<10)+(x-56320)+65536)}};a.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(a,s,n){var l=n("861d"),i=n("e8b5"),u=n("b622"),d=u("species");a.exports=function(c,p){var f;return i(c)&&(f=c.constructor,typeof f=="function"&&(f===Array||i(f.prototype))?f=void 0:l(f)&&(f=f[d],f===null&&(f=void 0))),new(f===void 0?Array:f)(p===0?0:p)}},"69f3":function(a,s,n){var l=n("7f9a"),i=n("da84"),u=n("861d"),d=n("9112"),c=n("5135"),p=n("f772"),f=n("d012"),m=i.WeakMap,h,y,x,S=function(b){return x(b)?y(b):h(b,{})},R=function(b){return function(E){var M;if(!u(E)||(M=y(E)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return M}};if(l){var D=new m,T=D.get,V=D.has,Q=D.set;h=function(b,E){return Q.call(D,b,E),E},y=function(b){return T.call(D,b)||{}},x=function(b){return V.call(D,b)}}else{var U=p("state");f[U]=!0,h=function(b,E){return d(b,U,E),E},y=function(b){return c(b,U)?b[U]:{}},x=function(b){return c(b,U)}}a.exports={set:h,get:y,has:x,enforce:S,getterFor:R}},"6eeb":function(a,s,n){var l=n("da84"),i=n("9112"),u=n("5135"),d=n("ce4e"),c=n("8925"),p=n("69f3"),f=p.get,m=p.enforce,h=String(String).split("String");(a.exports=function(y,x,S,R){var D=R?!!R.unsafe:!1,T=R?!!R.enumerable:!1,V=R?!!R.noTargetGet:!1;if(typeof S=="function"&&(typeof x=="string"&&!u(S,"name")&&i(S,"name",x),m(S).source=h.join(typeof x=="string"?x:"")),y===l){T?y[x]=S:d(x,S);return}else D?!V&&y[x]&&(T=!0):delete y[x];T?y[x]=S:i(y,x,S)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||c(this)})},"6f53":function(a,s,n){var l=n("83ab"),i=n("df75"),u=n("fc6a"),d=n("d1e7").f,c=function(p){return function(f){for(var m=u(f),h=i(m),y=h.length,x=0,S=[],R;y>x;)R=h[x++],(!l||d.call(m,R))&&S.push(p?[R,m[R]]:m[R]);return S}};a.exports={entries:c(!0),values:c(!1)}},"73d9":function(a,s,n){var l=n("44d2");l("flatMap")},7418:function(a,s){s.f=Object.getOwnPropertySymbols},"746f":function(a,s,n){var l=n("428f"),i=n("5135"),u=n("e538"),d=n("9bf2").f;a.exports=function(c){var p=l.Symbol||(l.Symbol={});i(p,c)||d(p,c,{value:u.f(c)})}},7839:function(a,s){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,s,n){var l=n("1d80");a.exports=function(i){return Object(l(i))}},"7c73":function(a,s,n){var l=n("825a"),i=n("37e8"),u=n("7839"),d=n("d012"),c=n("1be4"),p=n("cc12"),f=n("f772"),m=">",h="<",y="prototype",x="script",S=f("IE_PROTO"),R=function(){},D=function(b){return h+x+m+b+h+"/"+x+m},T=function(b){b.write(D("")),b.close();var E=b.parentWindow.Object;return b=null,E},V=function(){var b=p("iframe"),E="java"+x+":",M;return b.style.display="none",c.appendChild(b),b.src=String(E),M=b.contentWindow.document,M.open(),M.write(D("document.F=Object")),M.close(),M.F},Q,U=function(){try{Q=document.domain&&new ActiveXObject("htmlfile")}catch{}U=Q?T(Q):V();for(var b=u.length;b--;)delete U[y][u[b]];return U()};d[S]=!0,a.exports=Object.create||function(E,M){var re;return E!==null?(R[y]=l(E),re=new R,R[y]=null,re[S]=E):re=U(),M===void 0?re:i(re,M)}},"7dd0":function(a,s,n){var l=n("23e7"),i=n("9ed3"),u=n("e163"),d=n("d2bb"),c=n("d44e"),p=n("9112"),f=n("6eeb"),m=n("b622"),h=n("c430"),y=n("3f8c"),x=n("ae93"),S=x.IteratorPrototype,R=x.BUGGY_SAFARI_ITERATORS,D=m("iterator"),T="keys",V="values",Q="entries",U=function(){return this};a.exports=function(b,E,M,re,B,j,H){i(M,E,re);var N=function(ce){if(ce===B&&Oe)return Oe;if(!R&&ce in Ce)return Ce[ce];switch(ce){case T:return function(){return new M(this,ce)};case V:return function(){return new M(this,ce)};case Q:return function(){return new M(this,ce)}}return function(){return new M(this)}},J=E+" Iterator",de=!1,Ce=b.prototype,Ve=Ce[D]||Ce["@@iterator"]||B&&Ce[B],Oe=!R&&Ve||N(B),Ie=E=="Array"&&Ce.entries||Ve,_,q,fe;if(Ie&&(_=u(Ie.call(new b)),S!==Object.prototype&&_.next&&(!h&&u(_)!==S&&(d?d(_,S):typeof _[D]!="function"&&p(_,D,U)),c(_,J,!0,!0),h&&(y[J]=U))),B==V&&Ve&&Ve.name!==V&&(de=!0,Oe=function(){return Ve.call(this)}),(!h||H)&&Ce[D]!==Oe&&p(Ce,D,Oe),y[E]=Oe,B)if(q={values:N(V),keys:j?Oe:N(T),entries:N(Q)},H)for(fe in q)(R||de||!(fe in Ce))&&f(Ce,fe,q[fe]);else l({target:E,proto:!0,forced:R||de},q);return q}},"7f9a":function(a,s,n){var l=n("da84"),i=n("8925"),u=l.WeakMap;a.exports=typeof u=="function"&&/native code/.test(i(u))},"825a":function(a,s,n){var l=n("861d");a.exports=function(i){if(!l(i))throw TypeError(String(i)+" is not an object");return i}},"83ab":function(a,s,n){var l=n("d039");a.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,s,n){var l=n("c04e"),i=n("9bf2"),u=n("5c6c");a.exports=function(d,c,p){var f=l(c);f in d?i.f(d,f,u(0,p)):d[f]=p}},"861d":function(a,s){a.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},8875:function(a,s,n){var l,i,u;(function(d,c){i=[],l=c,u=typeof l=="function"?l.apply(s,i):l,u!==void 0&&(a.exports=u)})(typeof self<"u"?self:this,function(){function d(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==d&&document.currentScript)return document.currentScript;try{throw new Error}catch(Q){var p=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,m=p.exec(Q.stack)||f.exec(Q.stack),h=m&&m[1]||!1,y=m&&m[2]||!1,x=document.location.href.replace(document.location.hash,""),S,R,D,T=document.getElementsByTagName("script");h===x&&(S=document.documentElement.outerHTML,R=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),D=S.replace(R,"$1").trim());for(var V=0;V<T.length;V++)if(T[V].readyState==="interactive"||T[V].src===h||h===x&&T[V].innerHTML&&T[V].innerHTML.trim()===D)return T[V];return null}}return d})},8925:function(a,s,n){var l=n("c6cd"),i=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(u){return i.call(u)}),a.exports=l.inspectSource},"8aa5":function(a,s,n){var l=n("6547").charAt;a.exports=function(i,u,d){return u+(d?l(i,u).length:1)}},"8bbf":function(a,s){a.exports=t},"90e3":function(a,s){var n=0,l=Math.random();a.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++n+l).toString(36)}},9112:function(a,s,n){var l=n("83ab"),i=n("9bf2"),u=n("5c6c");a.exports=l?function(d,c,p){return i.f(d,c,u(1,p))}:function(d,c,p){return d[c]=p,d}},9263:function(a,s,n){var l=n("ad6d"),i=n("9f7f"),u=RegExp.prototype.exec,d=String.prototype.replace,c=u,p=function(){var y=/a/,x=/b*/g;return u.call(y,"a"),u.call(x,"a"),y.lastIndex!==0||x.lastIndex!==0}(),f=i.UNSUPPORTED_Y||i.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,h=p||m||f;h&&(c=function(x){var S=this,R,D,T,V,Q=f&&S.sticky,U=l.call(S),b=S.source,E=0,M=x;return Q&&(U=U.replace("y",""),U.indexOf("g")===-1&&(U+="g"),M=String(x).slice(S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&x[S.lastIndex-1]!==`
`)&&(b="(?: "+b+")",M=" "+M,E++),D=new RegExp("^(?:"+b+")",U)),m&&(D=new RegExp("^"+b+"$(?!\\s)",U)),p&&(R=S.lastIndex),T=u.call(Q?D:S,M),Q?T?(T.input=T.input.slice(E),T[0]=T[0].slice(E),T.index=S.lastIndex,S.lastIndex+=T[0].length):S.lastIndex=0:p&&T&&(S.lastIndex=S.global?T.index+T[0].length:R),m&&T&&T.length>1&&d.call(T[0],D,function(){for(V=1;V<arguments.length-2;V++)arguments[V]===void 0&&(T[V]=void 0)}),T}),a.exports=c},"94ca":function(a,s,n){var l=n("d039"),i=/#|\.prototype\./,u=function(m,h){var y=c[d(m)];return y==f?!0:y==p?!1:typeof h=="function"?l(h):!!h},d=u.normalize=function(m){return String(m).replace(i,".").toLowerCase()},c=u.data={},p=u.NATIVE="N",f=u.POLYFILL="P";a.exports=u},"99af":function(a,s,n){var l=n("23e7"),i=n("d039"),u=n("e8b5"),d=n("861d"),c=n("7b0b"),p=n("50c4"),f=n("8418"),m=n("65f0"),h=n("1dde"),y=n("b622"),x=n("2d00"),S=y("isConcatSpreadable"),R=9007199254740991,D="Maximum allowed index exceeded",T=x>=51||!i(function(){var b=[];return b[S]=!1,b.concat()[0]!==b}),V=h("concat"),Q=function(b){if(!d(b))return!1;var E=b[S];return E!==void 0?!!E:u(b)},U=!T||!V;l({target:"Array",proto:!0,forced:U},{concat:function(E){var M=c(this),re=m(M,0),B=0,j,H,N,J,de;for(j=-1,N=arguments.length;j<N;j++)if(de=j===-1?M:arguments[j],Q(de)){if(J=p(de.length),B+J>R)throw TypeError(D);for(H=0;H<J;H++,B++)H in de&&f(re,B,de[H])}else{if(B>=R)throw TypeError(D);f(re,B++,de)}return re.length=B,re}})},"9bdd":function(a,s,n){var l=n("825a");a.exports=function(i,u,d,c){try{return c?u(l(d)[0],d[1]):u(d)}catch(f){var p=i.return;throw p!==void 0&&l(p.call(i)),f}}},"9bf2":function(a,s,n){var l=n("83ab"),i=n("0cfb"),u=n("825a"),d=n("c04e"),c=Object.defineProperty;s.f=l?c:function(f,m,h){if(u(f),m=d(m,!0),u(h),i)try{return c(f,m,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(f[m]=h.value),f}},"9ed3":function(a,s,n){var l=n("ae93").IteratorPrototype,i=n("7c73"),u=n("5c6c"),d=n("d44e"),c=n("3f8c"),p=function(){return this};a.exports=function(f,m,h){var y=m+" Iterator";return f.prototype=i(l,{next:u(1,h)}),d(f,y,!1,!0),c[y]=p,f}},"9f7f":function(a,s,n){var l=n("d039");function i(u,d){return RegExp(u,d)}s.UNSUPPORTED_Y=l(function(){var u=i("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=l(function(){var u=i("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(a,s,n){var l=n("e8b5"),i=n("50c4"),u=n("0366"),d=function(c,p,f,m,h,y,x,S){for(var R=h,D=0,T=x?u(x,S,3):!1,V;D<m;){if(D in f){if(V=T?T(f[D],D,p):f[D],y>0&&l(V))R=d(c,p,V,i(V.length),R,y-1)-1;else{if(R>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[R]=V}R++}D++}return R};a.exports=d},a352:function(a,s){a.exports=r},a434:function(a,s,n){var l=n("23e7"),i=n("23cb"),u=n("a691"),d=n("50c4"),c=n("7b0b"),p=n("65f0"),f=n("8418"),m=n("1dde"),h=n("ae40"),y=m("splice"),x=h("splice",{ACCESSORS:!0,0:0,1:2}),S=Math.max,R=Math.min,D=9007199254740991,T="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!y||!x},{splice:function(Q,U){var b=c(this),E=d(b.length),M=i(Q,E),re=arguments.length,B,j,H,N,J,de;if(re===0?B=j=0:re===1?(B=0,j=E-M):(B=re-2,j=R(S(u(U),0),E-M)),E+B-j>D)throw TypeError(T);for(H=p(b,j),N=0;N<j;N++)J=M+N,J in b&&f(H,N,b[J]);if(H.length=j,B<j){for(N=M;N<E-j;N++)J=N+j,de=N+B,J in b?b[de]=b[J]:delete b[de];for(N=E;N>E-j+B;N--)delete b[N-1]}else if(B>j)for(N=E-j;N>M;N--)J=N+j-1,de=N+B-1,J in b?b[de]=b[J]:delete b[de];for(N=0;N<B;N++)b[N+M]=arguments[N+2];return b.length=E-j+B,H}})},a4d3:function(a,s,n){var l=n("23e7"),i=n("da84"),u=n("d066"),d=n("c430"),c=n("83ab"),p=n("4930"),f=n("fdbf"),m=n("d039"),h=n("5135"),y=n("e8b5"),x=n("861d"),S=n("825a"),R=n("7b0b"),D=n("fc6a"),T=n("c04e"),V=n("5c6c"),Q=n("7c73"),U=n("df75"),b=n("241c"),E=n("057f"),M=n("7418"),re=n("06cf"),B=n("9bf2"),j=n("d1e7"),H=n("9112"),N=n("6eeb"),J=n("5692"),de=n("f772"),Ce=n("d012"),Ve=n("90e3"),Oe=n("b622"),Ie=n("e538"),_=n("746f"),q=n("d44e"),fe=n("69f3"),ce=n("b727").forEach,$e=de("hidden"),je="Symbol",Y="prototype",P=Oe("toPrimitive"),W=fe.set,Ne=fe.getterFor(je),Ye=Object[Y],Pe=i.Symbol,et=u("JSON","stringify"),ft=re.f,pt=B.f,Xt=E.f,nn=j.f,gt=J("symbols"),$t=J("op-symbols"),Nt=J("string-to-symbol-registry"),Yt=J("symbol-to-string-registry"),jt=J("wks"),A=i.QObject,k=!A||!A[Y]||!A[Y].findChild,z=c&&m(function(){return Q(pt({},"a",{get:function(){return pt(this,"a",{value:7}).a}})).a!=7})?function(ye,se,ge){var Te=ft(Ye,se);Te&&delete Ye[se],pt(ye,se,ge),Te&&ye!==Ye&&pt(Ye,se,Te)}:pt,le=function(ye,se){var ge=gt[ye]=Q(Pe[Y]);return W(ge,{type:je,tag:ye,description:se}),c||(ge.description=se),ge},I=f?function(ye){return typeof ye=="symbol"}:function(ye){return Object(ye)instanceof Pe},O=function(se,ge,Te){se===Ye&&O($t,ge,Te),S(se);var Fe=T(ge,!0);return S(Te),h(gt,Fe)?(Te.enumerable?(h(se,$e)&&se[$e][Fe]&&(se[$e][Fe]=!1),Te=Q(Te,{enumerable:V(0,!1)})):(h(se,$e)||pt(se,$e,V(1,{})),se[$e][Fe]=!0),z(se,Fe,Te)):pt(se,Fe,Te)},L=function(se,ge){S(se);var Te=D(ge),Fe=U(Te).concat(Be(Te));return ce(Fe,function(mt){(!c||oe.call(Te,mt))&&O(se,mt,Te[mt])}),se},G=function(se,ge){return ge===void 0?Q(se):L(Q(se),ge)},oe=function(se){var ge=T(se,!0),Te=nn.call(this,ge);return this===Ye&&h(gt,ge)&&!h($t,ge)?!1:Te||!h(this,ge)||!h(gt,ge)||h(this,$e)&&this[$e][ge]?Te:!0},pe=function(se,ge){var Te=D(se),Fe=T(ge,!0);if(!(Te===Ye&&h(gt,Fe)&&!h($t,Fe))){var mt=ft(Te,Fe);return mt&&h(gt,Fe)&&!(h(Te,$e)&&Te[$e][Fe])&&(mt.enumerable=!0),mt}},be=function(se){var ge=Xt(D(se)),Te=[];return ce(ge,function(Fe){!h(gt,Fe)&&!h(Ce,Fe)&&Te.push(Fe)}),Te},Be=function(se){var ge=se===Ye,Te=Xt(ge?$t:D(se)),Fe=[];return ce(Te,function(mt){h(gt,mt)&&(!ge||h(Ye,mt))&&Fe.push(gt[mt])}),Fe};if(p||(Pe=function(){if(this instanceof Pe)throw TypeError("Symbol is not a constructor");var se=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ge=Ve(se),Te=function(Fe){this===Ye&&Te.call($t,Fe),h(this,$e)&&h(this[$e],ge)&&(this[$e][ge]=!1),z(this,ge,V(1,Fe))};return c&&k&&z(Ye,ge,{configurable:!0,set:Te}),le(ge,se)},N(Pe[Y],"toString",function(){return Ne(this).tag}),N(Pe,"withoutSetter",function(ye){return le(Ve(ye),ye)}),j.f=oe,B.f=O,re.f=pe,b.f=E.f=be,M.f=Be,Ie.f=function(ye){return le(Oe(ye),ye)},c&&(pt(Pe[Y],"description",{configurable:!0,get:function(){return Ne(this).description}}),d||N(Ye,"propertyIsEnumerable",oe,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Pe}),ce(U(jt),function(ye){_(ye)}),l({target:je,stat:!0,forced:!p},{for:function(ye){var se=String(ye);if(h(Nt,se))return Nt[se];var ge=Pe(se);return Nt[se]=ge,Yt[ge]=se,ge},keyFor:function(se){if(!I(se))throw TypeError(se+" is not a symbol");if(h(Yt,se))return Yt[se]},useSetter:function(){k=!0},useSimple:function(){k=!1}}),l({target:"Object",stat:!0,forced:!p,sham:!c},{create:G,defineProperty:O,defineProperties:L,getOwnPropertyDescriptor:pe}),l({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:be,getOwnPropertySymbols:Be}),l({target:"Object",stat:!0,forced:m(function(){M.f(1)})},{getOwnPropertySymbols:function(se){return M.f(R(se))}}),et){var Ze=!p||m(function(){var ye=Pe();return et([ye])!="[null]"||et({a:ye})!="{}"||et(Object(ye))!="{}"});l({target:"JSON",stat:!0,forced:Ze},{stringify:function(se,ge,Te){for(var Fe=[se],mt=1,Co;arguments.length>mt;)Fe.push(arguments[mt++]);if(Co=ge,!(!x(ge)&&se===void 0||I(se)))return y(ge)||(ge=function(rs,Un){if(typeof Co=="function"&&(Un=Co.call(this,rs,Un)),!I(Un))return Un}),Fe[1]=ge,et.apply(null,Fe)}})}Pe[Y][P]||H(Pe[Y],P,Pe[Y].valueOf),q(Pe,je),Ce[$e]=!0},a630:function(a,s,n){var l=n("23e7"),i=n("4df4"),u=n("1c7e"),d=!u(function(c){Array.from(c)});l({target:"Array",stat:!0,forced:d},{from:i})},a640:function(a,s,n){var l=n("d039");a.exports=function(i,u){var d=[][i];return!!d&&l(function(){d.call(null,u||function(){throw 1},1)})}},a691:function(a,s){var n=Math.ceil,l=Math.floor;a.exports=function(i){return isNaN(i=+i)?0:(i>0?l:n)(i)}},ab13:function(a,s,n){var l=n("b622"),i=l("match");a.exports=function(u){var d=/./;try{"/./"[u](d)}catch{try{return d[i]=!1,"/./"[u](d)}catch{}}return!1}},ac1f:function(a,s,n){var l=n("23e7"),i=n("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(a,s,n){var l=n("825a");a.exports=function(){var i=l(this),u="";return i.global&&(u+="g"),i.ignoreCase&&(u+="i"),i.multiline&&(u+="m"),i.dotAll&&(u+="s"),i.unicode&&(u+="u"),i.sticky&&(u+="y"),u}},ae40:function(a,s,n){var l=n("83ab"),i=n("d039"),u=n("5135"),d=Object.defineProperty,c={},p=function(f){throw f};a.exports=function(f,m){if(u(c,f))return c[f];m||(m={});var h=[][f],y=u(m,"ACCESSORS")?m.ACCESSORS:!1,x=u(m,0)?m[0]:p,S=u(m,1)?m[1]:void 0;return c[f]=!!h&&!i(function(){if(y&&!l)return!0;var R={length:-1};y?d(R,1,{enumerable:!0,get:p}):R[1]=1,h.call(R,x,S)})}},ae93:function(a,s,n){var l=n("e163"),i=n("9112"),u=n("5135"),d=n("b622"),c=n("c430"),p=d("iterator"),f=!1,m=function(){return this},h,y,x;[].keys&&(x=[].keys(),"next"in x?(y=l(l(x)),y!==Object.prototype&&(h=y)):f=!0),h==null&&(h={}),!c&&!u(h,p)&&i(h,p,m),a.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:f}},b041:function(a,s,n){var l=n("00ee"),i=n("f5df");a.exports=l?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(a,s,n){var l=n("83ab"),i=n("9bf2").f,u=Function.prototype,d=u.toString,c=/^\s*function ([^ (]*)/,p="name";l&&!(p in u)&&i(u,p,{configurable:!0,get:function(){try{return d.call(this).match(c)[1]}catch{return""}}})},b622:function(a,s,n){var l=n("da84"),i=n("5692"),u=n("5135"),d=n("90e3"),c=n("4930"),p=n("fdbf"),f=i("wks"),m=l.Symbol,h=p?m:m&&m.withoutSetter||d;a.exports=function(y){return u(f,y)||(c&&u(m,y)?f[y]=m[y]:f[y]=h("Symbol."+y)),f[y]}},b64b:function(a,s,n){var l=n("23e7"),i=n("7b0b"),u=n("df75"),d=n("d039"),c=d(function(){u(1)});l({target:"Object",stat:!0,forced:c},{keys:function(f){return u(i(f))}})},b727:function(a,s,n){var l=n("0366"),i=n("44ad"),u=n("7b0b"),d=n("50c4"),c=n("65f0"),p=[].push,f=function(m){var h=m==1,y=m==2,x=m==3,S=m==4,R=m==6,D=m==5||R;return function(T,V,Q,U){for(var b=u(T),E=i(b),M=l(V,Q,3),re=d(E.length),B=0,j=U||c,H=h?j(T,re):y?j(T,0):void 0,N,J;re>B;B++)if((D||B in E)&&(N=E[B],J=M(N,B,b),m)){if(h)H[B]=J;else if(J)switch(m){case 3:return!0;case 5:return N;case 6:return B;case 2:p.call(H,N)}else if(S)return!1}return R?-1:x||S?S:H}};a.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(a,s,n){var l=n("861d");a.exports=function(i,u){if(!l(i))return i;var d,c;if(u&&typeof(d=i.toString)=="function"&&!l(c=d.call(i))||typeof(d=i.valueOf)=="function"&&!l(c=d.call(i))||!u&&typeof(d=i.toString)=="function"&&!l(c=d.call(i)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(a,s){a.exports=!1},c6b6:function(a,s){var n={}.toString;a.exports=function(l){return n.call(l).slice(8,-1)}},c6cd:function(a,s,n){var l=n("da84"),i=n("ce4e"),u="__core-js_shared__",d=l[u]||i(u,{});a.exports=d},c740:function(a,s,n){var l=n("23e7"),i=n("b727").findIndex,u=n("44d2"),d=n("ae40"),c="findIndex",p=!0,f=d(c);c in[]&&Array(1)[c](function(){p=!1}),l({target:"Array",proto:!0,forced:p||!f},{findIndex:function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}}),u(c)},c8ba:function(a,s){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}a.exports=n},c975:function(a,s,n){var l=n("23e7"),i=n("4d64").indexOf,u=n("a640"),d=n("ae40"),c=[].indexOf,p=!!c&&1/[1].indexOf(1,-0)<0,f=u("indexOf"),m=d("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:p||!f||!m},{indexOf:function(y){return p?c.apply(this,arguments)||0:i(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,s,n){var l=n("5135"),i=n("fc6a"),u=n("4d64").indexOf,d=n("d012");a.exports=function(c,p){var f=i(c),m=0,h=[],y;for(y in f)!l(d,y)&&l(f,y)&&h.push(y);for(;p.length>m;)l(f,y=p[m++])&&(~u(h,y)||h.push(y));return h}},caad:function(a,s,n){var l=n("23e7"),i=n("4d64").includes,u=n("44d2"),d=n("ae40"),c=d("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!c},{includes:function(f){return i(this,f,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(a,s,n){var l=n("da84"),i=n("861d"),u=l.document,d=i(u)&&i(u.createElement);a.exports=function(c){return d?u.createElement(c):{}}},ce4e:function(a,s,n){var l=n("da84"),i=n("9112");a.exports=function(u,d){try{i(l,u,d)}catch{l[u]=d}return d}},d012:function(a,s){a.exports={}},d039:function(a,s){a.exports=function(n){try{return!!n()}catch{return!0}}},d066:function(a,s,n){var l=n("428f"),i=n("da84"),u=function(d){return typeof d=="function"?d:void 0};a.exports=function(d,c){return arguments.length<2?u(l[d])||u(i[d]):l[d]&&l[d][c]||i[d]&&i[d][c]}},d1e7:function(a,s,n){var l={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,u=i&&!l.call({1:2},1);s.f=u?function(c){var p=i(this,c);return!!p&&p.enumerable}:l},d28b:function(a,s,n){var l=n("746f");l("iterator")},d2bb:function(a,s,n){var l=n("825a"),i=n("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,d={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(d,[]),u=d instanceof Array}catch{}return function(f,m){return l(f),i(m),u?c.call(f,m):f.__proto__=m,f}}():void 0)},d3b7:function(a,s,n){var l=n("00ee"),i=n("6eeb"),u=n("b041");l||i(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(a,s,n){var l=n("9bf2").f,i=n("5135"),u=n("b622"),d=u("toStringTag");a.exports=function(c,p,f){c&&!i(c=f?c:c.prototype,d)&&l(c,d,{configurable:!0,value:p})}},d58f:function(a,s,n){var l=n("1c0b"),i=n("7b0b"),u=n("44ad"),d=n("50c4"),c=function(p){return function(f,m,h,y){l(m);var x=i(f),S=u(x),R=d(x.length),D=p?R-1:0,T=p?-1:1;if(h<2)for(;;){if(D in S){y=S[D],D+=T;break}if(D+=T,p?D<0:R<=D)throw TypeError("Reduce of empty array with no initial value")}for(;p?D>=0:R>D;D+=T)D in S&&(y=m(y,S[D],D,x));return y}};a.exports={left:c(!1),right:c(!0)}},d784:function(a,s,n){n("ac1f");var l=n("6eeb"),i=n("d039"),u=n("b622"),d=n("9263"),c=n("9112"),p=u("species"),f=!i(function(){var S=/./;return S.exec=function(){var R=[];return R.groups={a:"7"},R},"".replace(S,"$<a>")!=="7"}),m=function(){return"a".replace(/./,"$0")==="$0"}(),h=u("replace"),y=function(){return/./[h]?/./[h]("a","$0")==="":!1}(),x=!i(function(){var S=/(?:)/,R=S.exec;S.exec=function(){return R.apply(this,arguments)};var D="ab".split(S);return D.length!==2||D[0]!=="a"||D[1]!=="b"});a.exports=function(S,R,D,T){var V=u(S),Q=!i(function(){var B={};return B[V]=function(){return 7},""[S](B)!=7}),U=Q&&!i(function(){var B=!1,j=/a/;return S==="split"&&(j={},j.constructor={},j.constructor[p]=function(){return j},j.flags="",j[V]=/./[V]),j.exec=function(){return B=!0,null},j[V](""),!B});if(!Q||!U||S==="replace"&&!(f&&m&&!y)||S==="split"&&!x){var b=/./[V],E=D(V,""[S],function(B,j,H,N,J){return j.exec===d?Q&&!J?{done:!0,value:b.call(j,H,N)}:{done:!0,value:B.call(H,j,N)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),M=E[0],re=E[1];l(String.prototype,S,M),l(RegExp.prototype,V,R==2?function(B,j){return re.call(B,this,j)}:function(B){return re.call(B,this)})}T&&c(RegExp.prototype[V],"sham",!0)}},d81d:function(a,s,n){var l=n("23e7"),i=n("b727").map,u=n("1dde"),d=n("ae40"),c=u("map"),p=d("map");l({target:"Array",proto:!0,forced:!c||!p},{map:function(m){return i(this,m,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,s,n){(function(l){var i=function(u){return u&&u.Math==Math&&u};a.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof l=="object"&&l)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(a,s,n){var l=n("23e7"),i=n("83ab"),u=n("56ef"),d=n("fc6a"),c=n("06cf"),p=n("8418");l({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(m){for(var h=d(m),y=c.f,x=u(h),S={},R=0,D,T;x.length>R;)T=y(h,D=x[R++]),T!==void 0&&p(S,D,T);return S}})},dbf1:function(a,s,n){(function(l){n.d(s,"a",function(){return u});function i(){return typeof window<"u"?window.console:globalThis.console}var u=i()}).call(this,n("c8ba"))},ddb0:function(a,s,n){var l=n("da84"),i=n("fdbc"),u=n("e260"),d=n("9112"),c=n("b622"),p=c("iterator"),f=c("toStringTag"),m=u.values;for(var h in i){var y=l[h],x=y&&y.prototype;if(x){if(x[p]!==m)try{d(x,p,m)}catch{x[p]=m}if(x[f]||d(x,f,h),i[h]){for(var S in u)if(x[S]!==u[S])try{d(x,S,u[S])}catch{x[S]=u[S]}}}}},df75:function(a,s,n){var l=n("ca84"),i=n("7839");a.exports=Object.keys||function(d){return l(d,i)}},e01a:function(a,s,n){var l=n("23e7"),i=n("83ab"),u=n("da84"),d=n("5135"),c=n("861d"),p=n("9bf2").f,f=n("e893"),m=u.Symbol;if(i&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var h={},y=function(){var V=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),Q=this instanceof y?new m(V):V===void 0?m():m(V);return V===""&&(h[Q]=!0),Q};f(y,m);var x=y.prototype=m.prototype;x.constructor=y;var S=x.toString,R=String(m("test"))=="Symbol(test)",D=/^Symbol\((.*)\)[^)]+$/;p(x,"description",{configurable:!0,get:function(){var V=c(this)?this.valueOf():this,Q=S.call(V);if(d(h,V))return"";var U=R?Q.slice(7,-1):Q.replace(D,"$1");return U===""?void 0:U}}),l({global:!0,forced:!0},{Symbol:y})}},e163:function(a,s,n){var l=n("5135"),i=n("7b0b"),u=n("f772"),d=n("e177"),c=u("IE_PROTO"),p=Object.prototype;a.exports=d?Object.getPrototypeOf:function(f){return f=i(f),l(f,c)?f[c]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?p:null}},e177:function(a,s,n){var l=n("d039");a.exports=!l(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},e260:function(a,s,n){var l=n("fc6a"),i=n("44d2"),u=n("3f8c"),d=n("69f3"),c=n("7dd0"),p="Array Iterator",f=d.set,m=d.getterFor(p);a.exports=c(Array,"Array",function(h,y){f(this,{type:p,target:l(h),index:0,kind:y})},function(){var h=m(this),y=h.target,x=h.kind,S=h.index++;return!y||S>=y.length?(h.target=void 0,{value:void 0,done:!0}):x=="keys"?{value:S,done:!1}:x=="values"?{value:y[S],done:!1}:{value:[S,y[S]],done:!1}},"values"),u.Arguments=u.Array,i("keys"),i("values"),i("entries")},e439:function(a,s,n){var l=n("23e7"),i=n("d039"),u=n("fc6a"),d=n("06cf").f,c=n("83ab"),p=i(function(){d(1)}),f=!c||p;l({target:"Object",stat:!0,forced:f,sham:!c},{getOwnPropertyDescriptor:function(h,y){return d(u(h),y)}})},e538:function(a,s,n){var l=n("b622");s.f=l},e893:function(a,s,n){var l=n("5135"),i=n("56ef"),u=n("06cf"),d=n("9bf2");a.exports=function(c,p){for(var f=i(p),m=d.f,h=u.f,y=0;y<f.length;y++){var x=f[y];l(c,x)||m(c,x,h(p,x))}}},e8b5:function(a,s,n){var l=n("c6b6");a.exports=Array.isArray||function(u){return l(u)=="Array"}},e95a:function(a,s,n){var l=n("b622"),i=n("3f8c"),u=l("iterator"),d=Array.prototype;a.exports=function(c){return c!==void 0&&(i.Array===c||d[u]===c)}},f5df:function(a,s,n){var l=n("00ee"),i=n("c6b6"),u=n("b622"),d=u("toStringTag"),c=i(function(){return arguments}())=="Arguments",p=function(f,m){try{return f[m]}catch{}};a.exports=l?i:function(f){var m,h,y;return f===void 0?"Undefined":f===null?"Null":typeof(h=p(m=Object(f),d))=="string"?h:c?i(m):(y=i(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},f772:function(a,s,n){var l=n("5692"),i=n("90e3"),u=l("keys");a.exports=function(d){return u[d]||(u[d]=i(d))}},fb15:function(a,s,n){if(n.r(s),typeof window<"u"){var l=window.document.currentScript;{var i=n("8875");l=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i})}var u=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(n.p=u[1])}n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b");function d(I,O,L){return O in I?Object.defineProperty(I,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):I[O]=L,I}function c(I,O){var L=Object.keys(I);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(I);O&&(G=G.filter(function(oe){return Object.getOwnPropertyDescriptor(I,oe).enumerable})),L.push.apply(L,G)}return L}function p(I){for(var O=1;O<arguments.length;O++){var L=arguments[O]!=null?arguments[O]:{};O%2?c(Object(L),!0).forEach(function(G){d(I,G,L[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(L)):c(Object(L)).forEach(function(G){Object.defineProperty(I,G,Object.getOwnPropertyDescriptor(L,G))})}return I}function f(I){if(Array.isArray(I))return I}n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function m(I,O){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(I)))){var L=[],G=!0,oe=!1,pe=void 0;try{for(var be=I[Symbol.iterator](),Be;!(G=(Be=be.next()).done)&&(L.push(Be.value),!(O&&L.length===O));G=!0);}catch(Ze){oe=!0,pe=Ze}finally{try{!G&&be.return!=null&&be.return()}finally{if(oe)throw pe}}return L}}n("a630"),n("fb6a"),n("b0c0"),n("25f0");function h(I,O){(O==null||O>I.length)&&(O=I.length);for(var L=0,G=new Array(O);L<O;L++)G[L]=I[L];return G}function y(I,O){if(I){if(typeof I=="string")return h(I,O);var L=Object.prototype.toString.call(I).slice(8,-1);if(L==="Object"&&I.constructor&&(L=I.constructor.name),L==="Map"||L==="Set")return Array.from(I);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return h(I,O)}}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(I,O){return f(I)||m(I,O)||y(I,O)||x()}function R(I){if(Array.isArray(I))return h(I)}function D(I){if(typeof Symbol<"u"&&Symbol.iterator in Object(I))return Array.from(I)}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(I){return R(I)||D(I)||y(I)||T()}var Q=n("a352"),U=n.n(Q);function b(I){I.parentElement!==null&&I.parentElement.removeChild(I)}function E(I,O,L){var G=L===0?I.children[0]:I.children[L-1].nextSibling;I.insertBefore(O,G)}var M=n("dbf1");n("13d5"),n("4fad"),n("ac1f"),n("5319");function re(I){var O=Object.create(null);return function(G){var oe=O[G];return oe||(O[G]=I(G))}}var B=/-(\w)/g,j=re(function(I){return I.replace(B,function(O,L){return L.toUpperCase()})});n("5db7"),n("73d9");var H=["Start","Add","Remove","Update","End"],N=["Choose","Unchoose","Sort","Filter","Clone"],J=["Move"],de=[J,H,N].flatMap(function(I){return I}).map(function(I){return"on".concat(I)}),Ce={manage:J,manageAndEmit:H,emit:N};function Ve(I){return de.indexOf(I)!==-1}n("caad"),n("2ca0");var Oe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ie(I){return Oe.includes(I)}function _(I){return["transition-group","TransitionGroup"].includes(I)}function q(I){return["id","class","role","style"].includes(I)||I.startsWith("data-")||I.startsWith("aria-")||I.startsWith("on")}function fe(I){return I.reduce(function(O,L){var G=S(L,2),oe=G[0],pe=G[1];return O[oe]=pe,O},{})}function ce(I){var O=I.$attrs,L=I.componentData,G=L===void 0?{}:L,oe=fe(Object.entries(O).filter(function(pe){var be=S(pe,2),Be=be[0];return be[1],q(Be)}));return p(p({},oe),G)}function $e(I){var O=I.$attrs,L=I.callBackBuilder,G=fe(je(O));Object.entries(L).forEach(function(pe){var be=S(pe,2),Be=be[0],Ze=be[1];Ce[Be].forEach(function(ye){G["on".concat(ye)]=Ze(ye)})});var oe="[data-draggable]".concat(G.draggable||"");return p(p({},G),{},{draggable:oe})}function je(I){return Object.entries(I).filter(function(O){var L=S(O,2),G=L[0];return L[1],!q(G)}).map(function(O){var L=S(O,2),G=L[0],oe=L[1];return[j(G),oe]}).filter(function(O){var L=S(O,2),G=L[0];return L[1],!Ve(G)})}n("c740");function Y(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}function P(I,O){for(var L=0;L<O.length;L++){var G=O[L];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(I,G.key,G)}}function W(I,O,L){return O&&P(I.prototype,O),I}var Ne=function(O){var L=O.el;return L},Ye=function(O,L){return O.__draggable_context=L},Pe=function(O){return O.__draggable_context},et=function(){function I(O){var L=O.nodes,G=L.header,oe=L.default,pe=L.footer,be=O.root,Be=O.realList;Y(this,I),this.defaultNodes=oe,this.children=[].concat(V(G),V(oe),V(pe)),this.externalComponent=be.externalComponent,this.rootTransition=be.transition,this.tag=be.tag,this.realList=Be}return W(I,[{key:"render",value:function(L,G){var oe=this.tag,pe=this.children,be=this._isRootComponent,Be=be?{default:function(){return pe}}:pe;return L(oe,G,Be)}},{key:"updated",value:function(){var L=this.defaultNodes,G=this.realList;L.forEach(function(oe,pe){Ye(Ne(oe),{element:G[pe],index:pe})})}},{key:"getUnderlyingVm",value:function(L){return Pe(L)}},{key:"getVmIndexFromDomIndex",value:function(L,G){var oe=this.defaultNodes,pe=oe.length,be=G.children,Be=be.item(L);if(Be===null)return pe;var Ze=Pe(Be);if(Ze)return Ze.index;if(pe===0)return 0;var ye=Ne(oe[0]),se=V(be).findIndex(function(ge){return ge===ye});return L<se?0:pe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),I}(),ft=n("8bbf");function pt(I,O){var L=I[O];return L?L():[]}function Xt(I){var O=I.$slots,L=I.realList,G=I.getKey,oe=L||[],pe=["header","footer"].map(function(ge){return pt(O,ge)}),be=S(pe,2),Be=be[0],Ze=be[1],ye=O.item;if(!ye)throw new Error("draggable element must have an item slot");var se=oe.flatMap(function(ge,Te){return ye({element:ge,index:Te}).map(function(Fe){return Fe.key=G(ge),Fe.props=p(p({},Fe.props||{}),{},{"data-draggable":!0}),Fe})});if(se.length!==oe.length)throw new Error("Item slot must have only one child");return{header:Be,footer:Ze,default:se}}function nn(I){var O=_(I),L=!Ie(I)&&!O;return{transition:O,externalComponent:L,tag:L?Object(ft.resolveComponent)(I):O?ft.TransitionGroup:I}}function gt(I){var O=I.$slots,L=I.tag,G=I.realList,oe=I.getKey,pe=Xt({$slots:O,realList:G,getKey:oe}),be=nn(L);return new et({nodes:pe,root:be,realList:G})}function $t(I,O){var L=this;Object(ft.nextTick)(function(){return L.$emit(I.toLowerCase(),O)})}function Nt(I){var O=this;return function(L,G){if(O.realList!==null)return O["onDrag".concat(I)](L,G)}}function Yt(I){var O=this,L=Nt.call(this,I);return function(G,oe){L.call(O,G,oe),$t.call(O,I,G)}}var jt=null,A={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(O){return O}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},k=["update:modelValue","change"].concat(V([].concat(V(Ce.manageAndEmit),V(Ce.emit)).map(function(I){return I.toLowerCase()}))),z=Object(ft.defineComponent)({name:"draggable",inheritAttrs:!1,props:A,emits:k,data:function(){return{error:!1}},render:function(){try{this.error=!1;var O=this.$slots,L=this.$attrs,G=this.tag,oe=this.componentData,pe=this.realList,be=this.getKey,Be=gt({$slots:O,tag:G,realList:pe,getKey:be});this.componentStructure=Be;var Ze=ce({$attrs:L,componentData:oe});return Be.render(ft.h,Ze)}catch(ye){return this.error=!0,Object(ft.h)("pre",{style:{color:"red"}},ye.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&M.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var O=this;if(!this.error){var L=this.$attrs,G=this.$el,oe=this.componentStructure;oe.updated();var pe=$e({$attrs:L,callBackBuilder:{manageAndEmit:function(Ze){return Yt.call(O,Ze)},emit:function(Ze){return $t.bind(O,Ze)},manage:function(Ze){return Nt.call(O,Ze)}}}),be=G.nodeType===1?G:G.parentElement;this._sortable=new U.a(be,pe),this.targetDomElement=be,be.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var O=this.list;return O||this.modelValue},getKey:function(){var O=this.itemKey;return typeof O=="function"?O:function(L){return L[O]}}},watch:{$attrs:{handler:function(O){var L=this._sortable;L&&je(O).forEach(function(G){var oe=S(G,2),pe=oe[0],be=oe[1];L.option(pe,be)})},deep:!0}},methods:{getUnderlyingVm:function(O){return this.componentStructure.getUnderlyingVm(O)||null},getUnderlyingPotencialDraggableComponent:function(O){return O.__draggable_component__},emitChanges:function(O){var L=this;Object(ft.nextTick)(function(){return L.$emit("change",O)})},alterList:function(O){if(this.list){O(this.list);return}var L=V(this.modelValue);O(L),this.$emit("update:modelValue",L)},spliceList:function(){var O=arguments,L=function(oe){return oe.splice.apply(oe,V(O))};this.alterList(L)},updatePosition:function(O,L){var G=function(pe){return pe.splice(L,0,pe.splice(O,1)[0])};this.alterList(G)},getRelatedContextFromMoveEvent:function(O){var L=O.to,G=O.related,oe=this.getUnderlyingPotencialDraggableComponent(L);if(!oe)return{component:oe};var pe=oe.realList,be={list:pe,component:oe};if(L!==G&&pe){var Be=oe.getUnderlyingVm(G)||{};return p(p({},Be),be)}return be},getVmIndexFromDomIndex:function(O){return this.componentStructure.getVmIndexFromDomIndex(O,this.targetDomElement)},onDragStart:function(O){this.context=this.getUnderlyingVm(O.item),O.item._underlying_vm_=this.clone(this.context.element),jt=O.item},onDragAdd:function(O){var L=O.item._underlying_vm_;if(L!==void 0){b(O.item);var G=this.getVmIndexFromDomIndex(O.newIndex);this.spliceList(G,0,L);var oe={element:L,newIndex:G};this.emitChanges({added:oe})}},onDragRemove:function(O){if(E(this.$el,O.item,O.oldIndex),O.pullMode==="clone"){b(O.clone);return}var L=this.context,G=L.index,oe=L.element;this.spliceList(G,1);var pe={element:oe,oldIndex:G};this.emitChanges({removed:pe})},onDragUpdate:function(O){b(O.item),E(O.from,O.item,O.oldIndex);var L=this.context.index,G=this.getVmIndexFromDomIndex(O.newIndex);this.updatePosition(L,G);var oe={element:this.context.element,oldIndex:L,newIndex:G};this.emitChanges({moved:oe})},computeFutureIndex:function(O,L){if(!O.element)return 0;var G=V(L.to.children).filter(function(Be){return Be.style.display!=="none"}),oe=G.indexOf(L.related),pe=O.component.getVmIndexFromDomIndex(oe),be=G.indexOf(jt)!==-1;return be||!L.willInsertAfter?pe:pe+1},onDragMove:function(O,L){var G=this.move,oe=this.realList;if(!G||!oe)return!0;var pe=this.getRelatedContextFromMoveEvent(O),be=this.computeFutureIndex(pe,O),Be=p(p({},this.context),{},{futureIndex:be}),Ze=p(p({},O),{},{relatedContext:pe,draggedContext:Be});return G(Ze,L)},onDragEnd:function(){jt=null}}}),le=z;s.default=le},fb6a:function(a,s,n){var l=n("23e7"),i=n("861d"),u=n("e8b5"),d=n("23cb"),c=n("50c4"),p=n("fc6a"),f=n("8418"),m=n("b622"),h=n("1dde"),y=n("ae40"),x=h("slice"),S=y("slice",{ACCESSORS:!0,0:0,1:2}),R=m("species"),D=[].slice,T=Math.max;l({target:"Array",proto:!0,forced:!x||!S},{slice:function(Q,U){var b=p(this),E=c(b.length),M=d(Q,E),re=d(U===void 0?E:U,E),B,j,H;if(u(b)&&(B=b.constructor,typeof B=="function"&&(B===Array||u(B.prototype))?B=void 0:i(B)&&(B=B[R],B===null&&(B=void 0)),B===Array||B===void 0))return D.call(b,M,re);for(j=new(B===void 0?Array:B)(T(re-M,0)),H=0;M<re;M++,H++)M in b&&f(j,H,b[M]);return j.length=H,j}})},fc6a:function(a,s,n){var l=n("44ad"),i=n("1d80");a.exports=function(u){return l(i(u))}},fdbc:function(a,s){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,s,n){var l=n("4930");a.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(za);var _g=za.exports;const qg=dg(_g),Qg={а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"e",ж:"zh",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"ts",ч:"ch",ш:"sh",щ:"sch",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya"," ":"_","-":"_"},ns=e=>{const o=e.toLowerCase();let t="";for(const r of o)t+=Qg[r]??r;return t.replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").substring(0,50)},Jg=(e,o)=>{let t=ns(e);return t&&!t.startsWith(o)&&(t=o+t),t},Zg={class:"space-y-3"},em={key:0,class:"rounded-lg border border-slate-200 overflow-hidden"},tm={class:"border-b border-slate-100 last:border-b-0"},nm={class:"grid grid-cols-[1fr_1fr_120px_52px_52px_68px] gap-0 items-center px-2 py-1.5 hover:bg-slate-50/50 transition-colors"},om={class:"px-1"},rm=["onUpdate:modelValue","onInput"],am={class:"px-1"},sm=["onUpdate:modelValue"],lm={class:"px-1"},im=["onUpdate:modelValue"],um={class:"flex items-center justify-center"},dm=["onUpdate:modelValue"],cm={class:"flex items-center justify-center"},fm=["onUpdate:modelValue"],pm={class:"flex items-center justify-end gap-0.5 pr-1"},gm={type:"button",class:"drag-handle p-1.5 text-slate-300 hover:text-slate-500 cursor-grab rounded transition-colors"},mm=["onClick","disabled"],vm={key:0,class:"px-4 pb-2"},hm={key:0,class:"text-[11px] text-red-500"},ym={key:1,class:"text-[11px] text-red-500"},xm={key:1,class:"text-center py-6 bg-slate-50 rounded-lg border border-dashed border-slate-200"},bm=["disabled"],Sm={key:2,class:"text-xs text-slate-400 text-center"},wm=ne({__name:"ColumnEditor",props:{modelValue:{},maxColumns:{}},emits:["update:modelValue"],setup(e,{expose:o,emit:t}){const r=e,a=t,s=r.maxColumns||15,n=K([]),l=K(!1),i=()=>Math.random().toString(36).substring(2,9);Xe(()=>r.modelValue,y=>{if(l.value){l.value=!1;return}y&&y.length>0&&(n.value=y.map(x=>({...x,id:x.id||i()})))},{immediate:!0});const u=y=>{if(!y.label){y.name="";return}y.name=ns(y.label)},d=y=>sr(y),c=(y,x)=>y?n.value.some((S,R)=>R!==x&&S.name===y):!1,p=()=>{n.value.length>=s||(n.value.push({id:i(),name:"",label:"",type:"text",required:!1,searchable:!1}),m())},f=y=>{n.value.length<=1||(n.value.splice(y,1),m())},m=()=>{l.value=!0;const y=n.value.map(({id:x,...S})=>S);a("update:modelValue",y)};return o({isValid:()=>n.value.length===0?!1:n.value.every(y=>y.name&&y.label&&d(y.name)&&!c(y.name,n.value.indexOf(y)))}),(y,x)=>($(),F("div",Zg,[n.value.length>0?($(),F("div",em,[x[2]||(x[2]=fr('<div class="grid grid-cols-[1fr_1fr_120px_52px_52px_68px] gap-0 bg-slate-50 border-b border-slate-200 px-2 py-2 text-xs font-medium text-slate-500" data-v-c070d73c><div class="px-2" data-v-c070d73c>Название</div><div class="px-2" data-v-c070d73c>Код</div><div class="px-2" data-v-c070d73c>Тип</div><div class="text-center" data-v-c070d73c>Обяз.</div><div class="text-center" data-v-c070d73c>Поиск</div><div data-v-c070d73c></div></div>',1)),w(g(qg),{modelValue:n.value,"onUpdate:modelValue":x[0]||(x[0]=S=>n.value=S),"item-key":"id",handle:".drag-handle","ghost-class":"opacity-50",onChange:m,tag:"div"},{item:C(({element:S,index:R})=>[v("div",tm,[v("div",nm,[v("div",om,[Me(v("input",{"onUpdate:modelValue":D=>S.label=D,type:"text",placeholder:"Название",class:"w-full px-2.5 py-1.5 text-sm border border-slate-200 rounded-md bg-white focus:bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all",onInput:D=>{u(S),m()}},null,40,rm),[[We,S.label]])]),v("div",am,[Me(v("input",{"onUpdate:modelValue":D=>S.name=D,type:"text",placeholder:"slug",class:Ae(["w-full px-2.5 py-1.5 text-sm font-mono border border-slate-200 rounded-md bg-white focus:bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all",{"border-red-300 bg-red-50":S.name&&!d(S.name)||c(S.name,R)}]),onInput:m},null,42,sm),[[We,S.name]])]),v("div",lm,[Me(v("select",{"onUpdate:modelValue":D=>S.type=D,class:"w-full px-2 py-1.5 text-sm border border-slate-200 rounded-md bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all appearance-none cursor-pointer",onChange:m},[...x[1]||(x[1]=[v("option",{value:"text"},"Текст",-1),v("option",{value:"number"},"Число",-1),v("option",{value:"date"},"Дата",-1),v("option",{value:"bool"},"Да/Нет",-1)])],40,im),[[dn,S.type]])]),v("div",um,[Me(v("input",{"onUpdate:modelValue":D=>S.required=D,type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",onChange:m},null,40,dm),[[Zt,S.required]])]),v("div",cm,[Me(v("input",{"onUpdate:modelValue":D=>S.searchable=D,type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",onChange:m},null,40,fm),[[Zt,S.searchable]])]),v("div",pm,[v("button",gm,[w(g(ga),{class:"w-3.5 h-3.5"})]),v("button",{type:"button",onClick:D=>f(R),class:Ae(["p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded transition-colors",{"opacity-30 cursor-not-allowed":n.value.length<=1}]),disabled:n.value.length<=1},[w(g(mr),{class:"w-3.5 h-3.5"})],10,mm)])]),S.name&&!d(S.name)||c(S.name,R)?($(),F("div",vm,[S.name&&!d(S.name)?($(),F("p",hm," Код: только a-z, 0-9, _ начиная с буквы ")):ue("",!0),c(S.name,R)?($(),F("p",ym," Код колонки должен быть уникальным ")):ue("",!0)])):ue("",!0)])]),_:1},8,["modelValue"])])):($(),F("div",xm,[...x[3]||(x[3]=[v("p",{class:"text-sm text-slate-500"},"Добавьте хотя бы одну колонку",-1)])])),v("button",{type:"button",onClick:p,class:Ae(["w-full flex items-center justify-center gap-1.5 px-3 py-2.5 text-sm font-medium text-slate-500 hover:text-indigo-600 border border-dashed border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/50 rounded-lg transition-all",{"opacity-50 cursor-not-allowed":n.value.length>=g(s)}]),disabled:n.value.length>=g(s)},[w(g(ho),{class:"w-4 h-4"}),x[4]||(x[4]=ee(" Добавить колонку ",-1))],10,bm),n.value.length>0?($(),F("p",Sm,X(n.value.length)+" из "+X(g(s))+" колонок ",1)):ue("",!0)]))}}),os=ta(wm,[["__scopeId","data-v-c070d73c"]]),Cm={key:0,class:"p-6"},$m={class:"flex items-center justify-between"},Em={class:"grid grid-cols-2 gap-3"},Rm=["onClick","disabled"],Im={class:"font-bold text-slate-900 text-sm"},Pm={class:"text-xs text-slate-500 mt-1"},Dm={key:0,class:"text-[10px] text-slate-400 mt-1"},Om=["disabled"],Tm={key:1,class:"p-6"},Mm={class:"flex items-center justify-between"},Fm={class:"flex items-center gap-3"},Am={class:"relative mt-1"},Vm={key:0,class:"mt-1 text-xs text-red-600"},Lm={key:1,class:"mt-1 text-xs text-slate-500"},Bm=["placeholder"],Nm={key:0,class:"bg-slate-50 rounded-md p-4 border border-slate-100"},jm={class:"flex flex-wrap gap-2"},km={class:"text-slate-400 ml-1"},Um={key:0,class:"text-red-400"},Gm={key:1,class:"text-sm text-red-600"},Hm=["disabled"],zm={key:2,class:"flex flex-col max-h-[85vh]"},Km={class:"flex items-center justify-between p-6 border-b border-slate-100"},Wm={class:"flex items-center gap-3"},Xm={class:"flex-1 overflow-y-auto p-6"},Ym={class:"flex items-center justify-end gap-3 p-6 border-t border-slate-100 bg-slate-50"},_m=["disabled"],qm=ne({__name:"CreateDirectoryModal",props:{isOpen:{type:Boolean},existingToolNames:{}},emits:["close","submit"],setup(e,{expose:o,emit:t}){const r=e,a=t,s=[{id:"qa",label:"Вопрос-ответ",description:"Пары вопросов и ответов",icon:ma,columns:[{name:"question",label:"Вопрос",type:"text",required:!0,searchable:!0},{name:"answer",label:"Ответ",type:"text",required:!0,searchable:!1}],defaultDescription:"Найти ответ на часто задаваемый вопрос"},{id:"service_catalog",label:"Каталог услуг",description:"Название, описание, цена",icon:aa,columns:[{name:"name",label:"Название",type:"text",required:!0,searchable:!0},{name:"description",label:"Описание",type:"text",required:!1,searchable:!0},{name:"price",label:"Цена",type:"number",required:!1,searchable:!1}],defaultDescription:"Найти услугу по названию или описанию"},{id:"product_catalog",label:"Каталог товаров",description:"С ценами и характеристиками",icon:va,columns:[{name:"name",label:"Название",type:"text",required:!0,searchable:!0},{name:"description",label:"Описание",type:"text",required:!1,searchable:!0},{name:"price",label:"Цена",type:"number",required:!1,searchable:!1},{name:"specs",label:"Характеристики",type:"text",required:!1,searchable:!0}],defaultDescription:"Найти товар по названию, описанию или характеристикам"},{id:"company_info",label:"О компании",description:"Тема → информация",icon:ca,columns:[{name:"topic",label:"Тема",type:"text",required:!0,searchable:!0},{name:"info",label:"Информация",type:"text",required:!0,searchable:!0}],defaultDescription:"Получить информацию о компании по теме"},{id:"custom",label:"Произвольный",description:"Задайте свои колонки",icon:Qo,columns:[],defaultDescription:"Поиск по справочнику"},{id:"ai_generate",label:"Создать с ИИ",description:"Опишите — ИИ сгенерирует",icon:iu,columns:[],defaultDescription:""}],n=K("template"),l=K(null),i=K(!1),u=K(""),d=K(""),c=K({name:"",tool_name:"",tool_description:""}),p=K([{id:"1",name:"",label:"",type:"text",required:!0,searchable:!0}]),f=K(null),m=xe(()=>s.find(b=>b.id===l.value)),h=xe(()=>c.value.name.trim()&&c.value.tool_name.trim()&&/^[a-z][a-z0-9_]*$/.test(c.value.tool_name)&&!d.value),y=xe(()=>p.value.length===0?!1:p.value.every(b=>b.name&&b.label&&/^[a-z][a-z0-9_]*$/.test(b.name))),x=b=>{b!=="ai_generate"&&(l.value=b)},S=()=>{l.value&&(n.value="details")},R=()=>{c.value.tool_name=Jg(c.value.name,"get_"),D()},D=()=>{d.value=Ua(c.value.tool_name,r.existingToolNames||[])},T=()=>{h.value&&(l.value==="custom"?n.value="columns":U())},V=()=>{n.value="template",l.value=null,c.value={name:"",tool_name:"",tool_description:""},p.value=[{id:"1",name:"",label:"",type:"text",required:!0,searchable:!0}],u.value="",d.value="",i.value=!1},Q=()=>{V(),a("close")},U=()=>{var E,M;if(!l.value)return;u.value="",i.value=!0;let b;if(l.value==="custom"){if(!y.value){u.value="Заполните все колонки корректно",i.value=!1;return}b=p.value.map(({id:re,...B})=>B)}else b=(((E=m.value)==null?void 0:E.columns)||[]).map(re=>({...re,searchable:re.searchable??!1}));a("submit",{name:c.value.name,tool_name:c.value.tool_name,tool_description:c.value.tool_description||((M=m.value)==null?void 0:M.defaultDescription)||"",template:l.value,columns:b})};return Xe(()=>r.isOpen,b=>{b&&V()}),Xe(()=>c.value.tool_name,()=>{D()}),o({setSubmitting:b=>{i.value=b},setError:b=>{u.value=b},close:Q}),(b,E)=>($(),te(g(vr),{open:e.isOpen,"onUpdate:open":E[7]||(E[7]=M=>!M&&Q())},{default:C(()=>[w(g(hr),{"class-name":n.value==="columns"?"max-w-3xl":"max-w-xl",onEscapeKeyDown:E[6]||(E[6]=Ot(()=>{},["prevent"]))},{default:C(()=>{var M,re;return[n.value==="template"?($(),F("div",Cm,[w(g(ro),{class:"mb-6"},{default:C(()=>[v("div",$m,[v("div",null,[w(g(En),null,{default:C(()=>[...E[8]||(E[8]=[ee("Создать справочник",-1)])]),_:1}),w(g(Rn),null,{default:C(()=>[...E[9]||(E[9]=[ee("Выберите тип справочника",-1)])]),_:1})]),w(g(Jn))])]),_:1}),v("div",Em,[($(),F(Ue,null,ze(s,B=>v("button",{key:B.id,onClick:j=>x(B.id),class:Ae(["flex flex-col items-start p-4 rounded-md border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/50 transition-all text-left group",[l.value===B.id?"border-indigo-400 bg-indigo-50":"",B.id==="ai_generate"?"opacity-50 cursor-not-allowed":""]]),disabled:B.id==="ai_generate"},[v("div",{class:Ae(["w-10 h-10 rounded-lg flex items-center justify-center mb-3",[l.value===B.id?"bg-indigo-600 text-white":"bg-slate-100 text-slate-500 group-hover:bg-indigo-100 group-hover:text-indigo-600"]])},[($(),te(fo(B.icon),{class:"w-5 h-5"}))],2),v("span",Im,X(B.label),1),v("span",Pm,X(B.description),1),B.id==="ai_generate"?($(),F("span",Dm,"Скоро")):ue("",!0)],10,Rm)),64))]),w(g(Yo),{class:"mt-6"},{default:C(()=>[v("button",{disabled:!l.value,onClick:S,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," Далее ",8,Om)]),_:1})])):n.value==="details"?($(),F("div",Tm,[w(g(ro),{class:"mb-6"},{default:C(()=>[v("div",Mm,[v("div",Fm,[v("button",{onClick:E[0]||(E[0]=B=>n.value="template"),class:"p-1 text-slate-400 hover:text-slate-600"},[w(g(qo),{class:"h-5 w-5"})]),v("div",null,[w(g(En),null,{default:C(()=>[...E[10]||(E[10]=[ee("Настройка справочника",-1)])]),_:1}),w(g(Rn),null,{default:C(()=>{var B;return[ee(X((B=m.value)==null?void 0:B.label),1)]}),_:1})])]),w(g(Jn))])]),_:1}),v("form",{onSubmit:Ot(T,["prevent"]),class:"space-y-5"},[v("div",null,[E[11]||(E[11]=v("label",{class:"text-sm font-medium text-slate-700"},[ee(" Название справочника "),v("span",{class:"text-red-500"},"*")],-1)),Me(v("input",{"onUpdate:modelValue":E[1]||(E[1]=B=>c.value.name=B),type:"text",required:"",placeholder:"Услуги клиники",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",onInput:R},null,544),[[We,c.value.name,void 0,{trim:!0}]])]),v("div",null,[E[12]||(E[12]=v("label",{class:"text-sm font-medium text-slate-700"},[ee(" Имя функции для агента "),v("span",{class:"text-red-500"},"*")],-1)),v("div",Am,[Me(v("input",{"onUpdate:modelValue":E[2]||(E[2]=B=>c.value.tool_name=B),type:"text",required:"",placeholder:"get_services",pattern:"^[a-z][a-z0-9_]*$",class:Ae(["w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",{"border-red-300 bg-red-50":d.value}])},null,2),[[We,c.value.tool_name,void 0,{trim:!0}]])]),d.value?($(),F("p",Vm,X(d.value),1)):($(),F("p",Lm," Латиница, цифры и _ • Уникальное в рамках агента "))]),v("div",null,[E[13]||(E[13]=v("label",{class:"text-sm font-medium text-slate-700"},"Описание для агента",-1)),Me(v("textarea",{"onUpdate:modelValue":E[3]||(E[3]=B=>c.value.tool_description=B),rows:"3",placeholder:(M=m.value)==null?void 0:M.defaultDescription,class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,8,Bm),[[We,c.value.tool_description,void 0,{trim:!0}]]),E[14]||(E[14]=v("p",{class:"mt-1 text-xs text-slate-500"}," Помогает агенту понять когда использовать этот справочник ",-1))]),l.value!=="custom"?($(),F("div",Nm,[E[15]||(E[15]=v("p",{class:"text-xs font-bold text-slate-600 uppercase tracking-wider mb-2"},"Колонки справочника",-1)),v("div",jm,[($(!0),F(Ue,null,ze((re=m.value)==null?void 0:re.columns,B=>($(),F("span",{key:B.name,class:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-xs text-slate-600"},[ee(X(B.label)+" ",1),v("span",km,"("+X(B.type)+")",1),B.required?($(),F("span",Um,"*")):ue("",!0)]))),128))])])):ue("",!0),u.value?($(),F("p",Gm,X(u.value),1)):ue("",!0),w(g(Yo),null,{default:C(()=>[v("button",{type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:Q}," Отмена "),v("button",{type:"submit",class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:!h.value},[v("span",null,X(l.value==="custom"?"Далее":"Создать"),1)],8,Hm)]),_:1})],32)])):n.value==="columns"?($(),F("div",zm,[v("div",Km,[v("div",Wm,[v("button",{onClick:E[4]||(E[4]=B=>n.value="details"),class:"p-1 text-slate-400 hover:text-slate-600"},[w(g(qo),{class:"h-5 w-5"})]),v("div",null,[w(g(En),null,{default:C(()=>[...E[16]||(E[16]=[ee("Настройка колонок",-1)])]),_:1}),w(g(Rn),null,{default:C(()=>[ee(X(c.value.name||"Произвольный справочник"),1)]),_:1})])]),w(g(Jn))]),v("div",Xm,[w(os,{modelValue:p.value,"onUpdate:modelValue":E[5]||(E[5]=B=>p.value=B),"max-columns":15,ref_key:"columnEditorRef",ref:f},null,8,["modelValue"])]),v("div",Ym,[v("button",{type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 bg-white text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:Q}," Отмена "),v("button",{onClick:U,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:i.value||!y.value},[i.value?($(),te(g(Kt),{key:0,class:"w-4 h-4 animate-spin"})):ue("",!0),v("span",null,X(i.value?"Создание...":"Создать"),1)],8,_m)])])):ue("",!0)]}),_:1},8,["class-name"])]),_:1},8,["open"]))}}),Qm={class:"flex items-center justify-between p-6 border-b border-slate-100"},Jm={class:"flex-1 overflow-y-auto p-6"},Zm={key:0},ev={key:0,class:"mt-4 text-sm text-red-600"},tv={key:1,class:"space-y-5"},nv={class:"flex items-center justify-between bg-slate-50 rounded-md p-4"},ov={class:"flex items-center gap-3"},rv={class:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-slate-200"},av={class:"font-medium text-slate-900 text-sm"},sv={class:"text-xs text-slate-500"},lv={class:"space-y-3"},iv={class:"flex-1 px-4 py-2.5 bg-slate-50 rounded-lg text-sm text-slate-700 truncate border border-slate-100"},uv=["onUpdate:modelValue"],dv=["value","disabled"],cv={class:"space-y-3 pt-2"},fv={class:"flex items-center gap-3 cursor-pointer"},pv={class:"flex items-center gap-3 cursor-pointer"},gv={key:0,class:"pt-2"},mv={class:"overflow-x-auto rounded-lg border border-slate-200"},vv={class:"w-full text-sm"},hv={class:"bg-slate-50 border-b border-slate-200"},yv={class:"divide-y divide-slate-100"},xv={key:1,class:"text-sm text-red-600"},bv={key:2,class:"text-center py-6"},Sv={class:"text-lg font-bold text-slate-900"},wv={class:"text-slate-500 mt-2"},Cv={class:"font-bold text-slate-700"},$v={key:0,class:"text-slate-500"},Ev={class:"font-bold text-yellow-600"},Rv=["disabled"],Iv=ne({__name:"ImportCsvModal",props:{isOpen:{type:Boolean},directoryName:{},columns:{}},emits:["close","import"],setup(e,{expose:o,emit:t}){const r=e,a=t,s=K("upload"),n=K(!1),l=K(null),i=K(null),u=K(""),d=K(""),c=K(!1),p=K(null),f=K({}),m=K(!0),h=K(!1),y=K(null),x=xe(()=>{const j=Object.values(f.value).filter(N=>N!==null);return r.columns.filter(N=>N.required).map(N=>N.name).every(N=>j.includes(N))}),S=(j,H)=>Object.entries(f.value).some(([N,J])=>J===j&&N!==H),R=j=>{const H=f.value[j];if(!H)return null;const N=r.columns.find(J=>J.name===H);return N==null?void 0:N.label},D=()=>{var j;(j=i.value)==null||j.click()},T=j=>{var N;const H=j.target;(N=H.files)!=null&&N[0]&&Q(H.files[0])},V=j=>{var N;n.value=!1;const H=(N=j.dataTransfer)==null?void 0:N.files[0];H&&Q(H)},Q=async j=>{var J;u.value="";const H=[".csv",".xlsx",".xls"],N=j.name.substring(j.name.lastIndexOf(".")).toLowerCase();if(!H.includes(N)){u.value="Поддерживаются только файлы .csv и .xlsx";return}if(j.size>10*1024*1024){u.value="Файл слишком большой. Максимум 10 МБ";return}l.value=j;try{const de=await j.text(),Ce=de.split(`
`).filter(q=>q.trim()),Ve=de.includes(";")?";":",",Oe=((J=Ce[0])==null?void 0:J.split(Ve).map(q=>q.trim().replace(/^"|"$/g,"")))||[],Ie=Ce.slice(1,4).map(q=>q.split(Ve).map(fe=>fe.trim().replace(/^"|"$/g,"")));p.value={columns:Oe,rows_count:Ce.length-1,preview:Ie};const _={};for(const q of Oe){const fe=q.toLowerCase(),ce=r.columns.find($e=>$e.label.toLowerCase()===fe||$e.name.toLowerCase()===fe);_[q]=(ce==null?void 0:ce.name)||null}f.value=_,s.value="mapping"}catch{u.value="Не удалось прочитать файл"}},U=()=>{l.value=null,p.value=null,f.value={},s.value="upload"},b=()=>{!l.value||!x.value||(d.value="",c.value=!0,a("import",l.value,f.value,{hasHeader:m.value,replaceAll:h.value}))},E=()=>{var de,Ce;if(!((Ce=(de=y.value)==null?void 0:de.errors)!=null&&Ce.length))return;const j=y.value.errors.map(Ve=>`Строка ${Ve.row}: ${Ve.error}`).join(`
`),H=new Blob([j],{type:"text/plain"}),N=URL.createObjectURL(H),J=document.createElement("a");J.href=N,J.download="import-errors.txt",J.click(),URL.revokeObjectURL(N)},M=()=>{s.value="upload",l.value=null,p.value=null,f.value={},u.value="",d.value="",c.value=!1,y.value=null,m.value=!0,h.value=!1,a("close")},re=j=>{y.value=j,c.value=!1,s.value="result"},B=j=>{d.value=j,c.value=!1};return Xe(()=>r.isOpen,j=>{j||M()}),o({setResult:re,setError:B}),(j,H)=>($(),te(g(vr),{open:e.isOpen,"onUpdate:open":H[4]||(H[4]=N=>!N&&M())},{default:C(()=>[w(g(hr),{"class-name":"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},{default:C(()=>{var N,J,de,Ce,Ve,Oe,Ie,_,q,fe,ce,$e,je,Y,P,W,Ne,Ye;return[v("div",Qm,[w(g(ro),null,{default:C(()=>[w(g(En),null,{default:C(()=>[...H[5]||(H[5]=[ee("Импорт из CSV",-1)])]),_:1}),w(g(Rn),null,{default:C(()=>[ee(X(e.directoryName),1)]),_:1})]),_:1}),w(g(Jn))]),v("div",Jm,[s.value==="upload"?($(),F("div",Zm,[v("div",{class:Ae(["border-2 border-dashed border-slate-200 rounded-md p-8 text-center hover:border-indigo-300 hover:bg-indigo-50/30 transition-all cursor-pointer",{"border-indigo-400 bg-indigo-50":n.value}]),onDragover:H[0]||(H[0]=Ot(Pe=>n.value=!0,["prevent"])),onDragleave:H[1]||(H[1]=Ot(Pe=>n.value=!1,["prevent"])),onDrop:Ot(V,["prevent"]),onClick:D},[v("input",{ref_key:"fileInputRef",ref:i,type:"file",accept:".csv,.xlsx,.xls",class:"hidden",onChange:T},null,544),w(g(ha),{class:"w-12 h-12 text-slate-400 mx-auto mb-4"}),H[6]||(H[6]=v("p",{class:"text-slate-700 font-medium"},"Перетащите файл сюда",-1)),H[7]||(H[7]=v("p",{class:"text-slate-500 text-sm mt-1"},"или нажмите для выбора",-1)),H[8]||(H[8]=v("p",{class:"text-slate-400 text-xs mt-3"},"Поддерживаются .csv и .xlsx до 10 МБ",-1))],34),u.value?($(),F("p",ev,X(u.value),1)):ue("",!0)])):s.value==="mapping"?($(),F("div",tv,[v("div",nv,[v("div",ov,[v("div",rv,[w(g(xu),{class:"w-5 h-5 text-emerald-600"})]),v("div",null,[v("p",av,X((N=l.value)==null?void 0:N.name),1),v("p",sv,X((J=p.value)==null?void 0:J.rows_count)+" строк",1)])]),v("button",{onClick:U,class:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Удалить файл"},[w(g(cn),{class:"w-4 h-4"})])]),v("div",null,[H[10]||(H[10]=v("p",{class:"text-sm font-medium text-slate-700 mb-3"},"Сопоставьте колонки файла с полями справочника",-1)),v("div",lv,[($(!0),F(Ue,null,ze((de=p.value)==null?void 0:de.columns,Pe=>($(),F("div",{key:Pe,class:"flex items-center gap-3"},[v("div",iv,' "'+X(Pe)+'" ',1),w(g(vu),{class:"w-4 h-4 text-slate-400 flex-shrink-0"}),Me(v("select",{"onUpdate:modelValue":et=>f.value[Pe]=et,class:"flex-1 px-4 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"},[H[9]||(H[9]=v("option",{value:null},"— Пропустить —",-1)),($(!0),F(Ue,null,ze(e.columns,et=>($(),F("option",{key:et.name,value:et.name,disabled:S(et.name,Pe)},X(et.label),9,dv))),128))],8,uv),[[dn,f.value[Pe]]])]))),128))])]),v("div",cv,[v("label",fv,[Me(v("input",{"onUpdate:modelValue":H[2]||(H[2]=Pe=>m.value=Pe),type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Zt,m.value]]),H[11]||(H[11]=v("span",{class:"text-sm text-slate-700"},"Первая строка — заголовки",-1))]),v("label",pv,[Me(v("input",{"onUpdate:modelValue":H[3]||(H[3]=Pe=>h.value=Pe),type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Zt,h.value]]),H[12]||(H[12]=v("span",{class:"text-sm text-slate-700"},"Заменить все существующие записи",-1))])]),(Ve=(Ce=p.value)==null?void 0:Ce.preview)!=null&&Ve.length?($(),F("div",gv,[H[13]||(H[13]=v("p",{class:"text-sm font-medium text-slate-700 mb-3"},"Превью (первые 3 записи)",-1)),v("div",mv,[v("table",vv,[v("thead",null,[v("tr",hv,[($(!0),F(Ue,null,ze(p.value.columns,(Pe,et)=>($(),F("th",{key:et,class:"px-3 py-2 text-left text-xs font-bold text-slate-500 uppercase whitespace-nowrap"},X(R(Pe)||Pe),1))),128))])]),v("tbody",yv,[($(!0),F(Ue,null,ze(p.value.preview,(Pe,et)=>($(),F("tr",{key:et},[($(!0),F(Ue,null,ze(Pe,(ft,pt)=>($(),F("td",{key:pt,class:"px-3 py-2 text-slate-600 truncate max-w-[200px]"},X(ft||"—"),1))),128))]))),128))])])])])):ue("",!0),d.value?($(),F("p",xv,X(d.value),1)):ue("",!0)])):s.value==="result"?($(),F("div",bv,[v("div",{class:Ae(["w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",[(Ie=(Oe=y.value)==null?void 0:Oe.errors)!=null&&Ie.length?"bg-yellow-100":"bg-emerald-100"]])},[($(),te(fo((q=(_=y.value)==null?void 0:_.errors)!=null&&q.length?g(sa):g(uu)),{class:Ae(["w-8 h-8",[(ce=(fe=y.value)==null?void 0:fe.errors)!=null&&ce.length?"text-yellow-600":"text-emerald-600"]])},null,8,["class"]))],2),v("h3",Sv,X((je=($e=y.value)==null?void 0:$e.errors)!=null&&je.length?"Импорт завершён с предупреждениями":"Импорт успешно завершён"),1),v("p",wv,[H[14]||(H[14]=ee(" Добавлено записей: ",-1)),v("span",Cv,X((Y=y.value)==null?void 0:Y.created),1)]),(W=(P=y.value)==null?void 0:P.errors)!=null&&W.length?($(),F("p",$v,[H[15]||(H[15]=ee(" Пропущено (ошибки): ",-1)),v("span",Ev,X(y.value.errors.length),1)])):ue("",!0),(Ye=(Ne=y.value)==null?void 0:Ne.errors)!=null&&Ye.length?($(),F("button",{key:1,onClick:E,class:"mt-4 px-4 py-2 text-sm text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors"}," Скачать лог ошибок ")):ue("",!0)])):ue("",!0)]),w(g(Yo),{"class-name":"p-6 border-t border-slate-100 bg-slate-50"},{default:C(()=>[s.value!=="result"?($(),F("button",{key:0,type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 bg-white text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:M}," Отмена ")):ue("",!0),s.value==="mapping"?($(),F("button",{key:1,onClick:b,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:c.value||!x.value},[c.value?($(),te(g(Kt),{key:0,class:"w-4 h-4 animate-spin"})):ue("",!0),v("span",null,X(c.value?"Импорт...":"Импортировать"),1)],8,Rv)):ue("",!0),s.value==="result"?($(),F("button",{key:2,onClick:M,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Готово ")):ue("",!0)]),_:1})]}),_:1})]),_:1},8,["open"]))}}),Pv={class:"flex items-center justify-between"},Dv={class:"flex-1 overflow-y-auto p-6 space-y-6"},Ov={class:"grid grid-cols-2 gap-4"},Tv={key:0,class:"mt-1 text-xs text-yellow-600"},Mv={key:1,class:"mt-1 text-xs text-red-600"},Fv={class:"border-t border-slate-100 pt-5"},Av={class:"flex items-center justify-between mb-3"},Vv={key:0,class:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded-lg"},Lv={key:0,class:"mt-2 text-xs text-amber-600 bg-amber-50 p-3 rounded-lg"},Bv={class:"border-t border-slate-100 pt-5"},Nv={class:"flex items-start gap-6"},jv={class:"flex-1"},kv={class:"mt-1 text-xs text-slate-400"},Uv={class:"flex-1"},Gv={class:"w-40 shrink-0"},Hv={class:"flex items-center gap-3 cursor-pointer px-3 py-2 rounded-md border border-slate-200 hover:border-slate-300 transition-all"},zv={class:"text-sm text-slate-700"},Kv={key:0,class:"text-sm text-red-600"},Wv={class:"flex-shrink-0 border-t border-slate-200 bg-white px-6 py-3"},Xv={class:"flex items-center justify-between"},Yv={class:"flex items-center gap-2"},_v=["disabled"],qv={class:"p-6"},Qv={class:"flex items-center gap-3 mt-6"},Jv=["disabled"],Zv=ne({__name:"DirectorySettingsSheet",props:{isOpen:{type:Boolean},directory:{},existingToolNames:{}},emits:["close","save","delete"],setup(e,{expose:o,emit:t}){const r=e,a=t,s=K({name:"",tool_name:"",tool_description:"",response_mode:"function_result",search_type:"fuzzy",is_enabled:!0,columns:[]}),n=K(!1),l=K(!1),i=K(""),u=K(""),d=K(!1),c=K(""),p=K([]),f=xe(()=>s.value.tool_name!==c.value),m=xe(()=>JSON.stringify(s.value.columns)!==JSON.stringify(p.value)),h=xe(()=>{if(!m.value)return"";const U=s.value.columns.map(E=>E.name),b=p.value.filter(E=>!U.includes(E.name));return b.length>0&&r.directory&&r.directory.items_count>0?`Удаление колонок (${b.map(E=>E.label).join(", ")}) приведёт к потере данных в ${r.directory.items_count} записях`:""}),y=xe(()=>{if(!s.value.name.trim()||!s.value.tool_name.trim()||!sr(s.value.tool_name)||u.value||s.value.columns.length===0)return!1;if(R.value)return R.value.isValid();const U=s.value.columns.map(M=>M.name),b=s.value.columns.some(M=>!M.name||!M.label||!sr(M.name)),E=U.length!==new Set(U).size;return!b&&!E}),x=()=>{if(r.directory){const U=(r.directory.columns||[]).map(b=>({name:b.name,label:b.label,type:b.type||"text",required:b.required??!1,searchable:b.searchable??!1}));s.value={name:r.directory.name,tool_name:r.directory.tool_name,tool_description:r.directory.tool_description||"",response_mode:r.directory.response_mode||"function_result",search_type:r.directory.search_type||"fuzzy",is_enabled:r.directory.is_enabled,columns:U},c.value=r.directory.tool_name,p.value=JSON.parse(JSON.stringify(U))}},S=()=>{u.value=Ua(s.value.tool_name,r.existingToolNames||[],c.value)},R=K(null),D=xe({get:()=>s.value.columns.map((U,b)=>({id:String(b),name:U.name,label:U.label,type:U.type,required:U.required,searchable:U.searchable??!1})),set:U=>{s.value.columns=U.map(({id:b,...E})=>E)}}),T=()=>{i.value="",u.value="",d.value=!1,n.value=!1,l.value=!1,a("close")},V=()=>{!y.value||!r.directory||(i.value="",n.value=!0,a("save",{id:r.directory.id,name:s.value.name,tool_name:s.value.tool_name,tool_description:s.value.tool_description,response_mode:s.value.response_mode,search_type:s.value.search_type,is_enabled:s.value.is_enabled,columns:s.value.columns}))},Q=()=>{r.directory&&(l.value=!0,a("delete",r.directory.id))};return Xe(()=>r.isOpen,U=>{U&&(x(),i.value="",u.value="",d.value=!1)}),Xe(()=>s.value.tool_name,()=>{S()}),o({setSaving:U=>{n.value=U},setDeleting:U=>{l.value=U},setError:U=>{i.value=U},close:T}),(U,b)=>($(),te(g(po),{open:e.isOpen,"onUpdate:open":b[10]||(b[10]=E=>!E&&T())},{default:C(()=>[w(g(go),{side:"right","class-name":"max-w-4xl flex flex-col"},{default:C(()=>[w(g(mo),null,{default:C(()=>[v("div",Pv,[w(g(vo),null,{default:C(()=>[...b[11]||(b[11]=[ee("Настройки справочника",-1)])]),_:1}),w(g(yr))])]),_:1}),v("div",Dv,[v("div",Ov,[v("div",null,[b[12]||(b[12]=v("label",{class:"text-sm font-medium text-slate-700"},"Название",-1)),Me(v("input",{"onUpdate:modelValue":b[0]||(b[0]=E=>s.value.name=E),type:"text",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,512),[[We,s.value.name,void 0,{trim:!0}]])]),v("div",null,[b[13]||(b[13]=v("label",{class:"text-sm font-medium text-slate-700"},"Имя функции",-1)),Me(v("input",{"onUpdate:modelValue":b[1]||(b[1]=E=>s.value.tool_name=E),type:"text",class:Ae(["mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",{"border-yellow-300 bg-yellow-50":f.value}])},null,2),[[We,s.value.tool_name,void 0,{trim:!0}]]),f.value?($(),F("p",Tv," Изменение повлияет на промпт агента ")):ue("",!0),u.value?($(),F("p",Mv,X(u.value),1)):ue("",!0)])]),v("div",null,[b[14]||(b[14]=v("label",{class:"text-sm font-medium text-slate-700"},"Описание для агента",-1)),Me(v("textarea",{"onUpdate:modelValue":b[2]||(b[2]=E=>s.value.tool_description=E),rows:"2",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,512),[[We,s.value.tool_description,void 0,{trim:!0}]])]),v("div",Fv,[v("div",Av,[b[15]||(b[15]=v("label",{class:"text-sm font-medium text-slate-700"},"Колонки справочника",-1)),m.value?($(),F("span",Vv," Изменения не сохранены ")):ue("",!0)]),w(os,{modelValue:D.value,"onUpdate:modelValue":b[3]||(b[3]=E=>D.value=E),"max-columns":15,ref_key:"columnEditorRef",ref:R},null,8,["modelValue"]),h.value?($(),F("p",Lv,X(h.value),1)):ue("",!0)]),v("div",Bv,[v("div",Nv,[v("div",jv,[b[17]||(b[17]=v("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Режим ответа",-1)),Me(v("select",{"onUpdate:modelValue":b[4]||(b[4]=E=>s.value.response_mode=E),class:"w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},[...b[16]||(b[16]=[v("option",{value:"function_result"},"Результат функции",-1),v("option",{value:"direct_message"},"Прямое сообщение",-1)])],512),[[dn,s.value.response_mode]]),v("p",kv,X(s.value.response_mode==="function_result"?"Агент сформулирует ответ сам":"Без обработки агентом"),1)]),v("div",Uv,[b[19]||(b[19]=v("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Тип поиска",-1)),Me(v("select",{"onUpdate:modelValue":b[5]||(b[5]=E=>s.value.search_type=E),class:"w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},[...b[18]||(b[18]=[v("option",{value:"exact"},"Точный",-1),v("option",{value:"fuzzy"},"Нечёткий",-1),v("option",{value:"semantic"},"Семантический",-1)])],512),[[dn,s.value.search_type]])]),v("div",Gv,[b[20]||(b[20]=v("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Статус",-1)),v("label",Hv,[w(g(oa),{modelValue:s.value.is_enabled,"onUpdate:modelValue":b[6]||(b[6]=E=>s.value.is_enabled=E)},null,8,["modelValue"]),v("span",zv,X(s.value.is_enabled?"Активен":"Выключен"),1)])])])]),i.value?($(),F("p",Kv,X(i.value),1)):ue("",!0)]),v("div",Wv,[v("div",Xv,[v("button",{onClick:b[7]||(b[7]=E=>d.value=!0),class:"px-3 py-1.5 text-sm text-red-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors"}," Удалить "),v("div",Yv,[v("button",{onClick:T,class:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-md transition-colors"}," Отмена "),v("button",{onClick:V,class:"px-5 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5",disabled:n.value||!y.value},[n.value?($(),te(g(Kt),{key:0,class:"w-3.5 h-3.5 animate-spin"})):ue("",!0),ee(" "+X(n.value?"Сохранение...":"Сохранить"),1)],8,_v)])])]),w(g(vr),{open:d.value,"onUpdate:open":b[9]||(b[9]=E=>d.value=E)},{default:C(()=>[w(g(hr),{"class-name":"max-w-sm"},{default:C(()=>[v("div",qv,[w(g(ro),{class:"mb-4"},{default:C(()=>[w(g(En),null,{default:C(()=>[...b[21]||(b[21]=[ee("Удалить справочник?",-1)])]),_:1}),w(g(Rn),null,{default:C(()=>{var E,M;return[ee(' Справочник "'+X((E=e.directory)==null?void 0:E.name)+'" и все его записи ('+X((M=e.directory)==null?void 0:M.items_count)+") будут удалены безвозвратно. ",1)]}),_:1})]),_:1}),v("div",Qv,[v("button",{onClick:b[8]||(b[8]=E=>d.value=!1),class:"flex-1 px-4 py-2.5 rounded-md border border-slate-200 text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors"}," Отмена "),v("button",{onClick:Q,class:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-md text-sm font-bold hover:bg-red-700 transition-colors",disabled:l.value},X(l.value?"Удаление...":"Удалить"),9,Jv)])])]),_:1})]),_:1},8,["open"])]),_:1})]),_:1},8,["open"]))}}),Dr=Symbol("tabs-context"),eh=ne({__name:"Tabs",props:{value:{},defaultValue:{},className:{}},emits:["update:value"],setup(e,{emit:o}){const t=e,r=o,a=Dt(),s=K(t.value??t.defaultValue??"services");return Xe(()=>t.value,i=>{i&&(s.value=i)}),Qr(Dr,{value:s,setValue:i=>{s.value!==i&&(s.value=i,r("update:value",i))}}),(i,u)=>($(),F("div",Le({class:["space-y-4",e.className]},g(a)),[ie(i.$slots,"default")],16))}}),th=ne({__name:"TabsList",props:{className:{}},setup(e){const o=Dt();return(t,r)=>($(),F("div",Le({class:["flex gap-2 flex-wrap",e.className]},g(o)),[ie(t.$slots,"default")],16))}}),Ko=ne({__name:"TabsTrigger",props:{value:{}},setup(e){const o=e,t=Dt(),r=pr(Dr);if(!r)throw new Error("TabsTrigger must be used inside Tabs");const{value:a,setValue:s}=r,n=xe(()=>a.value===o.value),l=o.value;return(i,u)=>($(),F("button",Le({type:"button",class:["px-4 py-2 rounded-xl text-sm font-bold transition-colors",n.value?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"],onClick:u[0]||(u[0]=d=>g(s)(g(l)))},g(t)),[ie(i.$slots,"default")],16))}}),Wo=ne({__name:"TabsContent",props:{value:{}},setup(e){const o=e,t=Dt(),r=pr(Dr);if(!r)throw new Error("TabsContent must be used inside Tabs");const{value:a}=r,s=xe(()=>a.value===o.value);return(n,l)=>Me(($(),F("div",nt(ot(g(t))),[ie(n.$slots,"default")],16)),[[Zr,s.value]])}}),nh={class:"space-y-6"},oh={class:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm space-y-5"},rh={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},ah={class:"flex items-center gap-4"},sh={class:"flex items-center gap-2"},lh={class:"text-sm text-slate-500 mt-0.5"},ih={class:"flex items-center gap-3"},uh=["disabled"],dh={key:0,class:"mt-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-start gap-3"},ch={class:"flex-1"},fh={class:"text-sm text-yellow-700 mt-0.5"},ph={class:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm space-y-6"},gh={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},mh={class:"p-6 border-b border-slate-100 space-y-4"},vh={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},hh={class:"flex flex-wrap items-center gap-3"},yh={class:"relative"},xh=["value"],bh={class:"flex items-center gap-2 cursor-pointer"},Sh={key:0,class:"bg-indigo-50 px-6 py-3 border-b border-indigo-100 flex items-center justify-between"},wh={class:"flex items-center gap-4"},Ch={class:"text-sm font-bold text-indigo-700"},$h={class:"flex items-center gap-2"},Eh={class:"overflow-x-auto bg-white"},Rh=["checked"],Ih=["checked","onChange"],Ph={class:"text-sm font-bold text-slate-900"},Dh={key:0,class:"text-[10px] text-slate-500 mt-0.5 line-clamp-1"},Oh={class:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-slate-100 text-slate-600"},Th={class:"text-sm font-mono text-slate-600"},Mh={class:"text-sm text-slate-600"},Fh=["onClick"],Ah=["onUpdate:modelValue","onBlur","onKeyup"],Vh={class:"p-4 border-t border-slate-100 bg-slate-50/30 flex items-center justify-between"},Lh={class:"text-xs text-slate-500"},Bh={class:"flex items-center gap-2"},Nh=["disabled"],jh={class:"text-xs font-bold text-slate-700"},kh=["disabled"],Uh={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},Gh={class:"p-6 border-b border-slate-100 space-y-4"},Hh={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},zh={class:"flex flex-wrap items-center gap-3"},Kh={class:"relative"},Wh={class:"text-sm text-slate-500"},Xh={class:"overflow-x-auto bg-white"},Yh={class:"text-sm font-bold text-slate-900"},_h={class:"text-[10px] text-slate-500 mt-0.5"},qh={class:"text-sm text-slate-600 capitalize"},Qh={class:"text-sm text-slate-600"},Jh={class:"p-4 border-t border-slate-100 bg-slate-50/30 text-xs text-slate-500"},Zh={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},e0={class:"p-6 border-b border-slate-100 space-y-4"},t0={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},n0={class:"flex flex-wrap items-center gap-3"},o0={class:"relative"},r0={class:"flex items-center gap-2 cursor-pointer"},a0={class:"overflow-x-auto bg-white"},s0={class:"text-sm font-bold text-slate-900"},l0={key:0,class:"text-[10px] text-slate-500 mt-0.5 line-clamp-1"},i0={class:"text-sm text-slate-600"},u0=["onClick"],d0=["onUpdate:modelValue","onBlur"],c0={class:"p-4 border-t border-slate-100 bg-slate-50/30 text-xs text-slate-500"},f0=ne({__name:"SQNSIntegrationManager",props:{agentId:{},status:{},lastSyncAt:{},warning:{}},emits:["close-warning","sync-complete"],setup(e,{emit:o}){const t=e,r=o,{syncSqns:a,fetchSqnsServicesCached:s,updateSqnsService:n,bulkUpdateSqnsServices:l,fetchSqnsCategories:i,updateSqnsCategory:u}=du(),{success:d,error:c}=na(),p=K(!1),f=K(!1),m=K([]),h=K(0),y=K([]),x=K([]),S=K(!1),R=K(""),D=K(!1),T=K("services"),V=K([]),Q=K(!1),U=K(""),b=K({search:"",category:null,is_enabled:null}),E=K({limit:50,offset:0}),M=xe(()=>Math.floor(E.value.offset/E.value.limit)+1),re=xe(()=>m.value.length>0&&m.value.every(Y=>x.value.includes(Y.id))),B=xe(()=>t.lastSyncAt?new Date(t.lastSyncAt).toLocaleString("ru-RU",{dateStyle:"medium",timeStyle:"short"}):"нет данных"),j=xe(()=>{const Y=R.value.trim().toLowerCase();return y.value.filter(P=>{var W;return D.value&&!P.is_enabled?!1:Y?((W=P.name)==null?void 0:W.toLowerCase().includes(Y))??!1:!0})}),H=xe(()=>{const Y=U.value.trim().toLowerCase();return Y?V.value.filter(P=>`${P.name??""} ${P.role??""}`.toLowerCase().includes(Y)):V.value}),N=async(Y=!1)=>{try{Y||(f.value=!0);const P=await s(t.agentId,{...b.value,...E.value,category:b.value.category??void 0,is_enabled:b.value.is_enabled??void 0});m.value=P.services,h.value=P.total}catch(P){console.error("Failed to load services:",P)}finally{Y||(f.value=!1)}},J=async(Y=!1)=>{try{Y||(S.value=!0),y.value=await i(t.agentId)}catch(P){console.error("Failed to load categories:",P)}finally{Y||(S.value=!1)}},de=async()=>{try{Q.value=!0,V.value=[]}catch(Y){console.error("Failed to load specialists:",Y)}finally{Q.value=!1}},Ce=async()=>{try{p.value=!0;const Y=await a(t.agentId);d("Синхронизация завершена",`Обновлено: ${Y.services_synced} услуг, ${Y.categories_synced} категорий`),r("sync-complete"),N(),J(),await de()}catch(Y){c("Ошибка синхронизации",on(Y,"Не удалось выполнить синхронизацию"))}finally{p.value=!1}},Ve=async Y=>{const P=!!Y.is_enabled,W=!P;Y.is_enabled=W,console.log("🔧 Toggle service:",{serviceId:Y.id,serviceIdType:typeof Y.id,serviceName:Y.name,originalState:P,nextState:W,payload:{is_enabled:W}});try{await n(t.agentId,Y.id,{is_enabled:W}),console.log("✅ Toggle успешно, перезагружаем список..."),await N(!0),d("Статус обновлен",`Услуга "${Y.name}" ${W?"включена":"отключена"}`)}catch(Ne){Y.is_enabled=P,c("Ошибка",on(Ne,"Не удалось изменить статус услуги")),console.error("❌ Toggle error:",Ne),await N()}},Oe=async Y=>{const P=Number(Y.priority);if(!Number.isFinite(P)||P<0){c("Ошибка","Приоритет должен быть числом >= 0"),N();return}try{await n(t.agentId,Y.id,{priority:P}),await N(!0),d("Приоритет обновлен",`Для услуги "${Y.name}" установлен приоритет ${P}`)}catch(W){c("Ошибка",on(W,"Не удалось обновить приоритет услуги")),await N(!0)}},Ie=async Y=>{if(confirm(`Вы уверены? ${x.value.length} услуг будут ${Y?"включены":"отключены"}`))try{await l(t.agentId,{ids:x.value,is_enabled:Y}),x.value=[],await N(!0),d("Массовое обновление",`Успешно обновлено ${x.value.length} услуг`)}catch(P){c("Ошибка",on(P,"Не удалось выполнить массовое обновление")),await N(!0)}},_=async Y=>{const P=Y.is_enabled,W=!P;Y.is_enabled=W;try{await u(t.agentId,Y.id,{is_enabled:W}),await J(!0),d("Статус категории обновлен",`Категория "${Y.name}" ${W?"включена":"отключена"}`)}catch(Ne){Y.is_enabled=P,c("Ошибка",on(Ne,"Не удалось изменить статус категории")),await J(!0)}},q=async Y=>{const P=Number(Y.priority);if(!Number.isFinite(P)||P<0){c("Ошибка","Приоритет должен быть числом >= 0"),await J(!0);return}try{await u(t.agentId,Y.id,{priority:P}),await J(!0),d("Приоритет категории обновлен",`Для категории "${Y.name}" установлен приоритет ${P}`)}catch(W){c("Ошибка",on(W,"Не удалось обновить приоритет категории")),await J(!0)}},fe=Y=>{const P=x.value.indexOf(Y);P===-1?x.value.push(Y):x.value.splice(P,1)},ce=()=>{re.value?x.value=x.value.filter(Y=>!m.value.some(P=>P.id===Y)):m.value.forEach(Y=>{x.value.includes(Y.id)||x.value.push(Y.id)})},$e=Y=>{E.value.offset+=Y*E.value.limit,N()};let je=null;return Xe(()=>b.value.search,()=>{clearTimeout(je),je=setTimeout(()=>{E.value.offset=0,N()},300)}),Xe([()=>b.value.category,()=>b.value.is_enabled],()=>{E.value.offset=0,N()}),Xe(T,Y=>{Y==="specialists"&&V.value.length===0&&de(),Y==="categories"&&y.value.length===0&&J()}),en(()=>{N(),J(),de()}),(Y,P)=>($(),F("div",nh,[v("div",oh,[v("div",rh,[v("div",ah,[v("div",{class:Ae(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",[e.status==="error"?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"]])},[w(g(cu),{class:"w-6 h-6"})],2),v("div",null,[v("div",sh,[P[13]||(P[13]=v("h3",{class:"text-lg font-bold text-slate-900"},"SQNS Интеграция",-1)),v("span",{class:Ae(["text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded-full",[e.status==="error"?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"]])},X(e.status==="error"?"Ошибка":"Активна"),3)]),v("p",lh," Последняя синхронизация: "+X(B.value),1)])]),v("div",ih,[v("button",{onClick:Ce,disabled:p.value,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 text-slate-700 border border-slate-200 rounded-lg text-sm font-medium hover:bg-slate-100 transition-all disabled:opacity-50"},[w(g(wu),{class:Ae(["h-4 w-4",{"animate-spin":p.value}])},null,8,["class"]),ee(" "+X(p.value?"Синхронизация...":"Обновить данные"),1)],8,uh)])]),e.warning?($(),F("div",dh,[w(g(mu),{class:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),v("div",ch,[P[14]||(P[14]=v("p",{class:"text-sm text-yellow-800 font-medium"},"Внимание",-1)),v("p",fh,X(e.warning),1)]),v("button",{onClick:P[0]||(P[0]=W=>Y.$emit("close-warning")),class:"text-yellow-500 hover:text-yellow-600"},[w(g(mr),{class:"h-4 w-4"})])])):ue("",!0)]),v("div",ph,[w(g(eh),{value:T.value,"onUpdate:value":P[12]||(P[12]=W=>T.value=W)},{default:C(()=>[w(g(th),{className:"bg-slate-50/70 p-1 rounded-xl"},{default:C(()=>[w(g(Ko),{value:"services"},{default:C(()=>[...P[15]||(P[15]=[ee("Услуги",-1)])]),_:1}),w(g(Ko),{value:"specialists"},{default:C(()=>[...P[16]||(P[16]=[ee("Специалисты",-1)])]),_:1}),w(g(Ko),{value:"categories"},{default:C(()=>[...P[17]||(P[17]=[ee("Категории",-1)])]),_:1})]),_:1}),w(g(Wo),{value:"services"},{default:C(()=>[v("div",gh,[v("div",mh,[v("div",vh,[P[20]||(P[20]=v("h3",{class:"text-lg font-bold text-slate-900"},"Управление услугами",-1)),v("div",hh,[v("div",yh,[w(g(In),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Me(v("input",{"onUpdate:modelValue":P[1]||(P[1]=W=>b.value.search=W),type:"text",placeholder:"Поиск услуг...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[We,b.value.search]])]),Me(v("select",{"onUpdate:modelValue":P[2]||(P[2]=W=>b.value.category=W),class:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all"},[P[18]||(P[18]=v("option",{value:null},"Все категории",-1)),($(!0),F(Ue,null,ze(y.value,W=>($(),F("option",{key:W.id,value:W.name},X(W.name),9,xh))),128))],512),[[dn,b.value.category]]),v("label",bh,[Me(v("input",{"onUpdate:modelValue":P[3]||(P[3]=W=>b.value.is_enabled=W),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,512),[[Zt,b.value.is_enabled]]),P[19]||(P[19]=v("span",{class:"text-sm text-slate-600"},"Только включенные",-1))])])])]),w(_r,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform -translate-y-2 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-2 opacity-0"},{default:C(()=>[x.value.length>0?($(),F("div",Sh,[v("div",wh,[v("span",Ch,"Выбрано: "+X(x.value.length),1),P[21]||(P[21]=v("div",{class:"h-4 w-px bg-indigo-200"},null,-1)),v("div",$h,[v("button",{onClick:P[4]||(P[4]=W=>Ie(!0)),class:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors"}," Включить выбранные "),v("button",{onClick:P[5]||(P[5]=W=>Ie(!1)),class:"text-xs font-bold text-red-600 hover:text-red-800 transition-colors"}," Отключить выбранные ")])]),v("button",{onClick:P[6]||(P[6]=W=>x.value=[]),class:"text-xs font-medium text-slate-500 hover:text-slate-700"}," Сбросить выбор ")])):ue("",!0)]),_:1}),v("div",Eh,[w(g(Dn),null,{default:C(()=>[w(g(On),null,{default:C(()=>[w(g(it),null,{default:C(()=>[w(g(Qe),{className:"w-10"},{default:C(()=>[v("input",{type:"checkbox",checked:re.value,onChange:ce,class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,40,Rh)]),_:1}),w(g(Qe),null,{default:C(()=>[...P[22]||(P[22]=[ee("Услуга",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[23]||(P[23]=[ee("Категория",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[24]||(P[24]=[ee("Цена",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[25]||(P[25]=[ee("Длительность",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[26]||(P[26]=[ee("Статус",-1)])]),_:1}),w(g(Qe),{className:"w-24"},{default:C(()=>[...P[27]||(P[27]=[ee("Приоритет",-1)])]),_:1})]),_:1})]),_:1}),w(g(Tn),null,{default:C(()=>[f.value?($(),F(Ue,{key:0},ze(5,W=>w(g(it),{key:`skeleton-${W}`,class:"animate-pulse"},{default:C(()=>[w(g(Ee),null,{default:C(()=>[...P[28]||(P[28]=[v("div",{class:"h-4 w-4 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[29]||(P[29]=[v("div",{class:"h-4 w-48 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[30]||(P[30]=[v("div",{class:"h-4 w-24 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[31]||(P[31]=[v("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[32]||(P[32]=[v("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[33]||(P[33]=[v("div",{class:"h-6 w-10 bg-slate-100 rounded-full"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[34]||(P[34]=[v("div",{class:"h-8 w-16 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):m.value.length===0?($(),te(g(it),{key:1},{default:C(()=>[w(g(Ee),{colspan:7,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...P[35]||(P[35]=[ee(" Услуги не найдены ",-1)])]),_:1})]),_:1})):($(!0),F(Ue,{key:2},ze(m.value,W=>($(),te(g(it),{key:W.id,class:Ae(["hover:bg-slate-50/50 transition-colors",x.value.includes(W.id)?"bg-indigo-50/20":""])},{default:C(()=>[w(g(Ee),null,{default:C(()=>[v("input",{type:"checkbox",checked:x.value.includes(W.id),onChange:Ne=>fe(W.id),class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,40,Ih)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("p",Ph,X(W.name),1),W.description?($(),F("p",Dh,X(W.description),1)):ue("",!0)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("span",Oh,X(W.category||"Без категории"),1)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("span",Th,X(W.price_range||"—")+" ₽",1)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("span",Mh,X(W.duration)+" мин",1)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("button",{onClick:Ne=>Ve(W),class:Ae(["relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",[W.is_enabled?"bg-emerald-500":"bg-slate-200"]])},[v("span",{"aria-hidden":"true",class:Ae(["pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow transition duration-200 ease-in-out",[W.is_enabled?"translate-x-4":"translate-x-0"]])},null,2)],10,Fh)]),_:2},1024),w(g(Ee),null,{default:C(()=>[Me(v("input",{type:"number","onUpdate:modelValue":Ne=>W.priority=Ne,onBlur:Ne=>Oe(W),onKeyup:Bn(Ne=>Oe(W),["enter"]),class:"w-16 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-xs font-mono focus:ring-1 focus:ring-indigo-500 focus:bg-white transition-all",min:"0",max:"100"},null,40,Ah),[[We,W.priority,void 0,{number:!0}]])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),v("div",Vh,[v("p",Lh," Показано "+X(E.value.offset+1)+"-"+X(Math.min(E.value.offset+E.value.limit,h.value))+" из "+X(h.value)+" услуг ",1),v("div",Bh,[v("button",{onClick:P[7]||(P[7]=W=>$e(-1)),disabled:E.value.offset===0,class:"p-2 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-30 transition-all"},[w(g(fa),{class:"h-4 w-4"})],8,Nh),v("span",jh,"Страница "+X(M.value),1),v("button",{onClick:P[8]||(P[8]=W=>$e(1)),disabled:E.value.offset+E.value.limit>=h.value,class:"p-2 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-30 transition-all"},[w(g(pa),{class:"h-4 w-4"})],8,kh)])])])]),_:1}),w(g(Wo),{value:"specialists"},{default:C(()=>[v("div",Uh,[v("div",Gh,[v("div",Hh,[P[36]||(P[36]=v("h3",{class:"text-lg font-bold text-slate-900"},"Специалисты",-1)),v("div",zh,[v("div",Kh,[w(g(In),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Me(v("input",{"onUpdate:modelValue":P[9]||(P[9]=W=>U.value=W),type:"text",placeholder:"Поиск специалистов...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[We,U.value]])]),v("span",Wh,"Всего: "+X(V.value.length),1)])])]),v("div",Xh,[w(g(Dn),null,{default:C(()=>[w(g(On),null,{default:C(()=>[w(g(it),null,{default:C(()=>[w(g(Qe),null,{default:C(()=>[...P[37]||(P[37]=[ee("Имя",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[38]||(P[38]=[ee("Роль",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[39]||(P[39]=[ee("Услуг",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[40]||(P[40]=[ee("Статус",-1)])]),_:1})]),_:1})]),_:1}),w(g(Tn),null,{default:C(()=>[Q.value?($(),F(Ue,{key:0},ze(5,W=>w(g(it),{key:`spec-skel-${W}`,class:"animate-pulse"},{default:C(()=>[w(g(Ee),null,{default:C(()=>[...P[41]||(P[41]=[v("div",{class:"h-4 w-24 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[42]||(P[42]=[v("div",{class:"h-4 w-32 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[43]||(P[43]=[v("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[44]||(P[44]=[v("div",{class:"h-4 w-12 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):H.value.length===0?($(),te(g(it),{key:1},{default:C(()=>[w(g(Ee),{colspan:4,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...P[45]||(P[45]=[ee(" Специалисты не найдены ",-1)])]),_:1})]),_:1})):($(!0),F(Ue,{key:2},ze(H.value,W=>($(),te(g(it),{key:W.id,class:Ae(["hover:bg-slate-50/50 transition-colors",W.is_active?"bg-emerald-50/30":""])},{default:C(()=>[w(g(Ee),null,{default:C(()=>[v("p",Yh,X(W.name),1),v("p",_h,X(W.email||W.phone||""),1)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("span",qh,X(W.role||"Специалист"),1)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("span",Qh,X(W.services_count??W.linked_services??"-"),1)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("span",{class:Ae(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold",W.is_active?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-500"])},X(W.is_active?"Активен":"Отключён"),3)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),v("div",Jh,X(H.value.length)+" из "+X(V.value.length)+" специалистов отображаются ",1)])]),_:1}),w(g(Wo),{value:"categories"},{default:C(()=>[v("div",Zh,[v("div",e0,[v("div",t0,[P[47]||(P[47]=v("h3",{class:"text-lg font-bold text-slate-900"},"Категории",-1)),v("div",n0,[v("div",o0,[w(g(In),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Me(v("input",{"onUpdate:modelValue":P[10]||(P[10]=W=>R.value=W),type:"text",placeholder:"Поиск категории...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[We,R.value]])]),v("label",r0,[Me(v("input",{"onUpdate:modelValue":P[11]||(P[11]=W=>D.value=W),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,512),[[Zt,D.value]]),P[46]||(P[46]=v("span",{class:"text-sm text-slate-600"},"Только включенные",-1))])])])]),v("div",a0,[w(g(Dn),null,{default:C(()=>[w(g(On),null,{default:C(()=>[w(g(it),null,{default:C(()=>[w(g(Qe),null,{default:C(()=>[...P[48]||(P[48]=[ee("Категория",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[49]||(P[49]=[ee("Услуг",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[50]||(P[50]=[ee("Статус",-1)])]),_:1}),w(g(Qe),null,{default:C(()=>[...P[51]||(P[51]=[ee("Приоритет",-1)])]),_:1})]),_:1})]),_:1}),w(g(Tn),null,{default:C(()=>[S.value?($(),F(Ue,{key:0},ze(5,W=>w(g(it),{key:`cat-skel-${W}`,class:"animate-pulse"},{default:C(()=>[w(g(Ee),null,{default:C(()=>[...P[52]||(P[52]=[v("div",{class:"h-4 w-32 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[53]||(P[53]=[v("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[54]||(P[54]=[v("div",{class:"h-4 w-12 bg-slate-100 rounded"},null,-1)])]),_:1}),w(g(Ee),null,{default:C(()=>[...P[55]||(P[55]=[v("div",{class:"h-4 w-10 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):j.value.length===0?($(),te(g(it),{key:1},{default:C(()=>[w(g(Ee),{colspan:4,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...P[56]||(P[56]=[ee(" Категории не найдены ",-1)])]),_:1})]),_:1})):($(!0),F(Ue,{key:2},ze(j.value,W=>($(),te(g(it),{key:W.id,class:"hover:bg-slate-50/50 transition-colors"},{default:C(()=>[w(g(Ee),null,{default:C(()=>[v("p",s0,X(W.name),1),W.description?($(),F("p",l0,X(W.description),1)):ue("",!0)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("span",i0,X(W.services_count??"—"),1)]),_:2},1024),w(g(Ee),null,{default:C(()=>[v("button",{onClick:Ne=>_(W),class:Ae(["relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",[W.is_enabled?"bg-emerald-500":"bg-slate-200"]])},[v("span",{"aria-hidden":"true",class:Ae(["pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow transition duration-200 ease-in-out",[W.is_enabled?"translate-x-4":"translate-x-0"]])},null,2)],10,u0)]),_:2},1024),w(g(Ee),null,{default:C(()=>[Me(v("input",{type:"number","onUpdate:modelValue":Ne=>W.priority=Ne,onBlur:Ne=>q(W),class:"w-16 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-xs font-mono focus:ring-1 focus:ring-indigo-500 focus:bg-white transition-all",min:"0",max:"100"},null,40,d0),[[We,W.priority,void 0,{number:!0}]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),v("div",c0,X(j.value.length)+" из "+X(y.value.length)+" категорий отображаются ",1)])]),_:1})]),_:1},8,["value"])])]))}}),p0={class:"space-y-6"},g0={key:0},m0={key:0},v0={key:1},h0={key:1},y0={key:0,class:"bg-background rounded-md border border-border p-6 sm:p-8 text-center"},x0={class:"max-w-md mx-auto"},b0={class:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4"},S0={key:1},w0=ne({__name:"AgentKnowledgePanel",setup(e){const o=Di(),t=Ei(),r=Ri(),{agent:a,directoriesComposable:s,isSqnsEnabled:n,sqnsToolsList:l,sqnsStatus:i}=Ii(o),{success:u,error:d}=na(),c=K("directories"),p=K(!1),f=K(!1),m=K(!1),h=K(null),y=xe(()=>{var _;return((_=s.value)==null?void 0:_.directories)??[]}),x=xe(()=>{var _;return((_=s.value)==null?void 0:_.isLoading)??!1}),S=xe(()=>{var _;return((_=s.value)==null?void 0:_.error)??null}),R=xe(()=>{var _;return((_=s.value)==null?void 0:_.items)??[]}),D=xe(()=>{var _;return((_=s.value)==null?void 0:_.isLoadingItems)??!1}),T=xe(()=>{var _;return((_=s.value)==null?void 0:_.currentDirectory)??null}),V=xe(()=>[{id:"directories",label:"Справочники",count:y.value.length},{id:"sqns",label:"SQNS",count:n.value?l.value.length:void 0}]),Q=async()=>{await o.ensureDirectoriesLoaded()},U=()=>{var fe;const _=t.query.directoryId;if(!_||!s.value||((fe=T.value)==null?void 0:fe.id)===_)return;const q=y.value.find(ce=>ce.id===_);q&&s.value.setCurrentDirectory(q)};Xe(y,_=>{_.length>0&&U()}),en(()=>{c.value==="directories"?o.ensureDirectoriesLoaded():(o.ensureSqnsStatusLoaded(),o.ensureSqnsHints())}),Xe(a,async _=>{_&&(c.value==="directories"?await o.ensureDirectoriesLoaded():(await o.ensureSqnsStatusLoaded(),await o.ensureSqnsHints()))},{immediate:!0}),Xe(c,async _=>{_==="directories"?await o.ensureDirectoriesLoaded():(await o.ensureSqnsStatusLoaded(),await o.ensureSqnsHints())});const b=async _=>{if(s.value)try{await s.value.createDirectory(_),p.value=!1,u("Справочник создан")}catch(q){d(q.message||"Не удалось создать справочник")}},E=_=>{s.value&&(s.value.setCurrentDirectory(_),r.replace({query:{...t.query,directoryId:_.id}}))},M=()=>{if(s.value){s.value.setCurrentDirectory(null);const{directoryId:_,...q}=t.query;r.replace({query:q})}},re=async _=>{if(!(!s.value||!T.value))try{await s.value.createItem(T.value.id,_),u("Запись добавлена")}catch(q){d(q.message||"Не удалось создать запись")}},B=async(_,q)=>{if(!(!s.value||!T.value))try{await s.value.updateItem(T.value.id,_,q)}catch(fe){d(fe.message||"Не удалось обновить запись")}},j=async _=>{if(!(!s.value||!T.value))try{await s.value.deleteItem(T.value.id,_),u("Запись удалена")}catch(q){d(q.message||"Не удалось удалить запись")}},H=async _=>{if(!(!s.value||!T.value))try{await s.value.deleteItems(T.value.id,_),u("Записи удалены")}catch(q){d(q.message||"Не удалось удалить записи")}},N=async(_,q,fe)=>{if(!(!s.value||!T.value))try{const ce=await s.value.importCsv(T.value.id,_,q,fe);f.value=!1,u(`Импортировано ${ce.created} записей`)}catch(ce){d(ce.message||"Не удалось импортировать файл")}},J=async()=>{if(!(!s.value||!T.value))try{await s.value.exportCsv(T.value.id)}catch(_){d(_.message||"Не удалось экспортировать справочник")}},de=async _=>{if(!(!s.value||!T.value))try{const q=[...T.value.columns,_];await s.value.updateDirectory(T.value.id,{columns:q}),u("Столбец добавлен")}catch(q){d(q.message||"Не удалось добавить столбец")}},Ce=async _=>{if(!(!s.value||!T.value))try{const q=T.value.columns.filter(fe=>fe.name!==_);if(q.length===0){d("Нельзя удалить последний столбец");return}await s.value.updateDirectory(T.value.id,{columns:q}),u("Столбец удалён")}catch(q){d(q.message||"Не удалось удалить столбец")}},Ve=async _=>{if(!(!s.value||!T.value))try{await s.value.updateDirectory(T.value.id,{columns:_})}catch(q){d(q.message||"Не удалось обновить столбцы")}},Oe=async _=>{var q,fe;if(!(!s.value||!_.id))try{await s.value.updateDirectory(_.id,_),m.value=!1,u("Настройки сохранены")}catch(ce){(q=h.value)==null||q.setError(ce.message||"Не удалось сохранить настройки"),d(ce.message||"Не удалось сохранить настройки")}finally{(fe=h.value)==null||fe.setSaving(!1)}},Ie=async _=>{var q,fe;if(s.value)try{await s.value.deleteDirectory(_),m.value=!1;const{directoryId:ce,...$e}=t.query;r.replace({query:$e}),u("Справочник удалён")}catch(ce){(q=h.value)==null||q.setError(ce.message||"Не удалось удалить справочник"),d(ce.message||"Не удалось удалить справочник")}finally{(fe=h.value)==null||fe.setDeleting(!1)}};return(_,q)=>{var fe,ce,$e,je,Y;return $(),F("div",p0,[w(Pd,{modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=P=>c.value=P),tabs:V.value},null,8,["modelValue","tabs"]),c.value==="directories"?($(),F("div",g0,[T.value?($(),F("div",m0,[w(ig,{directory:T.value,items:R.value,loading:D.value,"on-update-item":B,onBack:M,onSettings:q[1]||(q[1]=P=>m.value=!0),onCreate:re,onDelete:j,onDeleteSelected:H,onImport:q[2]||(q[2]=P=>f.value=!0),onExport:J,onAddColumn:de,onDeleteColumn:Ce,onUpdateColumns:Ve},null,8,["directory","items","loading"])])):($(),F("div",v0,[w(Qd,{directories:y.value,loading:x.value,error:S.value,onCreate:q[3]||(q[3]=P=>p.value=!0),onSelect:E,onRetry:Q},null,8,["directories","loading","error"])]))])):c.value==="sqns"?($(),F("div",h0,[g(n)?($(),F("div",S0,[g(a)?($(),te(f0,{key:0,"agent-id":g(a).id,status:((fe=g(i))==null?void 0:fe.sqnsStatus)==="error"?"error":"active","last-sync-at":(ce=g(i))==null?void 0:ce.sqnsLastSyncAt,warning:($e=g(i))==null?void 0:$e.sqnsWarning,onSyncComplete:g(o).loadSqnsStatusForAgent},null,8,["agent-id","status","last-sync-at","warning","onSyncComplete"])):ue("",!0)])):($(),F("div",y0,[v("div",x0,[v("div",b0,[w(g(fu),{class:"h-8 w-8 text-slate-400"})]),q[8]||(q[8]=v("h3",{class:"text-lg font-bold text-slate-900"},"База знаний SQNS",-1)),q[9]||(q[9]=v("p",{class:"text-slate-500 mt-2 mb-6"}," Подключите SQNS интеграцию для управления услугами и категориями. ",-1)),v("button",{onClick:q[4]||(q[4]=P=>{var W;return g(Pi)(`/agents/${(W=g(a))==null?void 0:W.id}/connections`)}),class:"px-6 py-3 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Перейти к подключениям ")])]))])):ue("",!0),w(qm,{"is-open":p.value,"existing-tool-names":((je=g(s))==null?void 0:je.existingToolNames)??[],onClose:q[5]||(q[5]=P=>p.value=!1),onSubmit:b},null,8,["is-open","existing-tool-names"]),T.value?($(),te(Iv,{key:2,"is-open":f.value,"directory-name":T.value.name,columns:T.value.columns,onClose:q[6]||(q[6]=P=>f.value=!1),onImport:N},null,8,["is-open","directory-name","columns"])):ue("",!0),w(Zv,{ref_key:"directorySettingsSheetRef",ref:h,"is-open":m.value,directory:T.value,"existing-tool-names":((Y=g(s))==null?void 0:Y.existingToolNames)??[],onClose:q[7]||(q[7]=P=>m.value=!1),onSave:Oe,onDelete:Ie},null,8,["is-open","directory","existing-tool-names"])])}}}),oy=ne({__name:"knowledge",setup(e){return(o,t)=>($(),te(as,{title:"База знаний","hide-actions":!0},{default:C(()=>[w(w0)]),_:1}))}});export{oy as default};
