import{u as f}from"./useAuth.Vyp_2ZYp.js";import{L as e}from"./entry.B2IFVgKF.js";const O={owner:["agents:read","agents:write","members:manage","dialogs:read","dialogs:write","dialogs:delete","analytics:view","organization:manage"],admin:["agents:read","agents:write","members:manage","dialogs:read","dialogs:write","dialogs:delete","analytics:view","organization:manage"],manager:["agents:read","dialogs:read","dialogs:write","analytics:view"]},M=()=>{const{user:t}=f(),s=e(()=>{var n;return((n=t.value)==null?void 0:n.role)??null}),i=e(()=>s.value==="owner"),o=e(()=>s.value==="admin"),c=e(()=>s.value==="manager"),g=e(()=>i.value||o.value),l=e(()=>s.value?O[s.value]??[]:[]),a=n=>t.value?t.value.scopes&&t.value.scopes.length>0?t.value.scopes.includes(n):l.value.includes(n):!1,u=n=>n.some(r=>a(r)),d=n=>n.every(r=>a(r)),m=e(()=>a("agents:read")),v=e(()=>a("agents:write")),w=e(()=>a("members:manage")),p=e(()=>a("analytics:view")),A=e(()=>a("dialogs:delete")),y=e(()=>a("organization:manage"));return{role:s,isOwner:i,isAdmin:o,isManager:c,isOwnerOrAdmin:g,hasScope:a,hasAnyScope:u,hasAllScopes:d,canViewAgentsList:m,canEditAgents:v,canManageMembers:w,canViewAnalytics:p,canDeleteDialogs:A,canManageOrganization:y,rolePermissions:l}};export{M as u};
