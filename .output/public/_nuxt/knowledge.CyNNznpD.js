import{_ as ti}from"./AgentPageShell.vue.Bd250u5J.js";import{O as ni,P as oi,Q as rs,R as ri,S as ai,U as si,V as li,F as Ke,W as ii,Y as ui,Z as di,$ as ci,T as as,a0 as fi,a1 as pi,q as ss,a2 as gi,a3 as mi,a4 as vi,a5 as hi,a6 as yi,a7 as bi,a8 as ea,a9 as xi,aa as ls,ab as wi,L as ae,ac as Si,n as Y,p as ve,c as k,a as v,ad as Ci,ae as Ei,af as $i,ag as Pi,ah as Oi,D as ta,d as se,b as S,ai as is,aj as Ri,m as K,ak as Ii,al as Di,am as Ai,an as Ti,ao as Mi,ap as Fi,aq as ki,ar as Bi,as as Li,at as Ni,au as na,l as cn,av as us,aw as Vi,ax as ji,ay as ot,az as vn,aA as zi,aB as Ui,aC as Gi,aD as Hi,aE as _i,aF as Ki,aG as qi,aH as Wi,aI as Xi,aJ as ao,aK as Yi,aL as Qi,aM as Ji,aN as Zi,G as On,aO as eu,aP as tu,aQ as nu,aR as ds,aS as oa,aT as ou,aU as De,H as lt,aV as ru,A as Oe,aW as Xe,aX as oo,j as au,aY as su,g as cs,aZ as lu,h as iu,a_ as uu,B as Kt,a$ as du,b0 as cu,b1 as fs,b2 as fu,b3 as An,b4 as pu,b5 as gu,o as $,b6 as mu,b7 as vu,b8 as _o,b9 as hu,ba as yu,bb as bu,bc as ro,bd as ps,k as N,be as xu,bf as wu,C as nt,K as re,bg as Su,bh as Cu,J as so,bi as Eu,bj as $u,bk as Pu,bl as Ou,bm as Ru,bn as Iu,bo as Du,bp as Ko,bq as Au,br as Tu,bs as Mu,t as q,bt as gs,bu as Fu,bv as ku,bw as ms,I as zt,bx as yt,by as Bu,bz as Lu,u as g,bA as Ut,bB as Nu,bC as Vu,bD as ju,bE as vs,bF as zu,bG as Uu,bH as Gu,bI as Hu,bJ as _u,bK as Ku,bL as Qt,bM as qu,bN as Wu,bO as yn,x as st,bP as hs,bQ as Xu,bR as Yu,f as Ge,e as Mt,bS as ra,bT as Qu,bU as Ju,w as C,bV as Zu,v as Ne,E as Rn,bW as ed,s as At,bX as td,bY as bt,_ as ys,bZ as nd,X as lo,z as bs,y as od,M as rd}from"./entry.BA9w_SP9.js";import{u as ad}from"./useAgentEditorStore.bKkyPdW3.js";import{g as sd,b as ld,W as id,q as ud,U as dd,H as cd,j as fd,u as pd,a as gd,o as md,f as Oa,s as vd,l as hd,c as yd,d as bd,h as xd,X as xs,S as ws,n as wd,I as Sd,$ as Cd,P as Ed,B as $d,e as Pd,i as Od}from"./index.CJ6q9qXI.js";import{S as Ss}from"./settings.uc1fIXX2.js";import{T as Cs,_ as aa,a as sa,b as la,c as ia}from"./SheetTitle.vue.CGnXs7WI.js";import{P as qo}from"./plus.C2CpOarN.js";import{S as Wn}from"./search.BpQ1C-vI.js";import{L as bn}from"./loader-2.aQU5n6yP.js";import{A as Es}from"./alert-circle.D8R5WmeZ.js";import{T as In}from"./trash-2.DV0G4e87.js";import{r as Jt}from"./index.CUi6o2uQ.js";import{C as Rd}from"./chevron-down.WjjrbmjC.js";import{E as $s}from"./eye.JnJgym4e.js";import{P as Ar}from"./pencil.CswYKVSp.js";import{C as Ra}from"./copy.DVeNiDVn.js";import{C as Id}from"./check.Ci-hEIGR.js";import{A as Tr,C as Ps,a as Os}from"./chevron-right.DpEcTmrK.js";import{F as Dd}from"./file-text.BO8qKGrF.js";import{C as Ad}from"./check-circle.Cq7xNDiw.js";import{u as Td}from"./useAgents.D5E_YnIF.js";import{L as Md}from"./link.Do8E_aLf.js";import{D as Fd}from"./database.CszPfu5e.js";import"./useAuth.BL67409K.js";import"./usePermissions.Be4uXYcE.js";import"./AuthModal.vue.CuY5Yc90.js";/**
* vue v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const kd=()=>{},Bd=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ni,BaseTransitionPropsValidators:oi,Comment:rs,DeprecationTypes:ri,EffectScope:ai,ErrorCodes:si,ErrorTypeStrings:li,Fragment:Ke,KeepAlive:ii,ReactiveEffect:ui,Static:di,Suspense:ci,Teleport:as,Text:fi,TrackOpTypes:pi,Transition:ss,TransitionGroup:gi,TriggerOpTypes:mi,VueElement:vi,assertNumber:hi,callWithAsyncErrorHandling:yi,callWithErrorHandling:bi,camelize:ea,capitalize:xi,cloneVNode:ls,compatUtils:wi,compile:kd,computed:ae,createApp:Si,createBlock:Y,createCommentVNode:ve,createElementBlock:k,createElementVNode:v,createHydrationRenderer:Ci,createPropsRestProxy:Ei,createRenderer:$i,createSSRApp:Pi,createSlots:Oi,createStaticVNode:ta,createTextVNode:se,createVNode:S,customRef:is,defineAsyncComponent:Ri,defineComponent:K,defineCustomElement:Ii,defineEmits:Di,defineExpose:Ai,defineModel:Ti,defineOptions:Mi,defineProps:Fi,defineSSRCustomElement:ki,defineSlots:Bi,devtools:Li,effect:Ni,effectScope:na,getCurrentInstance:cn,getCurrentScope:us,getCurrentWatcher:Vi,getTransitionRawChildren:ji,guardReactiveProps:ot,h:vn,handleError:zi,hasInjectionContext:Ui,hydrate:Gi,hydrateOnIdle:Hi,hydrateOnInteraction:_i,hydrateOnMediaQuery:Ki,hydrateOnVisible:qi,initCustomFormatter:Wi,initDirectivesForSSR:Xi,inject:ao,isMemoSame:Yi,isProxy:Qi,isReactive:Ji,isReadonly:Zi,isRef:On,isRuntimeOnly:eu,isShallow:tu,isVNode:nu,markRaw:ds,mergeDefaults:oa,mergeModels:ou,mergeProps:De,nextTick:lt,nodeOps:ru,normalizeClass:Oe,normalizeProps:Xe,normalizeStyle:oo,onActivated:au,onBeforeMount:su,onBeforeUnmount:cs,onBeforeUpdate:lu,onDeactivated:iu,onErrorCaptured:uu,onMounted:Kt,onRenderTracked:du,onRenderTriggered:cu,onScopeDispose:fs,onServerPrefetch:fu,onUnmounted:An,onUpdated:pu,onWatcherCleanup:gu,openBlock:$,patchProp:mu,popScopeId:vu,provide:_o,proxyRefs:hu,pushScopeId:yu,queuePostFlushCb:bu,reactive:ro,readonly:ps,ref:N,registerRuntimeCompiler:xu,render:wu,renderList:nt,renderSlot:re,resolveComponent:Su,resolveDirective:Cu,resolveDynamicComponent:so,resolveFilter:Eu,resolveTransitionHooks:$u,setBlockTracking:Pu,setDevtoolsHook:Ou,setTransitionHooks:Ru,shallowReactive:Iu,shallowReadonly:Du,shallowRef:Ko,ssrContextKey:Au,ssrUtils:Tu,stop:Mu,toDisplayString:q,toHandlerKey:gs,toHandlers:Fu,toRaw:ku,toRef:ms,toRefs:zt,toValue:yt,transformVNodeArgs:Bu,triggerRef:Lu,unref:g,useAttrs:Ut,useCssModule:Nu,useCssVars:Vu,useHost:ju,useId:vs,useModel:zu,useSSRContext:Uu,useShadowRoot:Gu,useSlots:Hu,useTemplateRef:_u,useTransitionState:Ku,vModelCheckbox:Qt,vModelDynamic:qu,vModelRadio:Wu,vModelSelect:yn,vModelText:st,vShow:hs,version:Xu,warn:Yu,watch:Ge,watchEffect:Mt,watchPostEffect:ra,watchSyncEffect:Qu,withAsyncContext:Ju,withCtx:C,withDefaults:Zu,withDirectives:Ne,withKeys:Rn,withMemo:ed,withModifiers:At,withScopeId:td},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=bt("AlertTriangleIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=bt("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=bt("BookOpenIcon",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=bt("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=bt("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=bt("FileSpreadsheetIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=bt("GripVerticalIcon",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=bt("HelpCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=bt("ListIcon",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=bt("MousePointerIcon",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=bt("PackageIcon",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=bt("Redo2Icon",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=bt("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=bt("Undo2Icon",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=bt("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Kd={class:"flex items-center gap-1 border-b border-slate-200 mb-6"},qd=["onClick"],Wd={class:"flex items-center gap-2"},Xd={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"},Yd=K({__name:"KnowledgeSubTabs",props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup(e){return(n,t)=>($(),k("div",Kd,[($(!0),k(Ke,null,nt(e.tabs,o=>($(),k("button",{key:o.id,onClick:a=>n.$emit("update:modelValue",o.id),class:Oe(["px-4 py-2.5 text-sm font-medium transition-all relative",[e.modelValue===o.id?"text-indigo-600":"text-slate-500 hover:text-slate-700"]])},[v("span",Wd,[se(q(o.label)+" ",1),o.count!==void 0?($(),k("span",{key:0,class:Oe(["text-xs px-1.5 py-0.5 rounded-full",[e.modelValue===o.id?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"]])},q(o.count),3)):ve("",!0)]),e.modelValue===o.id?($(),k("div",Xd)):ve("",!0)],10,qd))),128))]))}}),Ms=K({__name:"Switch",props:{modelValue:{type:Boolean},disabled:{type:Boolean},className:{}},emits:["update:modelValue"],setup(e){return(n,t)=>($(),Y(g(sd),{checked:e.modelValue,"onUpdate:checked":t[0]||(t[0]=o=>n.$emit("update:modelValue",o)),disabled:e.disabled,class:Oe(["peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e.modelValue?"bg-emerald-500":"bg-slate-200",e.className])},{default:C(()=>[S(g(ld),{class:Oe(["pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform",e.modelValue?"translate-x-5":"translate-x-0.5"])},null,8,["class"])]),_:1},8,["checked","disabled","class"]))}}),Fs=(e,n)=>{const t=Math.abs(e)%100,o=t%10;return t>=11&&t<=19?n[2]:o===1?n[0]:o>=2&&o<=4?n[1]:n[2]},Qd={class:"flex items-center justify-between gap-4"},Jd={class:"flex items-center gap-4 min-w-0"},Zd={class:"w-11 h-11 bg-indigo-50 rounded-md flex items-center justify-center flex-shrink-0 group-hover:bg-indigo-100 transition-colors"},ec={class:"min-w-0"},tc={class:"font-bold text-slate-900 truncate"},nc={class:"text-xs text-slate-500 mt-0.5"},oc={class:"font-mono text-slate-400"},rc=K({__name:"DirectoryCard",props:{directory:{}},emits:["click","toggle","settings"],setup(e,{emit:n}){const t=e,o=ae(()=>({qa:Ds,service_catalog:Cs,product_catalog:As,company_info:Rs,custom:Mr})[t.directory.template]||Mr),a=ae(()=>Fs(t.directory.items_count,["запись","записи","записей"]));return(s,r)=>($(),k("div",{class:"bg-background rounded-md border border-border p-4 hover:border-slate-300 transition-all cursor-pointer group",onClick:r[3]||(r[3]=l=>s.$emit("click"))},[v("div",Qd,[v("div",Jd,[v("div",Zd,[($(),Y(so(o.value),{class:"w-5 h-5 text-indigo-600"}))]),v("div",ec,[v("h4",tc,q(e.directory.name),1),v("p",nc,[v("span",oc,q(e.directory.tool_name),1),r[4]||(r[4]=v("span",{class:"mx-1.5"},"•",-1)),v("span",null,q(e.directory.items_count)+" "+q(a.value),1)])])]),v("div",{class:"flex items-center gap-3",onClick:r[2]||(r[2]=At(()=>{},["stop"]))},[v("button",{onClick:r[0]||(r[0]=l=>s.$emit("settings")),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Настройки"},[S(g(Ss),{class:"w-4 h-4"})]),S(g(Ms),{"model-value":e.directory.is_enabled,"onUpdate:modelValue":r[1]||(r[1]=l=>s.$emit("toggle",l)),title:e.directory.is_enabled?"Выключить":"Включить"},null,8,["model-value","title"])])])]))}}),ac={class:"space-y-4"},sc={class:"flex items-center justify-between gap-4"},lc={key:0,class:"relative"},ic={key:0,class:"flex justify-center py-12"},uc={key:1,class:"bg-red-50 rounded-md border border-red-200 p-8 text-center"},dc={class:"max-w-md mx-auto"},cc={class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},fc={class:"text-red-600 mt-2 mb-4"},pc={key:2,class:"bg-background rounded-md border border-border p-12 text-center"},gc={class:"max-w-md mx-auto"},mc={class:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4"},vc={key:3,class:"bg-background rounded-md border border-border p-8 text-center"},hc={class:"text-slate-500"},yc={key:4,class:"grid gap-3"},bc=K({__name:"DirectoriesList",props:{directories:{},loading:{type:Boolean},error:{}},emits:["create","select","toggle","settings","retry"],setup(e){const n=e,t=N(""),o=ae(()=>{if(!t.value.trim())return n.directories;const a=t.value.toLowerCase();return n.directories.filter(s=>s.name.toLowerCase().includes(a)||s.tool_name.toLowerCase().includes(a))});return(a,s)=>($(),k("div",ac,[v("div",sc,[v("button",{onClick:s[0]||(s[0]=r=>a.$emit("create")),class:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"},[S(g(qo),{class:"w-4 h-4"}),s[4]||(s[4]=se(" Создать справочник ",-1))]),e.directories.length>0?($(),k("div",lc,[S(g(Wn),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),Ne(v("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t.value=r),type:"text",placeholder:"Поиск...",class:"pl-9 pr-4 py-2 w-48 text-sm border border-slate-200 rounded-md bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 transition-all"},null,512),[[st,t.value]])])):ve("",!0)]),e.loading?($(),k("div",ic,[S(g(bn),{class:"w-8 h-8 animate-spin text-indigo-600"})])):e.error?($(),k("div",uc,[v("div",dc,[v("div",cc,[S(g(Es),{class:"h-8 w-8 text-red-500"})]),s[5]||(s[5]=v("h3",{class:"text-lg font-bold text-red-900"},"Ошибка загрузки",-1)),v("p",fc,q(e.error),1),s[6]||(s[6]=v("p",{class:"text-sm text-red-500 mb-4"}," Убедитесь, что API справочников реализован на бэкенде ",-1)),v("button",{onClick:s[2]||(s[2]=r=>a.$emit("retry")),class:"px-5 py-2.5 bg-red-600 text-white rounded-md text-sm font-bold hover:bg-red-700 transition-colors"}," Повторить ")])])):e.directories.length===0?($(),k("div",pc,[v("div",gc,[v("div",mc,[S(g(Vd),{class:"h-8 w-8 text-slate-400"})]),s[7]||(s[7]=v("h3",{class:"text-lg font-bold text-slate-900"},"Справочников пока нет",-1)),s[8]||(s[8]=v("p",{class:"text-slate-500 mt-2 mb-6"}," Создайте справочник для хранения FAQ, каталога услуг или другой структурированной информации ",-1)),v("button",{onClick:s[3]||(s[3]=r=>a.$emit("create")),class:"px-6 py-3 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Создать справочник ")])])):o.value.length===0?($(),k("div",vc,[v("p",hc,'Ничего не найдено по запросу "'+q(t.value)+'"',1)])):($(),k("div",yc,[($(!0),k(Ke,null,nt(o.value,r=>($(),Y(rc,{key:r.id,directory:r,onClick:l=>a.$emit("select",r),onToggle:l=>a.$emit("toggle",r.id,l),onSettings:l=>a.$emit("settings",r)},null,8,["directory","onClick","onToggle","onSettings"]))),128))]))]))}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ln(e,n){return typeof e=="function"?e(n):e}function Rt(e,n){return t=>{n.setState(o=>({...o,[e]:ln(t,o[e])}))}}function Wo(e){return e instanceof Function}function xc(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function wc(e,n){const t=[],o=a=>{a.forEach(s=>{t.push(s);const r=n(s);r!=null&&r.length&&o(r)})};return o(e),t}function be(e,n,t){let o=[],a;return s=>{let r;t.key&&t.debug&&(r=Date.now());const l=e(s);if(!(l.length!==o.length||l.some((d,c)=>o[c]!==d)))return a;o=l;let u;if(t.key&&t.debug&&(u=Date.now()),a=n(...l),t==null||t.onChange==null||t.onChange(a),t.key&&t.debug&&t!=null&&t.debug()){const d=Math.round((Date.now()-r)*100)/100,c=Math.round((Date.now()-u)*100)/100,f=c/16,p=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c⏱ ${p(c,5)} /${p(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return a}}function xe(e,n,t,o){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[n]},key:!1,onChange:o}}function Sc(e,n,t,o){const a=()=>{var r;return(r=s.getValue())!=null?r:e.options.renderFallbackValue},s={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(o),renderValue:a,getContext:be(()=>[e,t,n,s],(r,l,i,u)=>({table:r,column:l,row:i,cell:u,getValue:u.getValue,renderValue:u.renderValue}),xe(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(s,t,n,e)},{}),s}function Cc(e,n,t,o){var a,s;const l={...e._getDefaultColumnDef(),...n},i=l.accessorKey;let u=(a=(s=l.id)!=null?s:i?typeof String.prototype.replaceAll=="function"?i.replaceAll(".","_"):i.replace(/\./g,"_"):void 0)!=null?a:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:i&&(i.includes(".")?d=f=>{let p=f;for(const h of i.split(".")){var m;p=(m=p)==null?void 0:m[h]}return p}:d=f=>f[l.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:d,parent:o,depth:t,columnDef:l,columns:[],getFlatColumns:be(()=>[!0],()=>{var f;return[c,...(f=c.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},xe(e.options,"debugColumns")),getLeafColumns:be(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=c.columns)!=null&&p.length){let m=c.columns.flatMap(h=>h.getLeafColumns());return f(m)}return[c]},xe(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(c,e);return c}const gt="debugHeaders";function Ia(e,n,t){var o;let s={id:(o=t.id)!=null?o:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],l=i=>{i.subHeaders&&i.subHeaders.length&&i.subHeaders.map(l),r.push(i)};return l(s),r},getContext:()=>({table:e,header:s,column:n})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(s,e)}),s}const Ec={createTable:e=>{e.getHeaderGroups=be(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>{var s,r;const l=(s=o==null?void 0:o.map(c=>t.find(f=>f.id===c)).filter(Boolean))!=null?s:[],i=(r=a==null?void 0:a.map(c=>t.find(f=>f.id===c)).filter(Boolean))!=null?r:[],u=t.filter(c=>!(o!=null&&o.includes(c.id))&&!(a!=null&&a.includes(c.id)));return po(n,[...l,...u,...i],e)},xe(e.options,gt)),e.getCenterHeaderGroups=be(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>(t=t.filter(s=>!(o!=null&&o.includes(s.id))&&!(a!=null&&a.includes(s.id))),po(n,t,e,"center")),xe(e.options,gt)),e.getLeftHeaderGroups=be(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,o)=>{var a;const s=(a=o==null?void 0:o.map(r=>t.find(l=>l.id===r)).filter(Boolean))!=null?a:[];return po(n,s,e,"left")},xe(e.options,gt)),e.getRightHeaderGroups=be(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,o)=>{var a;const s=(a=o==null?void 0:o.map(r=>t.find(l=>l.id===r)).filter(Boolean))!=null?a:[];return po(n,s,e,"right")},xe(e.options,gt)),e.getFooterGroups=be(()=>[e.getHeaderGroups()],n=>[...n].reverse(),xe(e.options,gt)),e.getLeftFooterGroups=be(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),xe(e.options,gt)),e.getCenterFooterGroups=be(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),xe(e.options,gt)),e.getRightFooterGroups=be(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),xe(e.options,gt)),e.getFlatHeaders=be(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),xe(e.options,gt)),e.getLeftFlatHeaders=be(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),xe(e.options,gt)),e.getCenterFlatHeaders=be(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),xe(e.options,gt)),e.getRightFlatHeaders=be(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),xe(e.options,gt)),e.getCenterLeafHeaders=be(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),xe(e.options,gt)),e.getLeftLeafHeaders=be(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),xe(e.options,gt)),e.getRightLeafHeaders=be(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),xe(e.options,gt)),e.getLeafHeaders=be(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,o)=>{var a,s,r,l,i,u;return[...(a=(s=n[0])==null?void 0:s.headers)!=null?a:[],...(r=(l=t[0])==null?void 0:l.headers)!=null?r:[],...(i=(u=o[0])==null?void 0:u.headers)!=null?i:[]].map(d=>d.getLeafHeaders()).flat()},xe(e.options,gt))}};function po(e,n,t,o){var a,s;let r=0;const l=function(f,p){p===void 0&&(p=1),r=Math.max(r,p),f.filter(m=>m.getIsVisible()).forEach(m=>{var h;(h=m.columns)!=null&&h.length&&l(m.columns,p+1)},0)};l(e);let i=[];const u=(f,p)=>{const m={depth:p,id:[o,`${p}`].filter(Boolean).join("_"),headers:[]},h=[];f.forEach(y=>{const b=[...h].reverse()[0],w=y.column.depth===m.depth;let E,O=!1;if(w&&y.column.parent?E=y.column.parent:(E=y.column,O=!0),b&&(b==null?void 0:b.column)===E)b.subHeaders.push(y);else{const M=Ia(t,E,{id:[o,p,E.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:O,placeholderId:O?`${h.filter(R=>R.column===E).length}`:void 0,depth:p,index:h.length});M.subHeaders.push(y),h.push(M)}m.headers.push(y),y.headerGroup=m}),i.push(m),p>0&&u(h,p-1)},d=n.map((f,p)=>Ia(t,f,{depth:r,index:p}));u(d,r-1),i.reverse();const c=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let h=0,y=0,b=[0];m.subHeaders&&m.subHeaders.length?(b=[],c(m.subHeaders).forEach(E=>{let{colSpan:O,rowSpan:M}=E;h+=O,b.push(M)})):h=1;const w=Math.min(...b);return y=y+w,m.colSpan=h,m.rowSpan=y,{colSpan:h,rowSpan:y}});return c((a=(s=i[0])==null?void 0:s.headers)!=null?a:[]),i}const ua=(e,n,t,o,a,s,r)=>{let l={id:n,index:o,original:t,depth:a,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:i=>{if(l._valuesCache.hasOwnProperty(i))return l._valuesCache[i];const u=e.getColumn(i);if(u!=null&&u.accessorFn)return l._valuesCache[i]=u.accessorFn(l.original,o),l._valuesCache[i]},getUniqueValues:i=>{if(l._uniqueValuesCache.hasOwnProperty(i))return l._uniqueValuesCache[i];const u=e.getColumn(i);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[i]=u.columnDef.getUniqueValues(l.original,o),l._uniqueValuesCache[i]):(l._uniqueValuesCache[i]=[l.getValue(i)],l._uniqueValuesCache[i])},renderValue:i=>{var u;return(u=l.getValue(i))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>wc(l.subRows,i=>i.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let i=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;i.push(d),u=d}return i.reverse()},getAllCells:be(()=>[e.getAllLeafColumns()],i=>i.map(u=>Sc(e,l,u,u.id)),xe(e.options,"debugRows")),_getAllCellsByColumnId:be(()=>[l.getAllCells()],i=>i.reduce((u,d)=>(u[d.column.id]=d,u),{}),xe(e.options,"debugRows"))};for(let i=0;i<e._features.length;i++){const u=e._features[i];u==null||u.createRow==null||u.createRow(l,e)}return l},$c={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ks=(e,n,t)=>{var o,a;const s=t==null||(o=t.toString())==null?void 0:o.toLowerCase();return!!(!((a=e.getValue(n))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(s))};ks.autoRemove=e=>jt(e);const Bs=(e,n,t)=>{var o;return!!(!((o=e.getValue(n))==null||(o=o.toString())==null)&&o.includes(t))};Bs.autoRemove=e=>jt(e);const Ls=(e,n,t)=>{var o;return((o=e.getValue(n))==null||(o=o.toString())==null?void 0:o.toLowerCase())===(t==null?void 0:t.toLowerCase())};Ls.autoRemove=e=>jt(e);const Ns=(e,n,t)=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(t)};Ns.autoRemove=e=>jt(e);const Vs=(e,n,t)=>!t.some(o=>{var a;return!((a=e.getValue(n))!=null&&a.includes(o))});Vs.autoRemove=e=>jt(e)||!(e!=null&&e.length);const js=(e,n,t)=>t.some(o=>{var a;return(a=e.getValue(n))==null?void 0:a.includes(o)});js.autoRemove=e=>jt(e)||!(e!=null&&e.length);const zs=(e,n,t)=>e.getValue(n)===t;zs.autoRemove=e=>jt(e);const Us=(e,n,t)=>e.getValue(n)==t;Us.autoRemove=e=>jt(e);const da=(e,n,t)=>{let[o,a]=t;const s=e.getValue(n);return s>=o&&s<=a};da.resolveFilterValue=e=>{let[n,t]=e,o=typeof n!="number"?parseFloat(n):n,a=typeof t!="number"?parseFloat(t):t,s=n===null||Number.isNaN(o)?-1/0:o,r=t===null||Number.isNaN(a)?1/0:a;if(s>r){const l=s;s=r,r=l}return[s,r]};da.autoRemove=e=>jt(e)||jt(e[0])&&jt(e[1]);const Xt={includesString:ks,includesStringSensitive:Bs,equalsString:Ls,arrIncludes:Ns,arrIncludesAll:Vs,arrIncludesSome:js,equals:zs,weakEquals:Us,inNumberRange:da};function jt(e){return e==null||e===""}const Pc={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Rt("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t==null?void 0:t.getValue(e.id);return typeof o=="string"?Xt.includesString:typeof o=="number"?Xt.inNumberRange:typeof o=="boolean"||o!==null&&typeof o=="object"?Xt.equals:Array.isArray(o)?Xt.arrIncludes:Xt.weakEquals},e.getFilterFn=()=>{var t,o;return Wo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(o=n.options.filterFns)==null?void 0:o[e.columnDef.filterFn])!=null?t:Xt[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,o,a;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((o=n.options.enableColumnFilters)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(o=>o.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,o;return(t=(o=n.getState().columnFilters)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(o=>{const a=e.getFilterFn(),s=o==null?void 0:o.find(d=>d.id===e.id),r=ln(t,s?s.value:void 0);if(Da(a,r,e)){var l;return(l=o==null?void 0:o.filter(d=>d.id!==e.id))!=null?l:[]}const i={id:e.id,value:r};if(s){var u;return(u=o==null?void 0:o.map(d=>d.id===e.id?i:d))!=null?u:[]}return o!=null&&o.length?[...o,i]:[i]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),o=a=>{var s;return(s=ln(n,a))==null?void 0:s.filter(r=>{const l=t.find(i=>i.id===r.id);if(l){const i=l.getFilterFn();if(Da(i,r.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(o)},e.resetColumnFilters=n=>{var t,o;e.setColumnFilters(n?[]:(t=(o=e.initialState)==null?void 0:o.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Da(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Oc=(e,n,t)=>t.reduce((o,a)=>{const s=a.getValue(e);return o+(typeof s=="number"?s:0)},0),Rc=(e,n,t)=>{let o;return t.forEach(a=>{const s=a.getValue(e);s!=null&&(o>s||o===void 0&&s>=s)&&(o=s)}),o},Ic=(e,n,t)=>{let o;return t.forEach(a=>{const s=a.getValue(e);s!=null&&(o<s||o===void 0&&s>=s)&&(o=s)}),o},Dc=(e,n,t)=>{let o,a;return t.forEach(s=>{const r=s.getValue(e);r!=null&&(o===void 0?r>=r&&(o=a=r):(o>r&&(o=r),a<r&&(a=r)))}),[o,a]},Ac=(e,n)=>{let t=0,o=0;if(n.forEach(a=>{let s=a.getValue(e);s!=null&&(s=+s)>=s&&(++t,o+=s)}),t)return o/t},Tc=(e,n)=>{if(!n.length)return;const t=n.map(s=>s.getValue(e));if(!xc(t))return;if(t.length===1)return t[0];const o=Math.floor(t.length/2),a=t.sort((s,r)=>s-r);return t.length%2!==0?a[o]:(a[o-1]+a[o])/2},Mc=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),Fc=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,kc=(e,n)=>n.length,tr={sum:Oc,min:Rc,max:Ic,extent:Dc,mean:Ac,median:Tc,unique:Mc,uniqueCount:Fc,count:kc},Bc={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Rt("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(o=>o!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,o;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((o=n.options.enableGrouping)!=null?o:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t==null?void 0:t.getValue(e.id);if(typeof o=="number")return tr.sum;if(Object.prototype.toString.call(o)==="[object Date]")return tr.extent},e.getAggregationFn=()=>{var t,o;if(!e)throw new Error;return Wo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(o=n.options.aggregationFns)==null?void 0:o[e.columnDef.aggregationFn])!=null?t:tr[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,o;e.setGrouping(n?[]:(t=(o=e.initialState)==null?void 0:o.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const o=n.getColumn(t);return o!=null&&o.columnDef.getGroupingValue?(e._groupingValuesCache[t]=o.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,o)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=t.subRows)!=null&&a.length)}}};function Lc(e,n,t){if(!(n!=null&&n.length)||!t)return e;const o=e.filter(s=>!n.includes(s.id));return t==="remove"?o:[...n.map(s=>e.find(r=>r.id===s)).filter(Boolean),...o]}const Nc={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Rt("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=be(t=>[Xn(n,t)],t=>t.findIndex(o=>o.id===e.id),xe(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var o;return((o=Xn(n,t)[0])==null?void 0:o.id)===e.id},e.getIsLastColumn=t=>{var o;const a=Xn(n,t);return((o=a[a.length-1])==null?void 0:o.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=be(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,o)=>a=>{let s=[];if(!(n!=null&&n.length))s=a;else{const r=[...n],l=[...a];for(;l.length&&r.length;){const i=r.shift(),u=l.findIndex(d=>d.id===i);u>-1&&s.push(l.splice(u,1)[0])}s=[...s,...l]}return Lc(s,t,o)},xe(e.options,"debugTable"))}},nr=()=>({left:[],right:[]}),Vc={getInitialState:e=>({columnPinning:nr(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Rt("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const o=e.getLeafColumns().map(a=>a.id).filter(Boolean);n.setColumnPinning(a=>{var s,r;if(t==="right"){var l,i;return{left:((l=a==null?void 0:a.left)!=null?l:[]).filter(c=>!(o!=null&&o.includes(c))),right:[...((i=a==null?void 0:a.right)!=null?i:[]).filter(c=>!(o!=null&&o.includes(c))),...o]}}if(t==="left"){var u,d;return{left:[...((u=a==null?void 0:a.left)!=null?u:[]).filter(c=>!(o!=null&&o.includes(c))),...o],right:((d=a==null?void 0:a.right)!=null?d:[]).filter(c=>!(o!=null&&o.includes(c)))}}return{left:((s=a==null?void 0:a.left)!=null?s:[]).filter(c=>!(o!=null&&o.includes(c))),right:((r=a==null?void 0:a.right)!=null?r:[]).filter(c=>!(o!=null&&o.includes(c)))}})},e.getCanPin=()=>e.getLeafColumns().some(o=>{var a,s,r;return((a=o.columnDef.enablePinning)!=null?a:!0)&&((s=(r=n.options.enableColumnPinning)!=null?r:n.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(l=>l.id),{left:o,right:a}=n.getState().columnPinning,s=t.some(l=>o==null?void 0:o.includes(l)),r=t.some(l=>a==null?void 0:a.includes(l));return s?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();return a?(t=(o=n.getState().columnPinning)==null||(o=o[a])==null?void 0:o.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=be(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,o,a)=>{const s=[...o??[],...a??[]];return t.filter(r=>!s.includes(r.column.id))},xe(n.options,"debugRows")),e.getLeftVisibleCells=be(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,o)=>(o??[]).map(s=>t.find(r=>r.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),xe(n.options,"debugRows")),e.getRightVisibleCells=be(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,o)=>(o??[]).map(s=>t.find(r=>r.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),xe(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,o;return e.setColumnPinning(n?nr():(t=(o=e.initialState)==null?void 0:o.columnPinning)!=null?t:nr())},e.getIsSomeColumnsPinned=n=>{var t;const o=e.getState().columnPinning;if(!n){var a,s;return!!((a=o.left)!=null&&a.length||(s=o.right)!=null&&s.length)}return!!((t=o[n])!=null&&t.length)},e.getLeftLeafColumns=be(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),xe(e.options,"debugColumns")),e.getRightLeafColumns=be(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),xe(e.options,"debugColumns")),e.getCenterLeafColumns=be(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o)=>{const a=[...t??[],...o??[]];return n.filter(s=>!a.includes(s.id))},xe(e.options,"debugColumns"))}};function jc(e){return e||(typeof document<"u"?document:null)}const go={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},or=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),zc={getDefaultColumnDef:()=>go,getInitialState:e=>({columnSizing:{},columnSizingInfo:or(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Rt("columnSizing",e),onColumnSizingInfoChange:Rt("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,o,a;const s=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:go.minSize,(o=s??e.columnDef.size)!=null?o:go.size),(a=e.columnDef.maxSize)!=null?a:go.maxSize)},e.getStart=be(t=>[t,Xn(n,t),n.getState().columnSizing],(t,o)=>o.slice(0,e.getIndex(t)).reduce((a,s)=>a+s.getSize(),0),xe(n.options,"debugColumns")),e.getAfter=be(t=>[t,Xn(n,t),n.getState().columnSizing],(t,o)=>o.slice(e.getIndex(t)+1).reduce((a,s)=>a+s.getSize(),0),xe(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:o,...a}=t;return a})},e.getCanResize=()=>{var t,o;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((o=n.options.enableColumnResizing)!=null?o:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const o=a=>{if(a.subHeaders.length)a.subHeaders.forEach(o);else{var s;t+=(s=a.column.getSize())!=null?s:0}};return o(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const o=n.getColumn(e.column.id),a=o==null?void 0:o.getCanResize();return s=>{if(!o||!a||(s.persist==null||s.persist(),rr(s)&&s.touches&&s.touches.length>1))return;const r=e.getSize(),l=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[o.id,o.getSize()]],i=rr(s)?Math.round(s.touches[0].clientX):s.clientX,u={},d=(b,w)=>{typeof w=="number"&&(n.setColumnSizingInfo(E=>{var O,M;const R=n.options.columnResizeDirection==="rtl"?-1:1,W=(w-((O=E==null?void 0:E.startOffset)!=null?O:0))*R,T=Math.max(W/((M=E==null?void 0:E.startSize)!=null?M:0),-.999999);return E.columnSizingStart.forEach(x=>{let[P,z]=x;u[P]=Math.round(Math.max(z+z*T,0)*100)/100}),{...E,deltaOffset:W,deltaPercentage:T}}),(n.options.columnResizeMode==="onChange"||b==="end")&&n.setColumnSizing(E=>({...E,...u})))},c=b=>d("move",b),f=b=>{d("end",b),n.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=jc(t),m={moveHandler:b=>c(b.clientX),upHandler:b=>{p==null||p.removeEventListener("mousemove",m.moveHandler),p==null||p.removeEventListener("mouseup",m.upHandler),f(b.clientX)}},h={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),c(b.touches[0].clientX),!1),upHandler:b=>{var w;p==null||p.removeEventListener("touchmove",h.moveHandler),p==null||p.removeEventListener("touchend",h.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),f((w=b.touches[0])==null?void 0:w.clientX)}},y=Uc()?{passive:!1}:!1;rr(s)?(p==null||p.addEventListener("touchmove",h.moveHandler,y),p==null||p.addEventListener("touchend",h.upHandler,y)):(p==null||p.addEventListener("mousemove",m.moveHandler,y),p==null||p.addEventListener("mouseup",m.upHandler,y)),n.setColumnSizingInfo(b=>({...b,startOffset:i,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:o.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?or():(t=e.initialState.columnSizingInfo)!=null?t:or())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0}}};let mo=null;function Uc(){if(typeof mo=="boolean")return mo;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return mo=e,mo}function rr(e){return e.type==="touchstart"}const Gc={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Rt("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(o=>({...o,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,o;const a=e.columns;return(t=a.length?a.some(s=>s.getIsVisible()):(o=n.getState().columnVisibility)==null?void 0:o[e.id])!=null?t:!0},e.getCanHide=()=>{var t,o;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((o=n.options.enableHiding)!=null?o:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=be(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(o=>o.column.getIsVisible()),xe(n.options,"debugRows")),e.getVisibleCells=be(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,o,a)=>[...t,...o,...a],xe(n.options,"debugRows"))},createTable:e=>{const n=(t,o)=>be(()=>[o(),o().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),xe(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var o;e.setColumnVisibility(t?{}:(o=e.initialState.columnVisibility)!=null?o:{})},e.toggleAllColumnsVisible=t=>{var o;t=(o=t)!=null?o:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,s)=>({...a,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var o;e.toggleAllColumnsVisible((o=t.target)==null?void 0:o.checked)}}};function Xn(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Hc={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},_c={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Rt("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const o=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,o,a,s;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((o=n.options.enableGlobalFilter)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&((s=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Xt.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:o}=e.options;return Wo(o)?o:o==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[o])!=null?n:Xt[o]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},Kc={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Rt("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?o:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=o=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(o),e.toggleAllRowsExpanded=o=>{o??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=o=>{var a,s;e.setExpanded(o?{}:(a=(s=e.initialState)==null?void 0:s.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(o=>o.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>o=>{o.persist==null||o.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const o=e.getState().expanded;return o===!0||Object.values(o).some(Boolean)},e.getIsAllRowsExpanded=()=>{const o=e.getState().expanded;return typeof o=="boolean"?o===!0:!(!Object.keys(o).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let o=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const r=s.split(".");o=Math.max(o,r.length)}),o},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(o=>{var a;const s=o===!0?!0:!!(o!=null&&o[e.id]);let r={};if(o===!0?Object.keys(n.getRowModel().rowsById).forEach(l=>{r[l]=!0}):r=o,t=(a=t)!=null?a:!s,!s&&t)return{...r,[e.id]:!0};if(s&&!t){const{[e.id]:l,...i}=r;return i}return o})},e.getIsExpanded=()=>{var t;const o=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:o===!0||o!=null&&o[e.id])},e.getCanExpand=()=>{var t,o,a;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((o=n.options.enableExpanding)!=null?o:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let t=!0,o=e;for(;t&&o.parentId;)o=n.getRow(o.parentId,!0),t=o.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Fr=0,kr=10,ar=()=>({pageIndex:Fr,pageSize:kr}),qc={getInitialState:e=>({...e,pagination:{...ar(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Rt("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?o:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=o=>{const a=s=>ln(o,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=o=>{var a;e.setPagination(o?ar():(a=e.initialState.pagination)!=null?a:ar())},e.setPageIndex=o=>{e.setPagination(a=>{let s=ln(o,a.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,r)),{...a,pageIndex:s}})},e.resetPageIndex=o=>{var a,s;e.setPageIndex(o?Fr:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?a:Fr)},e.resetPageSize=o=>{var a,s;e.setPageSize(o?kr:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?a:kr)},e.setPageSize=o=>{e.setPagination(a=>{const s=Math.max(1,ln(o,a.pageSize)),r=a.pageSize*a.pageIndex,l=Math.floor(r/s);return{...a,pageIndex:l,pageSize:s}})},e.setPageCount=o=>e.setPagination(a=>{var s;let r=ln(o,(s=e.options.pageCount)!=null?s:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...a,pageCount:r}}),e.getPageOptions=be(()=>[e.getPageCount()],o=>{let a=[];return o&&o>0&&(a=[...new Array(o)].fill(null).map((s,r)=>r)),a},xe(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:o}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:o<a-1},e.previousPage=()=>e.setPageIndex(o=>o-1),e.nextPage=()=>e.setPageIndex(o=>o+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var o;return(o=e.options.pageCount)!=null?o:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var o;return(o=e.options.rowCount)!=null?o:e.getPrePaginationRowModel().rows.length}}},sr=()=>({top:[],bottom:[]}),Wc={getInitialState:e=>({rowPinning:sr(),...e}),getDefaultOptions:e=>({onRowPinningChange:Rt("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,o,a)=>{const s=o?e.getLeafRows().map(i=>{let{id:u}=i;return u}):[],r=a?e.getParentRows().map(i=>{let{id:u}=i;return u}):[],l=new Set([...r,e.id,...s]);n.setRowPinning(i=>{var u,d;if(t==="bottom"){var c,f;return{top:((c=i==null?void 0:i.top)!=null?c:[]).filter(h=>!(l!=null&&l.has(h))),bottom:[...((f=i==null?void 0:i.bottom)!=null?f:[]).filter(h=>!(l!=null&&l.has(h))),...Array.from(l)]}}if(t==="top"){var p,m;return{top:[...((p=i==null?void 0:i.top)!=null?p:[]).filter(h=>!(l!=null&&l.has(h))),...Array.from(l)],bottom:((m=i==null?void 0:i.bottom)!=null?m:[]).filter(h=>!(l!=null&&l.has(h)))}}return{top:((u=i==null?void 0:i.top)!=null?u:[]).filter(h=>!(l!=null&&l.has(h))),bottom:((d=i==null?void 0:i.bottom)!=null?d:[]).filter(h=>!(l!=null&&l.has(h)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:o,enablePinning:a}=n.options;return typeof o=="function"?o(e):(t=o??a)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:o,bottom:a}=n.getState().rowPinning,s=t.some(l=>o==null?void 0:o.includes(l)),r=t.some(l=>a==null?void 0:a.includes(l));return s?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();if(!a)return-1;const s=(t=a==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(r=>{let{id:l}=r;return l});return(o=s==null?void 0:s.indexOf(e.id))!=null?o:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,o;return e.setRowPinning(n?sr():(t=(o=e.initialState)==null?void 0:o.rowPinning)!=null?t:sr())},e.getIsSomeRowsPinned=n=>{var t;const o=e.getState().rowPinning;if(!n){var a,s;return!!((a=o.top)!=null&&a.length||(s=o.bottom)!=null&&s.length)}return!!((t=o[n])!=null&&t.length)},e._getPinnedRows=(n,t,o)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(t??[]).map(r=>{const l=e.getRow(r,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(r=>n.find(l=>l.id===r))).filter(Boolean).map(r=>({...r,position:o}))},e.getTopRows=be(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),xe(e.options,"debugRows")),e.getBottomRows=be(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),xe(e.options,"debugRows")),e.getCenterRows=be(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,o)=>{const a=new Set([...t??[],...o??[]]);return n.filter(s=>!a.has(s.id))},xe(e.options,"debugRows"))}},Xc={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Rt("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const o={...t},a=e.getPreGroupedRowModel().flatRows;return n?a.forEach(s=>{s.getCanSelect()&&(o[s.id]=!0)}):a.forEach(s=>{delete o[s.id]}),o})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const o=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),a={...t};return e.getRowModel().rows.forEach(s=>{Br(a,s.id,o,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=be(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?lr(e,t):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getFilteredSelectedRowModel=be(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?lr(e,t):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getGroupedSelectedRowModel=be(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?lr(e,t):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let o=!!(n.length&&Object.keys(t).length);return o&&n.some(a=>a.getCanSelect()&&!t[a.id])&&(o=!1),o},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:t}=e.getState();let o=!!n.length;return o&&n.some(a=>!t[a.id])&&(o=!1),o},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,o)=>{const a=e.getIsSelected();n.setRowSelection(s=>{var r;if(t=typeof t<"u"?t:!a,e.getCanSelect()&&a===t)return s;const l={...s};return Br(l,e.id,t,(r=o==null?void 0:o.selectChildren)!=null?r:!0,n),l})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return ca(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Lr(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Lr(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return o=>{var a;t&&e.toggleSelected((a=o.target)==null?void 0:a.checked)}}}},Br=(e,n,t,o,a)=>{var s;const r=a.getRow(n,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),r.getCanSelect()&&(e[n]=!0)):delete e[n],o&&(s=r.subRows)!=null&&s.length&&r.getCanSelectSubRows()&&r.subRows.forEach(l=>Br(e,l.id,t,o,a))};function lr(e,n){const t=e.getState().rowSelection,o=[],a={},s=function(r,l){return r.map(i=>{var u;const d=ca(i,t);if(d&&(o.push(i),a[i.id]=i),(u=i.subRows)!=null&&u.length&&(i={...i,subRows:s(i.subRows)}),d)return i}).filter(Boolean)};return{rows:s(n.rows),flatRows:o,rowsById:a}}function ca(e,n){var t;return(t=n[e.id])!=null?t:!1}function Lr(e,n,t){var o;if(!((o=e.subRows)!=null&&o.length))return!1;let a=!0,s=!1;return e.subRows.forEach(r=>{if(!(s&&!a)&&(r.getCanSelect()&&(ca(r,n)?s=!0:a=!1),r.subRows&&r.subRows.length)){const l=Lr(r,n);l==="all"?s=!0:(l==="some"&&(s=!0),a=!1)}}),a?"all":s?"some":!1}const Nr=/([0-9]+)/gm,Yc=(e,n,t)=>Gs(dn(e.getValue(t)).toLowerCase(),dn(n.getValue(t)).toLowerCase()),Qc=(e,n,t)=>Gs(dn(e.getValue(t)),dn(n.getValue(t))),Jc=(e,n,t)=>fa(dn(e.getValue(t)).toLowerCase(),dn(n.getValue(t)).toLowerCase()),Zc=(e,n,t)=>fa(dn(e.getValue(t)),dn(n.getValue(t))),ef=(e,n,t)=>{const o=e.getValue(t),a=n.getValue(t);return o>a?1:o<a?-1:0},tf=(e,n,t)=>fa(e.getValue(t),n.getValue(t));function fa(e,n){return e===n?0:e>n?1:-1}function dn(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Gs(e,n){const t=e.split(Nr).filter(Boolean),o=n.split(Nr).filter(Boolean);for(;t.length&&o.length;){const a=t.shift(),s=o.shift(),r=parseInt(a,10),l=parseInt(s,10),i=[r,l].sort();if(isNaN(i[0])){if(a>s)return 1;if(s>a)return-1;continue}if(isNaN(i[1]))return isNaN(r)?-1:1;if(r>l)return 1;if(l>r)return-1}return t.length-o.length}const Nn={alphanumeric:Yc,alphanumericCaseSensitive:Qc,text:Jc,textCaseSensitive:Zc,datetime:ef,basic:tf},nf={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Rt("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let o=!1;for(const a of t){const s=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return Nn.datetime;if(typeof s=="string"&&(o=!0,s.split(Nr).length>1))return Nn.alphanumeric}return o?Nn.text:Nn.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,o;if(!e)throw new Error;return Wo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(o=n.options.sortingFns)==null?void 0:o[e.columnDef.sortingFn])!=null?t:Nn[e.columnDef.sortingFn]},e.toggleSorting=(t,o)=>{const a=e.getNextSortingOrder(),s=typeof t<"u"&&t!==null;n.setSorting(r=>{const l=r==null?void 0:r.find(p=>p.id===e.id),i=r==null?void 0:r.findIndex(p=>p.id===e.id);let u=[],d,c=s?t:a==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&o?l?d="toggle":d="add":r!=null&&r.length&&i!==r.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(s||a||(d="remove")),d==="add"){var f;u=[...r,{id:e.id,desc:c}],u.splice(0,u.length-((f=n.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=r.map(p=>p.id===e.id?{...p,desc:c}:p):d==="remove"?u=r.filter(p=>p.id!==e.id):u=[{id:e.id,desc:c}];return u})},e.getFirstSortDir=()=>{var t,o;return((t=(o=e.columnDef.sortDescFirst)!=null?o:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var o,a;const s=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==s&&((o=n.options.enableSortingRemoval)==null||o)&&(!(t&&(a=n.options.enableMultiRemove)!=null)||a)?!1:r==="desc"?"asc":"desc":s},e.getCanSort=()=>{var t,o;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((o=n.options.enableSorting)!=null?o:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,o;return(t=(o=e.columnDef.enableMultiSort)!=null?o:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const o=(t=n.getState().sorting)==null?void 0:t.find(a=>a.id===e.id);return o?o.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,o;return(t=(o=n.getState().sorting)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(o=>o.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return o=>{t&&(o.persist==null||o.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(o):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,o;e.setSorting(n?[]:(t=(o=e.initialState)==null?void 0:o.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},of=[Ec,Gc,Nc,Vc,$c,Pc,Hc,_c,nf,Bc,Kc,qc,Wc,Xc,zc];function rf(e){var n,t;const o=[...of,...(n=e._features)!=null?n:[]];let a={_features:o};const s=a._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(a)),{}),r=f=>a.options.mergeOptions?a.options.mergeOptions(s,f):{...s,...f};let i={...{},...(t=e.initialState)!=null?t:{}};a._features.forEach(f=>{var p;i=(p=f.getInitialState==null?void 0:f.getInitialState(i))!=null?p:i});const u=[];let d=!1;const c={_features:o,options:{...s,...e},initialState:i,_queue:f=>{u.push(f),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{a.setState(a.initialState)},setOptions:f=>{const p=ln(f,a.options);a.options=r(p)},getState:()=>a.options.state,setState:f=>{a.options.onStateChange==null||a.options.onStateChange(f)},_getRowId:(f,p,m)=>{var h;return(h=a.options.getRowId==null?void 0:a.options.getRowId(f,p,m))!=null?h:`${m?[m.id,p].join("."):p}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(f,p)=>{let m=(p?a.getPrePaginationRowModel():a.getRowModel()).rowsById[f];if(!m&&(m=a.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:be(()=>[a.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:m=>{const h=m.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:m=>{var h,y;return(h=(y=m.renderValue())==null||y.toString==null?void 0:y.toString())!=null?h:null},...a._features.reduce((m,h)=>Object.assign(m,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...f}},xe(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:be(()=>[a._getColumnDefs()],f=>{const p=function(m,h,y){return y===void 0&&(y=0),m.map(b=>{const w=Cc(a,b,y,h),E=b;return w.columns=E.columns?p(E.columns,w,y+1):[],w})};return p(f)},xe(e,"debugColumns")),getAllFlatColumns:be(()=>[a.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),xe(e,"debugColumns")),_getAllFlatColumnsById:be(()=>[a.getAllFlatColumns()],f=>f.reduce((p,m)=>(p[m.id]=m,p),{}),xe(e,"debugColumns")),getAllLeafColumns:be(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(f,p)=>{let m=f.flatMap(h=>h.getLeafColumns());return p(m)},xe(e,"debugColumns")),getColumn:f=>a._getAllFlatColumnsById()[f]};Object.assign(a,c);for(let f=0;f<a._features.length;f++){const p=a._features[f];p==null||p.createTable==null||p.createTable(a)}return a}function af(){return e=>be(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},o=function(a,s,r){s===void 0&&(s=0);const l=[];for(let u=0;u<a.length;u++){const d=ua(e,e._getRowId(a[u],u,r),a[u],u,s,void 0,r==null?void 0:r.id);if(t.flatRows.push(d),t.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var i;d.originalSubRows=e.options.getSubRows(a[u],u),(i=d.originalSubRows)!=null&&i.length&&(d.subRows=o(d.originalSubRows,s+1,d))}}return l};return t.rows=o(n),t},xe(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function sf(e){const n=[],t=o=>{var a;n.push(o),(a=o.subRows)!=null&&a.length&&o.getIsExpanded()&&o.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function lf(e,n,t){return t.options.filterFromLeafRows?uf(e,n,t):df(e,n,t)}function uf(e,n,t){var o;const a=[],s={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,l=function(i,u){u===void 0&&(u=0);const d=[];for(let f=0;f<i.length;f++){var c;let p=i[f];const m=ua(t,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(m.columnFilters=p.columnFilters,(c=p.subRows)!=null&&c.length&&u<r){if(m.subRows=l(p.subRows,u+1),p=m,n(p)&&!m.subRows.length){d.push(p),s[p.id]=p,a.push(p);continue}if(n(p)||m.subRows.length){d.push(p),s[p.id]=p,a.push(p);continue}}else p=m,n(p)&&(d.push(p),s[p.id]=p,a.push(p))}return d};return{rows:l(e),flatRows:a,rowsById:s}}function df(e,n,t){var o;const a=[],s={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,l=function(i,u){u===void 0&&(u=0);const d=[];for(let f=0;f<i.length;f++){let p=i[f];if(n(p)){var c;if((c=p.subRows)!=null&&c.length&&u<r){const h=ua(t,p.id,p.original,p.index,p.depth,void 0,p.parentId);h.subRows=l(p.subRows,u+1),p=h}d.push(p),a.push(p),s[p.id]=p}}return d};return{rows:l(e),flatRows:a,rowsById:s}}function cf(){return e=>be(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,o)=>{if(!n.rows.length||!(t!=null&&t.length)&&!o){for(let f=0;f<n.flatRows.length;f++)n.flatRows[f].columnFilters={},n.flatRows[f].columnFiltersMeta={};return n}const a=[],s=[];(t??[]).forEach(f=>{var p;const m=e.getColumn(f.id);if(!m)return;const h=m.getFilterFn();h&&a.push({id:f.id,filterFn:h,resolvedValue:(p=h.resolveFilterValue==null?void 0:h.resolveFilterValue(f.value))!=null?p:f.value})});const r=(t??[]).map(f=>f.id),l=e.getGlobalFilterFn(),i=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());o&&l&&i.length&&(r.push("__global__"),i.forEach(f=>{var p;s.push({id:f.id,filterFn:l,resolvedValue:(p=l.resolveFilterValue==null?void 0:l.resolveFilterValue(o))!=null?p:o})}));let u,d;for(let f=0;f<n.flatRows.length;f++){const p=n.flatRows[f];if(p.columnFilters={},a.length)for(let m=0;m<a.length;m++){u=a[m];const h=u.id;p.columnFilters[h]=u.filterFn(p,h,u.resolvedValue,y=>{p.columnFiltersMeta[h]=y})}if(s.length){for(let m=0;m<s.length;m++){d=s[m];const h=d.id;if(d.filterFn(p,h,d.resolvedValue,y=>{p.columnFiltersMeta[h]=y})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const c=f=>{for(let p=0;p<r.length;p++)if(f.columnFilters[r[p]]===!1)return!1;return!0};return lf(n.rows,c,e)},xe(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function ff(e){return n=>be(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,o)=>{if(!o.rows.length)return o;const{pageSize:a,pageIndex:s}=t;let{rows:r,flatRows:l,rowsById:i}=o;const u=a*s,d=u+a;r=r.slice(u,d);let c;n.options.paginateExpandedRows?c={rows:r,flatRows:l,rowsById:i}:c=sf({rows:r,flatRows:l,rowsById:i}),c.flatRows=[];const f=p=>{c.flatRows.push(p),p.subRows.length&&p.subRows.forEach(f)};return c.rows.forEach(f),c},xe(n.options,"debugTable"))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function vo(){return!0}const pf=Symbol("merge-proxy"),gf={get(e,n,t){return n===pf?t:e.get(n)},has(e,n){return e.has(n)},set:vo,deleteProperty:vo,getOwnPropertyDescriptor(e,n){return{configurable:!0,enumerable:!0,get(){return e.get(n)},set:vo,deleteProperty:vo}},ownKeys(e){return e.keys()}};function ir(e){return"value"in e?e.value:e}function Gn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new Proxy({get(o){for(let a=n.length-1;a>=0;a--){const s=ir(n[a])[o];if(s!==void 0)return s}},has(o){for(let a=n.length-1;a>=0;a--)if(o in ir(n[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<n.length;a++)o.push(...Object.keys(ir(n[a])));return[...Array.from(new Set(o))]}},gf)}function Aa(e){return Gn(e,{data:g(e.data)})}function mf(e){const n=On(e.data),t=Gn({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(s,r){return n?{...s,...r}:Gn(s,r)}},n?Aa(e):e),o=rf(t);if(n){const s=Ko(e.data);Ge(s,()=>{o.setState(r=>({...r,data:s.value}))},{immediate:!0})}const a=N(o.initialState);return Mt(()=>{o.setOptions(s=>{var r;const l=new Proxy({},{get:(i,u)=>a.value[u]});return Gn(s,n?Aa(e):e,{state:Gn(l,(r=e.state)!=null?r:{}),onStateChange:i=>{i instanceof Function?a.value=i(a.value):a.value=i,e.onStateChange==null||e.onStateChange(i)}})})}),o}const Ro=K({__name:"Table",props:{wrapperClass:{}},setup(e){const n=Ut();return(t,o)=>($(),k("div",{class:Oe(["overflow-x-auto rounded-md border border-slate-200",e.wrapperClass])},[v("table",De({class:"min-w-full divide-y divide-slate-100 text-left"},g(n)),[re(t.$slots,"default")],16)],2))}}),Io=K({__name:"TableHeader",props:{className:{}},setup(e){const n=Ut();return(t,o)=>($(),k("thead",De({class:["bg-slate-50/60",e.className]},g(n)),[re(t.$slots,"default")],16))}}),Do=K({__name:"TableBody",props:{className:{}},setup(e){const n=Ut();return(t,o)=>($(),k("tbody",De({class:["divide-y divide-slate-100",e.className]},g(n)),[re(t.$slots,"default")],16))}}),$t=K({__name:"TableRow",props:{className:{}},setup(e){const n=Ut();return(t,o)=>($(),k("tr",De({class:["border-b border-slate-100",e.className]},g(n)),[re(t.$slots,"default")],16))}}),ct=K({__name:"TableHead",props:{className:{}},setup(e){const n=Ut();return(t,o)=>($(),k("th",De({class:["px-4 py-3 text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400",e.className],scope:"col"},g(n)),[re(t.$slots,"default")],16))}}),Fe=K({__name:"TableCell",props:{className:{}},setup(e){const n=Ut();return(t,o)=>($(),k("td",De({class:["px-4 py-3 text-sm text-slate-600",e.className]},g(n)),[re(t.$slots,"default")],16))}}),Vr=K({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const n=e;return(t,o)=>($(),Y(g(id),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),jr=K({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"right"},sideOffset:{default:8},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},setup(e){const n=e,t=ae(()=>{const{class:o,...a}=n;return a});return(o,a)=>($(),Y(g(ud),null,{default:C(()=>[S(g(dd),De(t.value,{class:"z-[9999] overflow-hidden rounded-md bg-white border border-slate-200 px-3 py-1.5 text-sm text-slate-700 shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=right]:slide-in-from-left-2"}),{default:C(()=>[re(o.$slots,"default")]),_:3},16)]),_:3}))}}),Hs=K({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const n=e;return(t,o)=>($(),Y(g(cd),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),zr=K({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(t,o)=>($(),Y(g(fd),De(n,{"as-child":""}),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),vf=["answer","description","info","specs"],pa=e=>vf.includes(e),Ur=e=>e?/^[a-z][a-z0-9_]*$/.test(e):!0,_s=(e,n,t)=>e?/^[a-z][a-z0-9_]*$/.test(e)?(t?n.filter(a=>a!==t):n).includes(e)?"Такое имя функции уже существует":"":"Только латиница в нижнем регистре, цифры и _":"",hf=(e,n)=>e==="number"?"120px":pa(n)?"250px":"180px",yf=(e,n)=>{if(e==null||e==="")return"";switch(n){case"number":return typeof e=="number"?e.toLocaleString("ru-RU"):String(e);case"date":if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,o,a]=e.split("-");return`${a}.${o}.${t}`}return String(e);case"bool":return e?"Да":"Нет";default:return String(e)}},bf=(e,n)=>({question:"Введите вопрос...",answer:"Введите ответ...",name:"Введите название...",description:"Введите описание...",topic:"Введите тему...",info:"Введите информацию...",specs:"Введите характеристики..."})[e]||`Введите ${n.toLowerCase()}...`,xf={class:"flex flex-wrap items-center justify-between gap-3 bg-background rounded-md border border-border p-3"},wf={class:"flex items-center gap-2"},Sf=["disabled"],Cf=["disabled"],Ef={class:"flex items-center gap-2"},$f={class:"relative"},Pf=["value"],Of=K({__name:"DirectoryDetailToolbar",props:{addDisabled:{type:Boolean},hasItems:{type:Boolean},selectedCount:{},searchQuery:{}},emits:["addRow","import","export","deleteSelected","update:searchQuery"],setup(e){return(n,t)=>($(),k("div",xf,[v("div",wf,[v("button",{onClick:t[0]||(t[0]=o=>n.$emit("addRow")),disabled:e.addDisabled,class:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[S(g(qo),{class:"w-4 h-4"}),t[5]||(t[5]=se(" Добавить ",-1))],8,Sf),v("button",{onClick:t[1]||(t[1]=o=>n.$emit("import")),class:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-50 transition-colors"},[S(g(Ts),{class:"w-4 h-4"}),t[6]||(t[6]=se(" Загрузить CSV ",-1))]),v("button",{onClick:t[2]||(t[2]=o=>n.$emit("export")),class:Oe(["flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-50 transition-colors",{"opacity-50 cursor-not-allowed":!e.hasItems}]),disabled:!e.hasItems},[S(g(jd),{class:"w-4 h-4"}),t[7]||(t[7]=se(" Экспорт ",-1))],10,Cf)]),v("div",Ef,[e.selectedCount>0?($(),k("button",{key:0,onClick:t[3]||(t[3]=o=>n.$emit("deleteSelected")),class:"flex items-center gap-2 px-4 py-2 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 transition-colors"},[S(g(In),{class:"w-4 h-4"}),se(" Удалить ("+q(e.selectedCount)+") ",1)])):ve("",!0),v("div",$f,[S(g(Wn),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),v("input",{value:e.searchQuery,onInput:t[4]||(t[4]=o=>n.$emit("update:searchQuery",o.target.value)),type:"text",placeholder:"Поиск...",class:"pl-9 pr-4 py-2 w-48 text-sm border border-slate-200 rounded-lg bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 transition-all"},null,40,Pf)])])]))}}),Rf={key:0,class:"relative"},If=["value","placeholder"],Df=["value","placeholder"],Af=["value"],Tf={key:3,class:"flex items-center gap-2 px-3 py-2 cursor-pointer"},Mf=["checked"],Ff={class:"text-sm"},kf=["value","placeholder"],Bf={key:5,class:"absolute right-2 top-1/2 -translate-y-1/2"},Lf={key:0,class:"flex items-center gap-1.5"},Nf={key:1,class:"line-clamp-2"},Vf=K({__name:"EditableCell",props:{column:{},displayValue:{},modelValue:{},editing:{type:Boolean},saving:{type:Boolean}},emits:["update:modelValue","startEdit","blur","keydown","save"],setup(e,{expose:n}){const t=e,o=N(null),a=ae(()=>pa(t.column.name)),s=ae(()=>yf(t.displayValue,t.column.type));return Ge(()=>t.editing,r=>{r&&lt(()=>{var i,u,d,c;const l=o.value;l&&(Array.isArray(l)?((i=l[0])==null||i.focus(),(d=(u=l[0])==null?void 0:u.select)==null||d.call(u)):(l.focus(),(c=l.select)==null||c.call(l)))})}),n({inputRef:o}),(r,l)=>e.editing?($(),k("div",Rf,[e.column.type==="text"&&a.value?($(),k("textarea",{key:0,ref_key:"inputRef",ref:o,value:e.modelValue,onInput:l[0]||(l[0]=i=>r.$emit("update:modelValue",i.target.value)),placeholder:e.column.label,rows:"3",class:"w-full px-3 py-2 text-sm border-2 border-indigo-400 rounded-lg bg-white focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 resize-none",onBlur:l[1]||(l[1]=i=>r.$emit("blur")),onKeydown:l[2]||(l[2]=i=>r.$emit("keydown",i))},null,40,If)):e.column.type==="number"?($(),k("input",{key:1,ref_key:"inputRef",ref:o,value:e.modelValue,onInput:l[3]||(l[3]=i=>r.$emit("update:modelValue",Number(i.target.value))),type:"number",step:"any",placeholder:e.column.label,class:"w-full px-3 py-2 text-sm border-2 border-indigo-400 rounded-lg bg-white focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 font-mono",onBlur:l[4]||(l[4]=i=>r.$emit("blur")),onKeydown:l[5]||(l[5]=i=>r.$emit("keydown",i))},null,40,Df)):e.column.type==="date"?($(),k("input",{key:2,ref_key:"inputRef",ref:o,value:e.modelValue,onInput:l[6]||(l[6]=i=>r.$emit("update:modelValue",i.target.value)),type:"date",class:"w-full px-3 py-2 text-sm border-2 border-indigo-400 rounded-lg bg-white focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100",onBlur:l[7]||(l[7]=i=>r.$emit("blur")),onKeydown:l[8]||(l[8]=i=>r.$emit("keydown",i))},null,40,Af)):e.column.type==="bool"?($(),k("label",Tf,[v("input",{ref_key:"inputRef",ref:o,checked:!!e.modelValue,onChange:l[9]||(l[9]=i=>{r.$emit("update:modelValue",i.target.checked),r.$emit("save")}),type:"checkbox",class:"w-5 h-5 rounded border-indigo-400 text-indigo-600 focus:ring-indigo-500"},null,40,Mf),v("span",Ff,q(e.modelValue?"Да":"Нет"),1)])):($(),k("input",{key:4,ref_key:"inputRef",ref:o,value:e.modelValue,onInput:l[10]||(l[10]=i=>r.$emit("update:modelValue",i.target.value)),type:"text",placeholder:e.column.label,class:"w-full px-3 py-2 text-sm border-2 border-indigo-400 rounded-lg bg-white focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100",onBlur:l[11]||(l[11]=i=>r.$emit("blur")),onKeydown:l[12]||(l[12]=i=>r.$emit("keydown",i))},null,40,kf)),e.saving?($(),k("div",Bf,[S(g(bn),{class:"w-4 h-4 animate-spin text-indigo-500"})])):ve("",!0)])):($(),k("div",{key:1,onClick:l[13]||(l[13]=i=>r.$emit("startEdit")),class:Oe(["px-3 py-2 text-sm text-slate-700 rounded-lg cursor-pointer hover:bg-slate-100 transition-colors min-h-[36px] flex items-center",{"font-mono":e.column.type==="number","text-slate-400 italic":e.displayValue===null||e.displayValue===void 0||e.displayValue===""}])},[e.column.type==="bool"?($(),k("span",Lf,[v("span",{class:Oe(["w-4 h-4 rounded flex items-center justify-center text-white text-xs",e.displayValue?"bg-green-500":"bg-slate-300"])},q(e.displayValue?"✓":""),3),v("span",{class:Oe(e.displayValue?"text-green-700":"text-slate-400")},q(e.displayValue?"Да":"Нет"),3)])):($(),k("span",Nf,q(s.value||"Пусто"),1))],2))}}),jf=ys(Vf,[["__scopeId","data-v-f39b9434"]]);function qt(e,n){const t=typeof e=="string"&&!n?`${e}Context`:n,o=Symbol(t);return[r=>{const l=ao(o,r);if(l||l===null)return l;throw new Error(`Injection \`${o.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},r=>(_o(o,r),r)]}function Tt(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Ks(e,n,t){const o=t.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),o.dispatchEvent(a)}function zf(e){return e==null}function ga(e){return e?e.flatMap(n=>n.type===Ke?ga(n.children):[n]):[]}const Uf=["INPUT","TEXTAREA"];function Gf(e,n,t,o={}){if(!n||o.enableIgnoredElement&&Uf.includes(n.nodeName))return null;const{arrowKeyOptions:a="both",attributeName:s="[data-reka-collection-item]",itemsArray:r=[],loop:l=!0,dir:i="ltr",preventScroll:u=!0,focus:d=!1}=o,[c,f,p,m,h,y]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],b=p||m,w=c||f;if(!h&&!y&&(!b&&!w||a==="vertical"&&w||a==="horizontal"&&b))return null;const E=t?Array.from(t.querySelectorAll(s)):r;if(!E.length)return null;u&&e.preventDefault();let O=null;return w||b?O=qs(E,n,{goForward:b?m:i==="ltr"?c:f,loop:l}):h?O=E.at(0)||null:y&&(O=E.at(-1)||null),d&&(O==null||O.focus()),O}function qs(e,n,t,o=e.length){if(--o===0)return null;const a=e.indexOf(n),s=t.goForward?a+1:a-1;if(!t.loop&&(s<0||s>=e.length))return null;const r=(s+e.length)%e.length,l=e[r];return l?l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"?qs(e,l,t,o):l:null}const[Ws]=qt("ConfigProvider");function Hf(e,n){var t;const o=Ko();return Mt(()=>{o.value=e()},{...n,flush:(t=n==null?void 0:n.flush)!==null&&t!==void 0?t:"sync"}),ps(o)}function Xs(e,n){return us()?(fs(e,n),!0):!1}function _f(e){let n=!1,t;const o=na(!0);return(...a)=>(n||(t=o.run(()=>e(...a)),n=!0),t)}const Zt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Kf=e=>typeof e<"u",qf=Object.prototype.toString,Wf=e=>qf.call(e)==="[object Object]",Ta=Xf();function Xf(){var e,n,t;return Zt&&!!(!((e=window)===null||e===void 0||(e=e.navigator)===null||e===void 0)&&e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window)===null||n===void 0||(n=n.navigator)===null||n===void 0?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test((t=window)===null||t===void 0?void 0:t.navigator.userAgent))}function ur(e){return Array.isArray(e)?e:[e]}function Yf(e){return cn()}function Ys(e){if(!Zt)return e;let n=0,t,o;const a=()=>{n-=1,o&&n<=0&&(o.stop(),t=void 0,o=void 0)};return(...s)=>(n+=1,o||(o=na(!0),t=o.run(()=>e(...s))),Xs(a),t)}function Qf(e){return On(e)?ro(new Proxy({},{get(n,t,o){return g(Reflect.get(e.value,t,o))},set(n,t,o){return On(e.value[t])&&!On(o)?e.value[t].value=o:e.value[t]=o,!0},deleteProperty(n,t){return Reflect.deleteProperty(e.value,t)},has(n,t){return Reflect.has(e.value,t)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}})):ro(e)}function Jf(e){return Qf(ae(e))}function Zf(e,...n){const t=n.flat(),o=t[0];return Jf(()=>Object.fromEntries(typeof o=="function"?Object.entries(zt(e)).filter(([a,s])=>!o(yt(s),a)):Object.entries(zt(e)).filter(a=>!t.includes(a[0]))))}function ep(e,n=1e4){return is((t,o)=>{let a=yt(e),s;const r=()=>setTimeout(()=>{a=yt(e),o()},yt(n));return Xs(()=>{clearTimeout(s)}),{get(){return t(),a},set(l){a=l,o(),clearTimeout(s),s=r()}}})}function tp(e,n){Yf()&&cs(e,n)}function np(e,n,t){return Ge(e,n,{...t,immediate:!0})}const ma=Zt?window:void 0;function Tn(e){var n;const t=yt(e);return(n=t==null?void 0:t.$el)!==null&&n!==void 0?n:t}function Lo(...e){const n=(o,a,s,r)=>(o.addEventListener(a,s,r),()=>o.removeEventListener(a,s,r)),t=ae(()=>{const o=ur(yt(e[0])).filter(a=>a!=null);return o.every(a=>typeof a!="string")?o:void 0});return np(()=>{var o,a;return[(o=(a=t.value)===null||a===void 0?void 0:a.map(s=>Tn(s)))!==null&&o!==void 0?o:[ma].filter(s=>s!=null),ur(yt(t.value?e[1]:e[0])),ur(g(t.value?e[2]:e[1])),yt(t.value?e[3]:e[2])]},([o,a,s,r],l,i)=>{if(!(o!=null&&o.length)||!(a!=null&&a.length)||!(s!=null&&s.length))return;const u=Wf(r)?{...r}:r,d=o.flatMap(c=>a.flatMap(f=>s.map(p=>n(c,f,p,u))));i(()=>{d.forEach(c=>c())})},{flush:"post"})}function op(){const e=Ko(!1),n=cn();return n&&Kt(()=>{e.value=!0},n),e}function rp(e){return typeof e=="function"?e:typeof e=="string"?n=>n.key===e:Array.isArray(e)?n=>e.includes(n.key):()=>!0}function ap(...e){let n,t,o={};e.length===3?(n=e[0],t=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(n=!0,t=e[0],o=e[1]):(n=e[0],t=e[1]):(n=!0,t=e[0]);const{target:a=ma,eventName:s="keydown",passive:r=!1,dedupe:l=!1}=o,i=rp(n);return Lo(a,s,d=>{d.repeat&&yt(l)||i(d)&&t(d)},r)}function sp(e){return JSON.parse(JSON.stringify(e))}function Xo(e,n,t,o={}){var a,s;const{clone:r=!1,passive:l=!1,eventName:i,deep:u=!1,defaultValue:d,shouldEmit:c}=o,f=cn(),p=t||(f==null?void 0:f.emit)||(f==null||(a=f.$emit)===null||a===void 0?void 0:a.bind(f))||(f==null||(s=f.proxy)===null||s===void 0||(s=s.$emit)===null||s===void 0?void 0:s.bind(f==null?void 0:f.proxy));let m=i;n||(n="modelValue"),m=m||`update:${n.toString()}`;const h=w=>r?typeof r=="function"?r(w):sp(w):w,y=()=>Kf(e[n])?h(e[n]):d,b=w=>{c?c(w)&&p(m,w):p(m,w)};if(l){const w=N(y());let E=!1;return Ge(()=>e[n],O=>{E||(E=!0,w.value=h(O),lt(()=>E=!1))}),Ge(w,O=>{!E&&(O!==e[n]||u)&&b(O)},{deep:u}),w}else return ae({get(){return y()},set(w){b(w)}})}const lp=Ys(()=>{const e=N(new Map),n=N(),t=ae(()=>{for(const r of e.value.values())if(r)return!0;return!1}),o=Ws({scrollBody:N(!0)});let a=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=n.value??"",Ta&&(a==null||a()),n.value=void 0};return Ge(t,(r,l)=>{var c;if(!Zt)return;if(!r){l&&s();return}n.value===void 0&&(n.value=document.body.style.overflow);const i=window.innerWidth-document.documentElement.clientWidth,u={padding:i,margin:0},d=(c=o.scrollBody)!=null&&c.value?typeof o.scrollBody.value=="object"?nd({padding:o.scrollBody.value.padding===!0?i:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?i:o.scrollBody.value.margin},u):u:{padding:0,margin:0};i>0&&(document.body.style.paddingRight=typeof d.padding=="number"?`${d.padding}px`:String(d.padding),document.body.style.marginRight=typeof d.margin=="number"?`${d.margin}px`:String(d.margin),document.documentElement.style.setProperty("--scrollbar-width",`${i}px`),document.body.style.overflow="hidden"),Ta&&(a=Lo(document,"touchmove",f=>ip(f),{passive:!1})),lt(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Qs(e){const n=Math.random().toString(36).substring(2,7),t=lp();t.value.set(n,e??!1);const o=ae({get:()=>t.value.get(n)??!1,set:a=>t.value.set(n,a)});return tp(()=>{t.value.delete(n)}),o}function Js(e){const n=window.getComputedStyle(e);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&e.clientWidth<e.scrollWidth||n.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!(t instanceof Element)||t.tagName==="BODY"?!1:Js(t)}}function ip(e){const n=e||window.event,t=n.target;return t instanceof Element&&Js(t)?!1:n.touches.length>1?!0:(n.preventDefault&&n.cancelable&&n.preventDefault(),!1)}function Yo(e){const n=Ws({dir:N("ltr")});return ae(()=>{var t;return(e==null?void 0:e.value)||((t=n.dir)==null?void 0:t.value)||"ltr"})}function va(e){const n=cn(),t=n==null?void 0:n.type.emits,o={};return t!=null&&t.length||console.warn(`No emitted event found. Please check component: ${n==null?void 0:n.type.__name}`),t==null||t.forEach(a=>{o[gs(ea(a))]=(...s)=>e(a,...s)}),o}let dr=0;function Zs(){Mt(e=>{if(!Zt)return;const n=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",n[0]??Ma()),document.body.insertAdjacentElement("beforeend",n[1]??Ma()),dr++,e(()=>{dr===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(t=>t.remove()),dr--})})}function Ma(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function Ye(){const e=cn(),n=N(),t=ae(()=>{var r,l;return["#text","#comment"].includes((r=n.value)==null?void 0:r.$el.nodeName)?(l=n.value)==null?void 0:l.$el.nextElementSibling:Tn(n)}),o=Object.assign({},e.exposed),a={};for(const r in e.props)Object.defineProperty(a,r,{enumerable:!0,configurable:!0,get:()=>e.props[r]});if(Object.keys(o).length>0)for(const r in o)Object.defineProperty(a,r,{enumerable:!0,configurable:!0,get:()=>o[r]});Object.defineProperty(a,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=a;function s(r){if(n.value=r,!!r&&(Object.defineProperty(a,"$el",{enumerable:!0,configurable:!0,get:()=>r instanceof Element?r:r.$el}),!(r instanceof Element)&&!Object.hasOwn(r,"$el"))){const l=r.$.exposed,i=Object.assign({},a);for(const u in l)Object.defineProperty(i,u,{enumerable:!0,configurable:!0,get:()=>l[u]});e.exposed=i}}return{forwardRef:s,currentRef:n,currentElement:t}}function Mn(e){const n=cn(),t=Object.keys((n==null?void 0:n.type.props)??{}).reduce((a,s)=>{const r=(n==null?void 0:n.type.props[s]).default;return r!==void 0&&(a[s]=r),a},{}),o=ms(e);return ae(()=>{const a={},s=(n==null?void 0:n.vnode.props)??{};return Object.keys(s).forEach(r=>{a[ea(r)]=s[r]}),Object.keys({...t,...a}).reduce((r,l)=>(o.value[l]!==void 0&&(r[l]=o.value[l]),r),{})})}function xt(e,n){const t=Mn(e),o=n?va(n):{};return ae(()=>({...t.value,...o}))}var up=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},xn=new WeakMap,ho=new WeakMap,yo={},cr=0,el=function(e){return e&&(e.host||el(e.parentNode))},dp=function(e,n){return n.map(function(t){if(e.contains(t))return t;var o=el(t);return o&&e.contains(o)?o:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},cp=function(e,n,t,o){var a=dp(n,Array.isArray(e)?e:[e]);yo[t]||(yo[t]=new WeakMap);var s=yo[t],r=[],l=new Set,i=new Set(a),u=function(c){!c||l.has(c)||(l.add(c),u(c.parentNode))};a.forEach(u);var d=function(c){!c||i.has(c)||Array.prototype.forEach.call(c.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(o),m=p!==null&&p!=="false",h=(xn.get(f)||0)+1,y=(s.get(f)||0)+1;xn.set(f,h),s.set(f,y),r.push(f),h===1&&m&&ho.set(f,!0),y===1&&f.setAttribute(t,"true"),m||f.setAttribute(o,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(n),l.clear(),cr++,function(){r.forEach(function(c){var f=xn.get(c)-1,p=s.get(c)-1;xn.set(c,f),s.set(c,p),f||(ho.has(c)||c.removeAttribute(o),ho.delete(c)),p||c.removeAttribute(t)}),cr--,cr||(xn=new WeakMap,xn=new WeakMap,ho=new WeakMap,yo={})}},fp=function(e,n,t){t===void 0&&(t="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=up(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),cp(o,a,t,"aria-hidden")):function(){return null}};function tl(e){let n;Ge(()=>Tn(e),t=>{t?n=fp(t):n&&n()}),An(()=>{n&&n()})}function Qo(e,n="reka"){var t;return`${n}-${(t=vs)==null?void 0:t()}`}function pp(e){const n=N(),t=ae(()=>{var a;return((a=n.value)==null?void 0:a.width)??0}),o=ae(()=>{var a;return((a=n.value)==null?void 0:a.height)??0});return Kt(()=>{const a=Tn(e);if(a){n.value={width:a.offsetWidth,height:a.offsetHeight};const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let i,u;if("borderBoxSize"in l){const d=l.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,u=c.blockSize}else i=a.offsetWidth,u=a.offsetHeight;n.value={width:i,height:u}});return s.observe(a,{box:"border-box"}),()=>s.unobserve(a)}else n.value=void 0}),{width:t,height:o}}function gp(e,n){const t=N(e);function o(s){return n[t.value][s]??t.value}return{state:t,dispatch:s=>{t.value=o(s)}}}function mp(e){const n=ep("",1e3);return{search:n,handleTypeaheadSearch:(a,s)=>{n.value=n.value+a;{const r=Tt(),l=s.map(f=>{var p,m;return{...f,textValue:((p=f.value)==null?void 0:p.textValue)??((m=f.ref.textContent)==null?void 0:m.trim())??""}}),i=l.find(f=>f.ref===r),u=l.map(f=>f.textValue),d=hp(u,n.value,i==null?void 0:i.textValue),c=l.find(f=>f.textValue===d);return c&&c.ref.focus(),c==null?void 0:c.ref}},resetTypeahead:()=>{n.value=""}}}function vp(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function hp(e,n,t){const a=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let r=vp(e,Math.max(s,0));a.length===1&&(r=r.filter(u=>u!==t));const i=r.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return i!==t?i:void 0}function yp(e,n){var y;const t=N({}),o=N("none"),a=N(e),s=e.value?"mounted":"unmounted";let r;const l=((y=n.value)==null?void 0:y.ownerDocument.defaultView)??ma,{state:i,dispatch:u}=gp(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=b=>{var w;if(Zt){const E=new CustomEvent(b,{bubbles:!1,cancelable:!1});(w=n.value)==null||w.dispatchEvent(E)}};Ge(e,async(b,w)=>{var O;const E=w!==b;if(await lt(),E){const M=o.value,R=bo(n.value);b?(u("MOUNT"),d("enter"),R==="none"&&d("after-enter")):R==="none"||R==="undefined"||((O=t.value)==null?void 0:O.display)==="none"?(u("UNMOUNT"),d("leave"),d("after-leave")):w&&M!==R?(u("ANIMATION_OUT"),d("leave")):(u("UNMOUNT"),d("after-leave"))}},{immediate:!0});const c=b=>{const w=bo(n.value),E=w.includes(CSS.escape(b.animationName)),O=i.value==="mounted"?"enter":"leave";if(b.target===n.value&&E&&(d(`after-${O}`),u("ANIMATION_END"),!a.value)){const M=n.value.style.animationFillMode;n.value.style.animationFillMode="forwards",r=l==null?void 0:l.setTimeout(()=>{var R;((R=n.value)==null?void 0:R.style.animationFillMode)==="forwards"&&(n.value.style.animationFillMode=M)})}b.target===n.value&&w==="none"&&u("ANIMATION_END")},f=b=>{b.target===n.value&&(o.value=bo(n.value))},p=Ge(n,(b,w)=>{b?(t.value=getComputedStyle(b),b.addEventListener("animationstart",f),b.addEventListener("animationcancel",c),b.addEventListener("animationend",c)):(u("ANIMATION_END"),r!==void 0&&(l==null||l.clearTimeout(r)),w==null||w.removeEventListener("animationstart",f),w==null||w.removeEventListener("animationcancel",c),w==null||w.removeEventListener("animationend",c))},{immediate:!0}),m=Ge(i,()=>{const b=bo(n.value);o.value=i.value==="mounted"?b:"none"});return An(()=>{p(),m()}),{isPresent:ae(()=>["mounted","unmountSuspended"].includes(i.value))}}function bo(e){return e&&getComputedStyle(e).animationName||"none"}var nl=K({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:n,expose:t}){var u;const{present:o,forceMount:a}=zt(e),s=N(),{isPresent:r}=yp(o,s);t({present:r});let l=n.default({present:r.value});l=ga(l||[]);const i=cn();if(l&&(l==null?void 0:l.length)>1){const d=(u=i==null?void 0:i.parent)!=null&&u.type.name?`<${i.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${d}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(c=>`  - ${c}`).join(`
`)].join(`
`))}return()=>a.value||o.value||r.value?vn(n.default({present:r.value})[0],{ref:d=>{const c=Tn(d);return typeof(c==null?void 0:c.hasAttribute)>"u"||(c!=null&&c.hasAttribute("data-reka-popper-content-wrapper")?s.value=c.firstElementChild:s.value=c),c}}):null}});const Gr=K({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:n,slots:t}){return()=>{var i;if(!t.default)return null;const o=ga(t.default()),a=o.findIndex(u=>u.type!==rs);if(a===-1)return o;const s=o[a];(i=s.props)==null||delete i.ref;const r=s.props?De(n,s.props):n,l=ls({...s,props:{}},r);return o.length===1?l:(o[a]=l,o)}}}),bp=["area","img","input"],Ft=K({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:n,slots:t}){const o=e.asChild?"template":e.as;return typeof o=="string"&&bp.includes(o)?()=>vn(o,n):o!=="template"?()=>vn(e.as,n,{default:t.default}):()=>vn(Gr,n,{default:t.default})}});function Fa(){const e=N(),n=ae(()=>{var t,o;return["#text","#comment"].includes((t=e.value)==null?void 0:t.$el.nodeName)?(o=e.value)==null?void 0:o.$el.nextElementSibling:Tn(e)});return{primitiveElement:e,currentElement:n}}const xp="dismissableLayer.pointerDownOutside",wp="dismissableLayer.focusOutside";function ol(e,n){const t=n.closest("[data-dismissable-layer]"),o=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),a=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(t&&(o===t||a.indexOf(o)<a.indexOf(t)))}function Sp(e,n,t=!0){var r;const o=((r=n==null?void 0:n.value)==null?void 0:r.ownerDocument)??(globalThis==null?void 0:globalThis.document),a=N(!1),s=N(()=>{});return Mt(l=>{if(!Zt||!yt(t))return;const i=async d=>{const c=d.target;if(!(!(n!=null&&n.value)||!c)){if(ol(n.value,c)){a.value=!1;return}if(d.target&&!a.value){let p=function(){Ks(xp,e,f)};const f={originalEvent:d};d.pointerType==="touch"?(o.removeEventListener("click",s.value),s.value=p,o.addEventListener("click",s.value,{once:!0})):p()}else o.removeEventListener("click",s.value);a.value=!1}},u=window.setTimeout(()=>{o.addEventListener("pointerdown",i)},0);l(()=>{window.clearTimeout(u),o.removeEventListener("pointerdown",i),o.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>{yt(t)&&(a.value=!0)}}}function Cp(e,n,t=!0){var s;const o=((s=n==null?void 0:n.value)==null?void 0:s.ownerDocument)??(globalThis==null?void 0:globalThis.document),a=N(!1);return Mt(r=>{if(!Zt||!yt(t))return;const l=async i=>{if(!(n!=null&&n.value))return;await lt(),await lt();const u=i.target;!n.value||!u||ol(n.value,u)||i.target&&!a.value&&Ks(wp,e,{originalEvent:i})};o.addEventListener("focusin",l),r(()=>o.removeEventListener("focusin",l))}),{onFocusCapture:()=>{yt(t)&&(a.value=!0)},onBlurCapture:()=>{yt(t)&&(a.value=!1)}}}const It=ro({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var Ep=K({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:n}){const t=e,o=n,{forwardRef:a,currentElement:s}=Ye(),r=ae(()=>{var p;return((p=s.value)==null?void 0:p.ownerDocument)??globalThis.document}),l=ae(()=>It.layersRoot),i=ae(()=>s.value?Array.from(l.value).indexOf(s.value):-1),u=ae(()=>It.layersWithOutsidePointerEventsDisabled.size>0),d=ae(()=>{const p=Array.from(l.value),[m]=[...It.layersWithOutsidePointerEventsDisabled].slice(-1),h=p.indexOf(m);return i.value>=h}),c=Sp(async p=>{const m=[...It.branches].some(h=>h==null?void 0:h.contains(p.target));!d.value||m||(o("pointerDownOutside",p),o("interactOutside",p),await lt(),p.defaultPrevented||o("dismiss"))},s),f=Cp(p=>{[...It.branches].some(h=>h==null?void 0:h.contains(p.target))||(o("focusOutside",p),o("interactOutside",p),p.defaultPrevented||o("dismiss"))},s);return ap("Escape",p=>{i.value===l.value.size-1&&(o("escapeKeyDown",p),p.defaultPrevented||o("dismiss"))}),Mt(p=>{s.value&&(t.disableOutsidePointerEvents&&(It.layersWithOutsidePointerEventsDisabled.size===0&&(It.originalBodyPointerEvents=r.value.body.style.pointerEvents,r.value.body.style.pointerEvents="none"),It.layersWithOutsidePointerEventsDisabled.add(s.value)),l.value.add(s.value),p(()=>{t.disableOutsidePointerEvents&&It.layersWithOutsidePointerEventsDisabled.size===1&&!zf(It.originalBodyPointerEvents)&&(r.value.body.style.pointerEvents=It.originalBodyPointerEvents)}))}),Mt(p=>{p(()=>{s.value&&(l.value.delete(s.value),It.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(p,m)=>($(),Y(g(Ft),{ref:g(a),"as-child":p.asChild,as:p.as,"data-dismissable-layer":"",style:oo({pointerEvents:u.value?d.value?"auto":"none":void 0}),onFocusCapture:g(f).onFocusCapture,onBlurCapture:g(f).onBlurCapture,onPointerdownCapture:g(c).onPointerDownCapture},{default:C(()=>[re(p.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),rl=Ep;const $p=_f(()=>N([]));function Pp(){const e=$p();return{add(n){const t=e.value[0];n!==t&&(t==null||t.pause()),e.value=ka(e.value,n),e.value.unshift(n)},remove(n){var t;e.value=ka(e.value,n),(t=e.value[0])==null||t.resume()}}}function ka(e,n){const t=[...e],o=t.indexOf(n);return o!==-1&&t.splice(o,1),t}const fr="focusScope.autoFocusOnMount",pr="focusScope.autoFocusOnUnmount",Ba={bubbles:!1,cancelable:!0};function Op(e,{select:n=!1}={}){const t=Tt();for(const o of e)if(rn(o,{select:n}),Tt()!==t)return!0}function Rp(e){const n=al(e),t=La(n,e),o=La(n.reverse(),e);return[t,o]}function al(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function La(e,n){for(const t of e)if(!Ip(t,{upTo:n}))return t}function Ip(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Dp(e){return e instanceof HTMLInputElement&&"select"in e}function rn(e,{select:n=!1}={}){if(e&&e.focus){const t=Tt();e.focus({preventScroll:!0}),e!==t&&Dp(e)&&n&&e.select()}}var Ap=K({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:n}){const t=e,o=n,{currentRef:a,currentElement:s}=Ye(),r=N(null),l=Pp(),i=ro({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Mt(d=>{if(!Zt)return;const c=s.value;if(!t.trapped)return;function f(y){if(i.paused||!c)return;const b=y.target;c.contains(b)?r.value=b:rn(r.value,{select:!0})}function p(y){if(i.paused||!c)return;const b=y.relatedTarget;b!==null&&(c.contains(b)||rn(r.value,{select:!0}))}function m(y){c.contains(r.value)||rn(c)}document.addEventListener("focusin",f),document.addEventListener("focusout",p);const h=new MutationObserver(m);c&&h.observe(c,{childList:!0,subtree:!0}),d(()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",p),h.disconnect()})}),Mt(async d=>{const c=s.value;if(await lt(),!c)return;l.add(i);const f=Tt();if(!c.contains(f)){const m=new CustomEvent(fr,Ba);c.addEventListener(fr,h=>o("mountAutoFocus",h)),c.dispatchEvent(m),m.defaultPrevented||(Op(al(c),{select:!0}),Tt()===f&&rn(c))}d(()=>{c.removeEventListener(fr,y=>o("mountAutoFocus",y));const m=new CustomEvent(pr,Ba),h=y=>{o("unmountAutoFocus",y)};c.addEventListener(pr,h),c.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||rn(f??document.body,{select:!0}),c.removeEventListener(pr,h),l.remove(i)},0)})});function u(d){if(!t.loop&&!t.trapped||i.paused)return;const c=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,f=Tt();if(c&&f){const p=d.currentTarget,[m,h]=Rp(p);m&&h?!d.shiftKey&&f===h?(d.preventDefault(),t.loop&&rn(m,{select:!0})):d.shiftKey&&f===m&&(d.preventDefault(),t.loop&&rn(h,{select:!0})):f===p&&d.preventDefault()}}return(d,c)=>($(),Y(g(Ft),{ref_key:"currentRef",ref:a,tabindex:"-1","as-child":d.asChild,as:d.as,onKeydown:u},{default:C(()=>[re(d.$slots,"default")]),_:3},8,["as-child","as"]))}}),sl=Ap;const Tp="menu.itemSelect",Hr=["Enter"," "],Mp=["ArrowDown","PageUp","Home"],ll=["ArrowUp","PageDown","End"],Fp=[...Mp,...ll];[...Hr],[...Hr];function kp(e){return e?"open":"closed"}function Bp(e){const n=Tt();for(const t of e)if(t===n||(t.focus(),Tt()!==n))return}function Lp(e,n){const{x:t,y:o}=e;let a=!1;for(let s=0,r=n.length-1;s<n.length;r=s++){const l=n[s].x,i=n[s].y,u=n[r].x,d=n[r].y;i>o!=d>o&&t<(u-l)*(o-i)/(d-i)+l&&(a=!a)}return a}function Np(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Lp(t,n)}function _r(e){return e.pointerType==="mouse"}var Vp=K({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=op();return(t,o)=>g(n)||t.forceMount?($(),Y(as,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[re(t.$slots,"default")],8,["to","disabled","defer"])):ve("v-if",!0)}}),il=Vp;const Na="data-reka-collection-item";function ul(e={}){const{key:n="",isProvider:t=!1}=e,o=`${n}CollectionProvider`;let a;if(t){const d=N(new Map);a={collectionRef:N(),itemMap:d},_o(o,a)}else a=ao(o);const s=(d=!1)=>{const c=a.collectionRef.value;if(!c)return[];const f=Array.from(c.querySelectorAll(`[${Na}]`)),m=Array.from(a.itemMap.value.values()).sort((h,y)=>f.indexOf(h.ref)-f.indexOf(y.ref));return d?m:m.filter(h=>h.ref.dataset.disabled!=="")},r=K({name:"CollectionSlot",inheritAttrs:!1,setup(d,{slots:c,attrs:f}){const{primitiveElement:p,currentElement:m}=Fa();return Ge(m,()=>{a.collectionRef.value=m.value}),()=>vn(Gr,{ref:p,...f},c)}}),l=K({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(d,{slots:c,attrs:f}){const{primitiveElement:p,currentElement:m}=Fa();return Mt(h=>{if(m.value){const y=ds(m.value);a.itemMap.value.set(y,{ref:m.value,value:d.value}),h(()=>a.itemMap.value.delete(y))}}),()=>vn(Gr,{...f,[Na]:"",ref:p},c)}}),i=ae(()=>Array.from(a.itemMap.value.values())),u=ae(()=>a.itemMap.value.size);return{getItems:s,reactiveItems:i,itemMapSize:u,CollectionSlot:r,CollectionItem:l}}const jp="rovingFocusGroup.onEntryFocus",zp={bubbles:!1,cancelable:!0};function Up(e,n=!1){const t=Tt();for(const o of e)if(o===t||(o.focus({preventScroll:n}),Tt()!==t))return}const[v1,Gp]=qt("RovingFocusGroup");var Hp=K({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:n,emit:t}){const o=e,a=t,{loop:s,orientation:r,dir:l}=zt(o),i=Yo(l),u=Xo(o,"currentTabStopId",a,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),d=N(!1),c=N(!1),f=N(0),{getItems:p,CollectionSlot:m}=ul({isProvider:!0});function h(b){const w=!c.value;if(b.currentTarget&&b.target===b.currentTarget&&w&&!d.value){const E=new CustomEvent(jp,zp);if(b.currentTarget.dispatchEvent(E),a("entryFocus",E),!E.defaultPrevented){const O=p().map(x=>x.ref).filter(x=>x.dataset.disabled!==""),M=O.find(x=>x.getAttribute("data-active")===""),R=O.find(x=>x.getAttribute("data-highlighted")===""),W=O.find(x=>x.id===u.value),T=[M,R,W,...O].filter(Boolean);Up(T,o.preventScrollOnEntryFocus)}}c.value=!1}function y(){setTimeout(()=>{c.value=!1},1)}return n({getItems:p}),Gp({loop:s,dir:i,orientation:r,currentTabStopId:u,onItemFocus:b=>{u.value=b},onItemShiftTab:()=>{d.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(b,w)=>($(),Y(g(m),null,{default:C(()=>[S(g(Ft),{tabindex:d.value||f.value===0?-1:0,"data-orientation":g(r),as:b.as,"as-child":b.asChild,dir:g(i),style:{outline:"none"},onMousedown:w[0]||(w[0]=E=>c.value=!0),onMouseup:y,onFocus:h,onBlur:w[1]||(w[1]=E=>d.value=!1)},{default:C(()=>[re(b.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),_p=Hp;const[dl,Kp]=qt("PopperRoot");var qp=K({inheritAttrs:!1,__name:"PopperRoot",setup(e){const n=N();return Kp({anchor:n,onAnchorChange:t=>n.value=t}),(t,o)=>re(t.$slots,"default")}}),cl=qp,Wp=K({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,{forwardRef:t,currentElement:o}=Ye(),a=dl();return ra(()=>{a.onAnchorChange(n.reference??o.value)}),(s,r)=>($(),Y(g(Ft),{ref:g(t),as:s.as,"as-child":s.asChild},{default:C(()=>[re(s.$slots,"default")]),_:3},8,["as","as-child"]))}}),fl=Wp;function Xp(e){return e!==null}function Yp(e){return{name:"transformOrigin",options:e,fn(n){var y,b,w;const{placement:t,rects:o,middlewareData:a}=n,r=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=r?0:e.arrowWidth,i=r?0:e.arrowHeight,[u,d]=Kr(t),c={start:"0%",center:"50%",end:"100%"}[d],f=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((w=a.arrow)==null?void 0:w.y)??0)+i/2;let m="",h="";return u==="bottom"?(m=r?c:`${f}px`,h=`${-i}px`):u==="top"?(m=r?c:`${f}px`,h=`${o.floating.height+i}px`):u==="right"?(m=`${-i}px`,h=r?c:`${p}px`):u==="left"&&(m=`${o.floating.width+i}px`,h=r?c:`${p}px`),{data:{x:m,y:h}}}}}function Kr(e){const[n,t="center"]=e.split("-");return[n,t]}const pl={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,hideShiftedArrow:!0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[h1,Qp]=qt("PopperContent");var Jp=K({inheritAttrs:!1,__name:"PopperContent",props:oa({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...pl}),emits:["placed"],setup(e,{emit:n}){const t=e,o=n,a=dl(),{forwardRef:s,currentElement:r}=Ye(),l=N(),i=N(),{width:u,height:d}=pp(i),c=ae(()=>t.side+(t.align!=="center"?`-${t.align}`:"")),f=ae(()=>typeof t.collisionPadding=="number"?t.collisionPadding:{top:0,right:0,bottom:0,left:0,...t.collisionPadding}),p=ae(()=>Array.isArray(t.collisionBoundary)?t.collisionBoundary:[t.collisionBoundary]),m=ae(()=>({padding:f.value,boundary:p.value.filter(Xp),altBoundary:p.value.length>0})),h=ae(()=>({mainAxis:t.sideFlip,crossAxis:t.alignFlip})),y=Hf(()=>[md({mainAxis:t.sideOffset+d.value,alignmentAxis:t.alignOffset}),t.prioritizePosition&&t.avoidCollisions&&Oa({...m.value,...h.value}),t.avoidCollisions&&vd({mainAxis:!0,crossAxis:!!t.prioritizePosition,limiter:t.sticky==="partial"?hd():void 0,...m.value}),!t.prioritizePosition&&t.avoidCollisions&&Oa({...m.value,...h.value}),yd({...m.value,apply:({elements:Z,rects:B,availableWidth:j,availableHeight:U})=>{const{width:F,height:J}=B.reference,_=Z.floating.style;_.setProperty("--reka-popper-available-width",`${j}px`),_.setProperty("--reka-popper-available-height",`${U}px`),_.setProperty("--reka-popper-anchor-width",`${F}px`),_.setProperty("--reka-popper-anchor-height",`${J}px`)}}),i.value&&bd({element:i.value,padding:t.arrowPadding}),Yp({arrowWidth:u.value,arrowHeight:d.value}),t.hideWhenDetached&&xd({strategy:"referenceHidden",...m.value})]),b=ae(()=>t.reference??a.anchor.value),{floatingStyles:w,placement:E,isPositioned:O,middlewareData:M}=pd(b,l,{strategy:t.positionStrategy,placement:c,whileElementsMounted:(...Z)=>gd(...Z,{layoutShift:!t.disableUpdateOnLayoutShift,animationFrame:t.updatePositionStrategy==="always"}),middleware:y}),R=ae(()=>Kr(E.value)[0]),W=ae(()=>Kr(E.value)[1]);ra(()=>{O.value&&o("placed")});const T=ae(()=>{var B;const Z=((B=M.value.arrow)==null?void 0:B.centerOffset)!==0;return t.hideShiftedArrow&&Z}),x=N("");Mt(()=>{r.value&&(x.value=window.getComputedStyle(r.value).zIndex)});const P=ae(()=>{var Z;return((Z=M.value.arrow)==null?void 0:Z.x)??0}),z=ae(()=>{var Z;return((Z=M.value.arrow)==null?void 0:Z.y)??0});return Qp({placedSide:R,onArrowChange:Z=>i.value=Z,arrowX:P,arrowY:z,shouldHideArrow:T}),(Z,B)=>{var j,U,F;return $(),k("div",{ref_key:"floatingRef",ref:l,"data-reka-popper-content-wrapper":"",style:oo({...g(w),transform:g(O)?g(w).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:x.value,"--reka-popper-transform-origin":[(j=g(M).transformOrigin)==null?void 0:j.x,(U=g(M).transformOrigin)==null?void 0:U.y].join(" "),...((F=g(M).hide)==null?void 0:F.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[S(g(Ft),De({ref:g(s)},Z.$attrs,{"as-child":t.asChild,as:Z.as,"data-side":R.value,"data-align":W.value,style:{animation:g(O)?void 0:"none"}}),{default:C(()=>[re(Z.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),gl=Jp,Zp=K({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return(t,o)=>($(),Y(g(fl),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),ml=Zp;function eg(){const e=N(!1);return Kt(()=>{Lo("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),Lo(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const tg=Ys(eg),[Jo,ng]=qt(["MenuRoot","MenuSub"],"MenuContext"),[ha,og]=qt("MenuRoot");var rg=K({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{modal:a,dir:s}=zt(t),r=Yo(s),l=Xo(t,"open",o),i=N(),u=tg();return ng({open:l,onOpenChange:d=>{l.value=d},content:i,onContentChange:d=>{i.value=d}}),og({onClose:()=>{l.value=!1},isUsingKeyboardRef:u,dir:r,modal:a}),(d,c)=>($(),Y(g(cl),null,{default:C(()=>[re(d.$slots,"default")]),_:3}))}}),vl=rg;const[hl,ag]=qt("MenuContent");var sg=K({__name:"MenuContentImpl",props:oa({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...pl}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:n}){const t=e,o=n,a=Jo(),s=ha(),{trapFocus:r,disableOutsidePointerEvents:l,loop:i}=zt(t);Zs(),Qs(l.value);const u=N(""),d=N(0),c=N(0),f=N(null),p=N("right"),m=N(0),h=N(null),y=N(),{forwardRef:b,currentElement:w}=Ye(),{handleTypeaheadSearch:E}=mp();Ge(w,x=>{a.onContentChange(x)}),An(()=>{window.clearTimeout(d.value)});function O(x){var z,Z;return p.value===((z=f.value)==null?void 0:z.side)&&Np(x,(Z=f.value)==null?void 0:Z.area)}async function M(x){var P;o("openAutoFocus",x),!x.defaultPrevented&&(x.preventDefault(),(P=w.value)==null||P.focus({preventScroll:!0}))}function R(x){var J;if(x.defaultPrevented)return;const z=x.target.closest("[data-reka-menu-content]")===x.currentTarget,Z=x.ctrlKey||x.altKey||x.metaKey,B=x.key.length===1,j=Gf(x,Tt(),w.value,{loop:i.value,arrowKeyOptions:"vertical",dir:s==null?void 0:s.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(j)return j==null?void 0:j.focus();if(x.code==="Space")return;const U=((J=y.value)==null?void 0:J.getItems())??[];if(z&&(x.key==="Tab"&&x.preventDefault(),!Z&&B&&E(x.key,U)),x.target!==w.value||!Fp.includes(x.key))return;x.preventDefault();const F=[...U.map(_=>_.ref)];ll.includes(x.key)&&F.reverse(),Bp(F)}function W(x){var P,z;(z=(P=x==null?void 0:x.currentTarget)==null?void 0:P.contains)!=null&&z.call(P,x.target)||(window.clearTimeout(d.value),u.value="")}function T(x){var Z;if(!_r(x))return;const P=x.target,z=m.value!==x.clientX;if((Z=x==null?void 0:x.currentTarget)!=null&&Z.contains(P)&&z){const B=x.clientX>m.value?"right":"left";p.value=B,m.value=x.clientX}}return ag({onItemEnter:x=>!!O(x),onItemLeave:x=>{var P;O(x)||((P=w.value)==null||P.focus(),h.value=null)},onTriggerLeave:x=>!!O(x),searchRef:u,pointerGraceTimerRef:c,onPointerGraceIntentChange:x=>{f.value=x}}),(x,P)=>($(),Y(g(sl),{"as-child":"",trapped:g(r),onMountAutoFocus:M,onUnmountAutoFocus:P[7]||(P[7]=z=>o("closeAutoFocus",z))},{default:C(()=>[S(g(rl),{"as-child":"","disable-outside-pointer-events":g(l),onEscapeKeyDown:P[2]||(P[2]=z=>o("escapeKeyDown",z)),onPointerDownOutside:P[3]||(P[3]=z=>o("pointerDownOutside",z)),onFocusOutside:P[4]||(P[4]=z=>o("focusOutside",z)),onInteractOutside:P[5]||(P[5]=z=>o("interactOutside",z)),onDismiss:P[6]||(P[6]=z=>o("dismiss"))},{default:C(()=>[S(g(_p),{ref_key:"rovingFocusGroupRef",ref:y,"current-tab-stop-id":h.value,"onUpdate:currentTabStopId":P[0]||(P[0]=z=>h.value=z),"as-child":"",orientation:"vertical",dir:g(s).dir.value,loop:g(i),onEntryFocus:P[1]||(P[1]=z=>{o("entryFocus",z),g(s).isUsingKeyboardRef.value||z.preventDefault()})},{default:C(()=>[S(g(gl),{ref:g(b),role:"menu",as:x.as,"as-child":x.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":g(kp)(g(a).open.value),dir:g(s).dir.value,side:x.side,"side-offset":x.sideOffset,align:x.align,"align-offset":x.alignOffset,"avoid-collisions":x.avoidCollisions,"collision-boundary":x.collisionBoundary,"collision-padding":x.collisionPadding,"arrow-padding":x.arrowPadding,"prioritize-position":x.prioritizePosition,"position-strategy":x.positionStrategy,"update-position-strategy":x.updatePositionStrategy,sticky:x.sticky,"hide-when-detached":x.hideWhenDetached,reference:x.reference,onKeydown:R,onBlur:W,onPointermove:T},{default:C(()=>[re(x.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),yl=sg,lg=K({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=hl(),{forwardRef:o}=Ye(),{CollectionItem:a}=ul(),s=N(!1);async function r(i){if(!i.defaultPrevented&&_r(i)){if(n.disabled)t.onItemLeave(i);else if(!t.onItemEnter(i)){const d=i.currentTarget;d==null||d.focus({preventScroll:!0})}}}async function l(i){await lt(),!i.defaultPrevented&&_r(i)&&t.onItemLeave(i)}return(i,u)=>($(),Y(g(a),{value:{textValue:i.textValue}},{default:C(()=>[S(g(Ft),De({ref:g(o),role:"menuitem",tabindex:"-1"},i.$attrs,{as:i.as,"as-child":i.asChild,"aria-disabled":i.disabled||void 0,"data-disabled":i.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:r,onPointerleave:l,onFocus:u[0]||(u[0]=async d=>{await lt(),!(d.defaultPrevented||i.disabled)&&(s.value=!0)}),onBlur:u[1]||(u[1]=async d=>{await lt(),!d.defaultPrevented&&(s.value=!1)})}),{default:C(()=>[re(i.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),ig=lg,ug=K({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,o=n,{forwardRef:a,currentElement:s}=Ye(),r=ha(),l=hl(),i=N(!1);async function u(){const d=s.value;if(!t.disabled&&d){const c=new CustomEvent(Tp,{bubbles:!0,cancelable:!0});o("select",c),await lt(),c.defaultPrevented?i.value=!1:r.onClose()}}return(d,c)=>($(),Y(ig,De(t,{ref:g(a),onClick:u,onPointerdown:c[0]||(c[0]=()=>{i.value=!0}),onPointerup:c[1]||(c[1]=async f=>{var p;await lt(),!f.defaultPrevented&&(i.value||(p=f.currentTarget)==null||p.click())}),onKeydown:c[2]||(c[2]=async f=>{const p=g(l).searchRef.value!=="";d.disabled||p&&f.key===" "||g(Hr).includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}),{default:C(()=>[re(d.$slots,"default")]),_:3},16))}}),bl=ug,dg=K({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=xt(t,o),s=Jo(),{forwardRef:r,currentElement:l}=Ye();return tl(l),(i,u)=>($(),Y(yl,De(g(a),{ref:g(r),"trap-focus":g(s).open.value,"disable-outside-pointer-events":g(s).open.value,"disable-outside-scroll":!0,onDismiss:u[0]||(u[0]=d=>g(s).onOpenChange(!1)),onFocusOutside:u[1]||(u[1]=At(d=>o("focusOutside",d),["prevent"]))}),{default:C(()=>[re(i.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),cg=dg,fg=K({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=xt(e,n),s=Jo();return(r,l)=>($(),Y(yl,De(g(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:l[0]||(l[0]=i=>g(s).onOpenChange(!1))}),{default:C(()=>[re(r.$slots,"default")]),_:3},16))}}),pg=fg,gg=K({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=xt(e,n),s=Jo(),r=ha();return(l,i)=>($(),Y(g(nl),{present:l.forceMount||g(s).open.value},{default:C(()=>[g(r).modal.value?($(),Y(cg,Xe(De({key:0},{...l.$attrs,...g(a)})),{default:C(()=>[re(l.$slots,"default")]),_:3},16)):($(),Y(pg,Xe(De({key:1},{...l.$attrs,...g(a)})),{default:C(()=>[re(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),xl=gg,mg=K({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const n=e;return(t,o)=>($(),Y(g(Ft),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),wl=mg,vg=K({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>($(),Y(g(il),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),Sl=vg,hg=K({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return(t,o)=>($(),Y(g(Ft),De(n,{role:"separator","aria-orientation":"horizontal"}),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),Cl=hg;const[El,yg]=qt("ContextMenuRoot");var bg=K({inheritAttrs:!1,__name:"ContextMenuRoot",props:{pressOpenDelay:{type:Number,required:!1,default:700},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{dir:a,modal:s,pressOpenDelay:r}=zt(t);Ye();const l=Yo(a),i=N(!1),u=N();return yg({open:i,onOpenChange:d=>{i.value=d},dir:l,modal:s,triggerElement:u,pressOpenDelay:r}),Ge(i,d=>{o("update:open",d)}),(d,c)=>($(),Y(g(vl),{open:i.value,"onUpdate:open":c[0]||(c[0]=f=>i.value=f),dir:g(l),modal:g(s)},{default:C(()=>[re(d.$slots,"default")]),_:3},8,["open","dir","modal"]))}}),xg=bg,wg=K({__name:"ContextMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1,default:0},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const a=xt(e,n);Ye();const s=El(),r=N(!1);return(l,i)=>($(),Y(g(xl),De(g(a),{side:"right","side-offset":2,align:"start","update-position-strategy":"always",style:{"--reka-context-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-context-menu-content-available-width":"var(--reka-popper-available-width)","--reka-context-menu-content-available-height":"var(--reka-popper-available-height)","--reka-context-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-context-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:i[0]||(i[0]=u=>{!u.defaultPrevented&&r.value&&u.preventDefault(),r.value=!1}),onInteractOutside:i[1]||(i[1]=u=>{u.detail.originalEvent.button===2&&u.target===g(s).triggerElement.value&&u.preventDefault(),!u.defaultPrevented&&!g(s).modal.value&&(r.value=!0)})}),{default:C(()=>[re(l.$slots,"default")]),_:3},16))}}),Sg=wg,Cg=K({__name:"ContextMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,a=va(n);return Ye(),(s,r)=>($(),Y(g(bl),Xe(ot({...t,...g(a)})),{default:C(()=>[re(s.$slots,"default")]),_:3},16))}}),Eg=Cg,$g=K({__name:"ContextMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return Ye(),(t,o)=>($(),Y(g(wl),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),Pg=$g,Og=K({__name:"ContextMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>($(),Y(g(Sl),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),Rg=Og,Ig=K({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return Ye(),(t,o)=>($(),Y(g(Cl),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),Dg=Ig;function Va(e){return e.pointerType!=="mouse"}var Ag=K({inheritAttrs:!1,__name:"ContextMenuTrigger",props:{disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const n=e,{disabled:t}=zt(n),{forwardRef:o,currentElement:a}=Ye(),s=El(),r=N({x:0,y:0}),l=ae(()=>({getBoundingClientRect:()=>({width:0,height:0,left:r.value.x,right:r.value.x,top:r.value.y,bottom:r.value.y,...r.value})})),i=N(0);function u(){window.clearTimeout(i.value)}function d(m){r.value={x:m.clientX,y:m.clientY},s.onOpenChange(!0)}async function c(m){t.value||(await lt(),m.defaultPrevented||(u(),d(m),m.preventDefault()))}async function f(m){t.value||(await lt(),Va(m)&&!m.defaultPrevented&&(u(),i.value=window.setTimeout(()=>d(m),s.pressOpenDelay.value)))}async function p(m){t.value||(await lt(),Va(m)&&!m.defaultPrevented&&u())}return Kt(()=>{a.value&&(s.triggerElement.value=a.value)}),(m,h)=>($(),k(Ke,null,[S(g(ml),{as:"template",reference:l.value},null,8,["reference"]),S(g(Ft),De({ref:g(o),as:m.as,"as-child":m.asChild,"data-state":g(s).open.value?"open":"closed","data-disabled":g(t)?"":void 0,style:{WebkitTouchCallout:"none",pointerEvents:"auto"}},m.$attrs,{onContextmenu:c,onPointerdown:f,onPointermove:p,onPointercancel:p,onPointerup:p}),{default:C(()=>[re(m.$slots,"default")]),_:3},16,["as","as-child","data-state","data-disabled"])],64))}}),Tg=Ag;const[io,Mg]=qt("PopoverRoot");var Fg=K({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{modal:a}=zt(t),s=Xo(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),r=N(),l=N(!1);return Mg({contentId:"",triggerId:"",modal:a,open:s,onOpenChange:i=>{s.value=i},onOpenToggle:()=>{s.value=!s.value},triggerElement:r,hasCustomAnchor:l}),(i,u)=>($(),Y(g(cl),null,{default:C(()=>[re(i.$slots,"default",{open:g(s),close:()=>s.value=!1})]),_:3}))}}),kg=Fg,Bg=K({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=Mn(Zf(t,"trapFocus","disableOutsidePointerEvents")),{forwardRef:s}=Ye(),r=io();return Zs(),(l,i)=>($(),Y(g(sl),{"as-child":"",loop:"",trapped:l.trapFocus,onMountAutoFocus:i[5]||(i[5]=u=>o("openAutoFocus",u)),onUnmountAutoFocus:i[6]||(i[6]=u=>o("closeAutoFocus",u))},{default:C(()=>[S(g(rl),{"as-child":"","disable-outside-pointer-events":l.disableOutsidePointerEvents,onPointerDownOutside:i[0]||(i[0]=u=>o("pointerDownOutside",u)),onInteractOutside:i[1]||(i[1]=u=>o("interactOutside",u)),onEscapeKeyDown:i[2]||(i[2]=u=>o("escapeKeyDown",u)),onFocusOutside:i[3]||(i[3]=u=>o("focusOutside",u)),onDismiss:i[4]||(i[4]=u=>g(r).onOpenChange(!1))},{default:C(()=>[S(g(gl),De(g(a),{id:g(r).contentId,ref:g(s),"data-state":g(r).open.value?"open":"closed","aria-labelledby":g(r).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:C(()=>[re(l.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),$l=Bg,Lg=K({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=io(),s=N(!1);Qs(!0);const r=xt(t,o),{forwardRef:l,currentElement:i}=Ye();return tl(i),(u,d)=>($(),Y($l,De(g(r),{ref:g(l),"trap-focus":g(a).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:d[0]||(d[0]=At(c=>{var f;o("closeAutoFocus",c),s.value||(f=g(a).triggerElement.value)==null||f.focus()},["prevent"])),onPointerDownOutside:d[1]||(d[1]=c=>{o("pointerDownOutside",c);const f=c.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,m=f.button===2||p;s.value=m}),onFocusOutside:d[2]||(d[2]=At(()=>{},["prevent"]))}),{default:C(()=>[re(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ng=Lg,Vg=K({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=io(),s=N(!1),r=N(!1),l=xt(t,o);return(i,u)=>($(),Y($l,De(g(l),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:u[0]||(u[0]=d=>{var c;o("closeAutoFocus",d),d.defaultPrevented||(s.value||(c=g(a).triggerElement.value)==null||c.focus(),d.preventDefault()),s.value=!1,r.value=!1}),onInteractOutside:u[1]||(u[1]=async d=>{var p;o("interactOutside",d),d.defaultPrevented||(s.value=!0,d.detail.originalEvent.type==="pointerdown"&&(r.value=!0));const c=d.target;((p=g(a).triggerElement.value)==null?void 0:p.contains(c))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&r.value&&d.preventDefault()})}),{default:C(()=>[re(i.$slots,"default")]),_:3},16))}}),jg=Vg,zg=K({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=io(),s=xt(t,o),{forwardRef:r}=Ye();return a.contentId||(a.contentId=Qo(void 0,"reka-popover-content")),(l,i)=>($(),Y(g(nl),{present:l.forceMount||g(a).open.value},{default:C(()=>[g(a).modal.value?($(),Y(Ng,De({key:0},g(s),{ref:g(r)}),{default:C(()=>[re(l.$slots,"default")]),_:3},16)):($(),Y(jg,De({key:1},g(s),{ref:g(r)}),{default:C(()=>[re(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ug=zg,Gg=K({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>($(),Y(g(il),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),Hg=Gg,_g=K({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=io(),{forwardRef:o,currentElement:a}=Ye();return t.triggerId||(t.triggerId=Qo(void 0,"reka-popover-trigger")),Kt(()=>{t.triggerElement.value=a.value}),(s,r)=>($(),Y(so(g(t).hasCustomAnchor.value?g(Ft):g(fl)),{"as-child":""},{default:C(()=>[S(g(Ft),{id:g(t).triggerId,ref:g(o),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":g(t).open.value,"aria-controls":g(t).contentId,"data-state":g(t).open.value?"open":"closed",as:s.as,"as-child":n.asChild,onClick:g(t).onOpenToggle},{default:C(()=>[re(s.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Kg=_g;const[Pl,qg]=qt("DropdownMenuRoot");var Wg=K({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n;Ye();const a=Xo(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),s=N(),{modal:r,dir:l}=zt(t),i=Yo(l);return qg({open:a,onOpenChange:u=>{a.value=u},onOpenToggle:()=>{a.value=!a.value},triggerId:"",triggerElement:s,contentId:"",modal:r,dir:i}),(u,d)=>($(),Y(g(vl),{open:g(a),"onUpdate:open":d[0]||(d[0]=c=>On(a)?a.value=c:null),dir:g(i),modal:g(r)},{default:C(()=>[re(u.$slots,"default",{open:g(a)})]),_:3},8,["open","dir","modal"]))}}),Xg=Wg,Yg=K({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const a=xt(e,n);Ye();const s=Pl(),r=N(!1);function l(i){i.defaultPrevented||(r.value||setTimeout(()=>{var u;(u=s.triggerElement.value)==null||u.focus()},0),r.value=!1,i.preventDefault())}return s.contentId||(s.contentId=Qo(void 0,"reka-dropdown-menu-content")),(i,u)=>{var d;return $(),Y(g(xl),De(g(a),{id:g(s).contentId,"aria-labelledby":(d=g(s))==null?void 0:d.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:l,onInteractOutside:u[0]||(u[0]=c=>{var h;if(c.defaultPrevented)return;const f=c.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,m=f.button===2||p;(!g(s).modal.value||m)&&(r.value=!0),(h=g(s).triggerElement.value)!=null&&h.contains(c.target)&&c.preventDefault()})}),{default:C(()=>[re(i.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),Qg=Yg,Jg=K({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,a=va(n);return Ye(),(s,r)=>($(),Y(g(bl),Xe(ot({...t,...g(a)})),{default:C(()=>[re(s.$slots,"default")]),_:3},16))}}),Zg=Jg,em=K({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return Ye(),(t,o)=>($(),Y(g(wl),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),tm=em,nm=K({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>($(),Y(g(Sl),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),om=nm,rm=K({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return Ye(),(t,o)=>($(),Y(g(Cl),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),am=rm,sm=K({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=Pl(),{forwardRef:o,currentElement:a}=Ye();return Kt(()=>{t.triggerElement=a}),t.triggerId||(t.triggerId=Qo(void 0,"reka-dropdown-menu-trigger")),(s,r)=>($(),Y(g(ml),{"as-child":""},{default:C(()=>[S(g(Ft),{id:g(t).triggerId,ref:g(o),type:s.as==="button"?"button":void 0,"as-child":n.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":g(t).open.value,"aria-controls":g(t).open.value?g(t).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":g(t).open.value?"open":"closed",onClick:r[0]||(r[0]=async l=>{var i;!s.disabled&&l.button===0&&l.ctrlKey===!1&&((i=g(t))==null||i.onOpenToggle(),await lt(),g(t).open.value&&l.preventDefault())}),onKeydown:r[1]||(r[1]=Rn(l=>{s.disabled||(["Enter"," "].includes(l.key)&&g(t).onOpenToggle(),l.key==="ArrowDown"&&g(t).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())},["enter","space","arrow-down"]))},{default:C(()=>[re(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),lm=sm;const im=K({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const a=xt(e,n);return(s,r)=>($(),Y(g(kg),Xe(ot(g(a))),{default:C(()=>[re(s.$slots,"default")]),_:3},16))}});function Ol(e){var n,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(n=0;n<a;n++)e[n]&&(t=Ol(e[n]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function um(){for(var e,n,t=0,o="",a=arguments.length;t<a;t++)(e=arguments[t])&&(n=Ol(e))&&(o&&(o+=" "),o+=n);return o}const dm=(e,n)=>{const t=new Array(e.length+n.length);for(let o=0;o<e.length;o++)t[o]=e[o];for(let o=0;o<n.length;o++)t[e.length+o]=n[o];return t},cm=(e,n)=>({classGroupId:e,validator:n}),Rl=(e=new Map,n=null,t)=>({nextPart:e,validators:n,classGroupId:t}),No="-",ja=[],fm="arbitrary..",pm=e=>{const n=mm(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:r=>{if(r.startsWith("[")&&r.endsWith("]"))return gm(r);const l=r.split(No),i=l[0]===""&&l.length>1?1:0;return Il(l,i,n)},getConflictingClassGroupIds:(r,l)=>{if(l){const i=o[r],u=t[r];return i?u?dm(u,i):i:u||ja}return t[r]||ja}}},Il=(e,n,t)=>{if(e.length-n===0)return t.classGroupId;const a=e[n],s=t.nextPart.get(a);if(s){const u=Il(e,n+1,s);if(u)return u}const r=t.validators;if(r===null)return;const l=n===0?e.join(No):e.slice(n).join(No),i=r.length;for(let u=0;u<i;u++){const d=r[u];if(d.validator(l))return d.classGroupId}},gm=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=e.slice(1,-1),t=n.indexOf(":"),o=n.slice(0,t);return o?fm+o:void 0})(),mm=e=>{const{theme:n,classGroups:t}=e;return vm(t,n)},vm=(e,n)=>{const t=Rl();for(const o in e){const a=e[o];ya(a,t,o,n)}return t},ya=(e,n,t,o)=>{const a=e.length;for(let s=0;s<a;s++){const r=e[s];hm(r,n,t,o)}},hm=(e,n,t,o)=>{if(typeof e=="string"){ym(e,n,t);return}if(typeof e=="function"){bm(e,n,t,o);return}xm(e,n,t,o)},ym=(e,n,t)=>{const o=e===""?n:Dl(n,e);o.classGroupId=t},bm=(e,n,t,o)=>{if(wm(e)){ya(e(o),n,t,o);return}n.validators===null&&(n.validators=[]),n.validators.push(cm(t,e))},xm=(e,n,t,o)=>{const a=Object.entries(e),s=a.length;for(let r=0;r<s;r++){const[l,i]=a[r];ya(i,Dl(n,l),t,o)}},Dl=(e,n)=>{let t=e;const o=n.split(No),a=o.length;for(let s=0;s<a;s++){const r=o[s];let l=t.nextPart.get(r);l||(l=Rl(),t.nextPart.set(r,l)),t=l}return t},wm=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Sm=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,t=Object.create(null),o=Object.create(null);const a=(s,r)=>{t[s]=r,n++,n>e&&(n=0,o=t,t=Object.create(null))};return{get(s){let r=t[s];if(r!==void 0)return r;if((r=o[s])!==void 0)return a(s,r),r},set(s,r){s in t?t[s]=r:a(s,r)}}},qr="!",za=":",Cm=[],Ua=(e,n,t,o,a)=>({modifiers:e,hasImportantModifier:n,baseClassName:t,maybePostfixModifierPosition:o,isExternal:a}),Em=e=>{const{prefix:n,experimentalParseClassName:t}=e;let o=a=>{const s=[];let r=0,l=0,i=0,u;const d=a.length;for(let h=0;h<d;h++){const y=a[h];if(r===0&&l===0){if(y===za){s.push(a.slice(i,h)),i=h+1;continue}if(y==="/"){u=h;continue}}y==="["?r++:y==="]"?r--:y==="("?l++:y===")"&&l--}const c=s.length===0?a:a.slice(i);let f=c,p=!1;c.endsWith(qr)?(f=c.slice(0,-1),p=!0):c.startsWith(qr)&&(f=c.slice(1),p=!0);const m=u&&u>i?u-i:void 0;return Ua(s,p,f,m)};if(n){const a=n+za,s=o;o=r=>r.startsWith(a)?s(r.slice(a.length)):Ua(Cm,!1,r,void 0,!0)}if(t){const a=o;o=s=>t({className:s,parseClassName:a})}return o},$m=e=>{const n=new Map;return e.orderSensitiveModifiers.forEach((t,o)=>{n.set(t,1e6+o)}),t=>{const o=[];let a=[];for(let s=0;s<t.length;s++){const r=t[s],l=r[0]==="[",i=n.has(r);l||i?(a.length>0&&(a.sort(),o.push(...a),a=[]),o.push(r)):a.push(r)}return a.length>0&&(a.sort(),o.push(...a)),o}},Pm=e=>({cache:Sm(e.cacheSize),parseClassName:Em(e),sortModifiers:$m(e),...pm(e)}),Om=/\s+/,Rm=(e,n)=>{const{parseClassName:t,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:s}=n,r=[],l=e.trim().split(Om);let i="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:c,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:h}=t(d);if(c){i=d+(i.length>0?" "+i:i);continue}let y=!!h,b=o(y?m.substring(0,h):m);if(!b){if(!y){i=d+(i.length>0?" "+i:i);continue}if(b=o(m),!b){i=d+(i.length>0?" "+i:i);continue}y=!1}const w=f.length===0?"":f.length===1?f[0]:s(f).join(":"),E=p?w+qr:w,O=E+b;if(r.indexOf(O)>-1)continue;r.push(O);const M=a(b,y);for(let R=0;R<M.length;++R){const W=M[R];r.push(E+W)}i=d+(i.length>0?" "+i:i)}return i},Im=(...e)=>{let n=0,t,o,a="";for(;n<e.length;)(t=e[n++])&&(o=Al(t))&&(a&&(a+=" "),a+=o);return a},Al=e=>{if(typeof e=="string")return e;let n,t="";for(let o=0;o<e.length;o++)e[o]&&(n=Al(e[o]))&&(t&&(t+=" "),t+=n);return t},Dm=(e,...n)=>{let t,o,a,s;const r=i=>{const u=n.reduce((d,c)=>c(d),e());return t=Pm(u),o=t.cache.get,a=t.cache.set,s=l,l(i)},l=i=>{const u=o(i);if(u)return u;const d=Rm(i,t);return a(i,d),d};return s=r,(...i)=>s(Im(...i))},Am=[],dt=e=>{const n=t=>t[e]||Am;return n.isThemeGetter=!0,n},Tl=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ml=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Tm=/^\d+\/\d+$/,Mm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,km=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Bm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wn=e=>Tm.test(e),Te=e=>!!e&&!Number.isNaN(Number(e)),on=e=>!!e&&Number.isInteger(Number(e)),gr=e=>e.endsWith("%")&&Te(e.slice(0,-1)),Wt=e=>Mm.test(e),Nm=()=>!0,Vm=e=>Fm.test(e)&&!km.test(e),Fl=()=>!1,jm=e=>Bm.test(e),zm=e=>Lm.test(e),Um=e=>!le(e)&&!ie(e),Gm=e=>Fn(e,Ll,Fl),le=e=>Tl.test(e),fn=e=>Fn(e,Nl,Vm),mr=e=>Fn(e,Wm,Te),Ga=e=>Fn(e,kl,Fl),Hm=e=>Fn(e,Bl,zm),xo=e=>Fn(e,Vl,jm),ie=e=>Ml.test(e),Vn=e=>kn(e,Nl),_m=e=>kn(e,Xm),Ha=e=>kn(e,kl),Km=e=>kn(e,Ll),qm=e=>kn(e,Bl),wo=e=>kn(e,Vl,!0),Fn=(e,n,t)=>{const o=Tl.exec(e);return o?o[1]?n(o[1]):t(o[2]):!1},kn=(e,n,t=!1)=>{const o=Ml.exec(e);return o?o[1]?n(o[1]):t:!1},kl=e=>e==="position"||e==="percentage",Bl=e=>e==="image"||e==="url",Ll=e=>e==="length"||e==="size"||e==="bg-size",Nl=e=>e==="length",Wm=e=>e==="number",Xm=e=>e==="family-name",Vl=e=>e==="shadow",Ym=()=>{const e=dt("color"),n=dt("font"),t=dt("text"),o=dt("font-weight"),a=dt("tracking"),s=dt("leading"),r=dt("breakpoint"),l=dt("container"),i=dt("spacing"),u=dt("radius"),d=dt("shadow"),c=dt("inset-shadow"),f=dt("text-shadow"),p=dt("drop-shadow"),m=dt("blur"),h=dt("perspective"),y=dt("aspect"),b=dt("ease"),w=dt("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...O(),ie,le],R=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto","contain","none"],T=()=>[ie,le,i],x=()=>[wn,"full","auto",...T()],P=()=>[on,"none","subgrid",ie,le],z=()=>["auto",{span:["full",on,ie,le]},on,ie,le],Z=()=>[on,"auto",ie,le],B=()=>["auto","min","max","fr",ie,le],j=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...T()],J=()=>[wn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],_=()=>[e,ie,le],Ee=()=>[...O(),Ha,Ga,{position:[ie,le]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",Km,Gm,{size:[ie,le]}],ge=()=>[gr,Vn,fn],pe=()=>["","none","full",u,ie,le],me=()=>["",Te,Vn,fn],Ae=()=>["solid","dashed","dotted","double"],Re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[Te,gr,Ha,Ga],He=()=>["","none",m,ie,le],ne=()=>["none",Te,ie,le],I=()=>["none",Te,ie,le],H=()=>[Te,ie,le],je=()=>[wn,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wt],breakpoint:[Wt],color:[Nm],container:[Wt],"drop-shadow":[Wt],ease:["in","out","in-out"],font:[Um],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wt],shadow:[Wt],spacing:["px",Te],text:[Wt],"text-shadow":[Wt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",wn,le,ie,y]}],container:["container"],columns:[{columns:[Te,le,ie,l]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[on,"auto",ie,le]}],basis:[{basis:[wn,"full","auto",l,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Te,wn,"auto","initial","none",le]}],grow:[{grow:["",Te,ie,le]}],shrink:[{shrink:["",Te,ie,le]}],order:[{order:[on,"first","last","none",ie,le]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[l,"screen",...J()]}],"min-w":[{"min-w":[l,"screen","none",...J()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[r]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",t,Vn,fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ie,mr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gr,le]}],"font-family":[{font:[_m,le,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ie,le]}],"line-clamp":[{"line-clamp":[Te,"none",ie,mr]}],leading:[{leading:[s,...T()]}],"list-image":[{"list-image":["none",ie,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ie,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_()}],"text-color":[{text:_()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Te,"from-font","auto",ie,fn]}],"text-decoration-color":[{decoration:_()}],"underline-offset":[{"underline-offset":[Te,"auto",ie,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},on,ie,le],radial:["",ie,le],conic:[on,ie,le]},qm,Hm]}],"bg-color":[{bg:_()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:_()}],"gradient-via":[{via:_()}],"gradient-to":[{to:_()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:_()}],"border-color-x":[{"border-x":_()}],"border-color-y":[{"border-y":_()}],"border-color-s":[{"border-s":_()}],"border-color-e":[{"border-e":_()}],"border-color-t":[{"border-t":_()}],"border-color-r":[{"border-r":_()}],"border-color-b":[{"border-b":_()}],"border-color-l":[{"border-l":_()}],"divide-color":[{divide:_()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Te,ie,le]}],"outline-w":[{outline:["",Te,Vn,fn]}],"outline-color":[{outline:_()}],shadow:[{shadow:["","none",d,wo,xo]}],"shadow-color":[{shadow:_()}],"inset-shadow":[{"inset-shadow":["none",c,wo,xo]}],"inset-shadow-color":[{"inset-shadow":_()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_()}],"ring-offset-w":[{"ring-offset":[Te,fn]}],"ring-offset-color":[{"ring-offset":_()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":_()}],"text-shadow":[{"text-shadow":["none",f,wo,xo]}],"text-shadow-color":[{"text-shadow":_()}],opacity:[{opacity:[Te,ie,le]}],"mix-blend":[{"mix-blend":[...Re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Te]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":_()}],"mask-image-linear-to-color":[{"mask-linear-to":_()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":_()}],"mask-image-t-to-color":[{"mask-t-to":_()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":_()}],"mask-image-r-to-color":[{"mask-r-to":_()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":_()}],"mask-image-b-to-color":[{"mask-b-to":_()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":_()}],"mask-image-l-to-color":[{"mask-l-to":_()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":_()}],"mask-image-x-to-color":[{"mask-x-to":_()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":_()}],"mask-image-y-to-color":[{"mask-y-to":_()}],"mask-image-radial":[{"mask-radial":[ie,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":_()}],"mask-image-radial-to-color":[{"mask-radial-to":_()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Te]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":_()}],"mask-image-conic-to-color":[{"mask-conic-to":_()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ie,le]}],filter:[{filter:["","none",ie,le]}],blur:[{blur:He()}],brightness:[{brightness:[Te,ie,le]}],contrast:[{contrast:[Te,ie,le]}],"drop-shadow":[{"drop-shadow":["","none",p,wo,xo]}],"drop-shadow-color":[{"drop-shadow":_()}],grayscale:[{grayscale:["",Te,ie,le]}],"hue-rotate":[{"hue-rotate":[Te,ie,le]}],invert:[{invert:["",Te,ie,le]}],saturate:[{saturate:[Te,ie,le]}],sepia:[{sepia:["",Te,ie,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ie,le]}],"backdrop-blur":[{"backdrop-blur":He()}],"backdrop-brightness":[{"backdrop-brightness":[Te,ie,le]}],"backdrop-contrast":[{"backdrop-contrast":[Te,ie,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Te,ie,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Te,ie,le]}],"backdrop-invert":[{"backdrop-invert":["",Te,ie,le]}],"backdrop-opacity":[{"backdrop-opacity":[Te,ie,le]}],"backdrop-saturate":[{"backdrop-saturate":[Te,ie,le]}],"backdrop-sepia":[{"backdrop-sepia":["",Te,ie,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ie,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Te,"initial",ie,le]}],ease:[{ease:["linear","initial",b,ie,le]}],delay:[{delay:[Te,ie,le]}],animate:[{animate:["none",w,ie,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,ie,le]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:I()}],"scale-x":[{"scale-x":I()}],"scale-y":[{"scale-y":I()}],"scale-z":[{"scale-z":I()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[ie,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:_()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie,le]}],fill:[{fill:["none",..._()]}],"stroke-w":[{stroke:[Te,Vn,fn,mr]}],stroke:[{stroke:["none",..._()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Qm=Dm(Ym);function Gt(...e){return Qm(um(e))}const Jm=K({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=Jt(t,"class"),s=xt(a,o);return(r,l)=>($(),Y(g(Hg),null,{default:C(()=>[S(g(Ug),De({...g(s),...r.$attrs},{class:g(Gt)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:C(()=>[re(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Zm=K({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(t,o)=>($(),Y(g(Kg),Xe(ot(n)),{default:C(()=>[re(t.$slots,"default")]),_:3},16))}}),ev={а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"e",ж:"zh",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"ts",ч:"ch",ш:"sh",щ:"sch",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya"," ":"_","-":"_"},ba=e=>{const n=e.toLowerCase();let t="";for(const o of n)t+=ev[o]??o;return t.replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").substring(0,50)},tv=(e,n)=>{let t=ba(e);return t&&!t.startsWith(n)&&(t=n+t),t},nv={class:"flex justify-center"},ov={class:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Добавить столбец"},rv={class:"space-y-4"},av={class:"space-y-3"},sv={key:0,class:"mt-1 text-xs text-red-600"},lv={class:"flex items-center gap-4 pt-1"},iv={class:"flex items-center gap-2 cursor-pointer"},uv={class:"flex items-center gap-2 cursor-pointer"},dv={class:"flex gap-2 pt-2"},cv=["disabled"],fv=K({__name:"AddColumnPopover",props:{existingColumns:{}},emits:["add"],setup(e,{emit:n}){const t=e,o=n,a=N(!1),s=N(null),r=N({label:"",name:"",type:"text",required:!1,searchable:!1}),l=ae(()=>r.value.name?t.existingColumns.some(c=>c.name===r.value.name):!1),i=()=>{if(!r.value.label){r.value.name="";return}r.value.name=ba(r.value.label)},u=()=>{!r.value.label||!r.value.name||l.value||(o("add",{name:r.value.name,label:r.value.label,type:r.value.type,required:r.value.required,searchable:r.value.searchable}),d())},d=()=>{a.value=!1,r.value={label:"",name:"",type:"text",required:!1,searchable:!1}};return Ge(a,c=>{c&&lt(()=>{var f;return(f=s.value)==null?void 0:f.focus()})}),(c,f)=>($(),Y(g(im),{open:a.value,"onUpdate:open":f[5]||(f[5]=p=>a.value=p)},{default:C(()=>[S(g(Zm),{"as-child":""},{default:C(()=>[S(g(ct),{"class-name":"w-40"},{default:C(()=>[v("div",nv,[v("button",ov,[S(g(qo),{class:"w-3.5 h-3.5"}),f[6]||(f[6]=se(" Столбец ",-1))])])]),_:1})]),_:1}),S(g(Jm),{class:"w-80",align:"end"},{default:C(()=>[v("div",rv,[f[13]||(f[13]=v("div",null,[v("h4",{class:"font-medium text-sm text-slate-900 mb-2"},"Новый столбец"),v("p",{class:"text-xs text-slate-500"},"Добавьте столбец в справочник")],-1)),v("div",av,[v("div",null,[f[7]||(f[7]=v("label",{class:"text-xs font-medium text-slate-700 mb-1 block"},"Название",-1)),Ne(v("input",{ref_key:"labelInputRef",ref:s,"onUpdate:modelValue":f[0]||(f[0]=p=>r.value.label=p),type:"text",placeholder:"Цена",class:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 transition-all",onInput:i,onKeydown:[Rn(u,["enter"]),Rn(d,["escape"])]},null,544),[[st,r.value.label]])]),v("div",null,[f[8]||(f[8]=v("label",{class:"text-xs font-medium text-slate-700 mb-1 block"},"Код (slug)",-1)),Ne(v("input",{"onUpdate:modelValue":f[1]||(f[1]=p=>r.value.name=p),type:"text",placeholder:"price",pattern:"^[a-z][a-z0-9_]*$",class:Oe(["w-full px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white font-mono focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 transition-all",{"border-red-300 bg-red-50":l.value}])},null,2),[[st,r.value.name]]),l.value?($(),k("p",sv," Столбец с таким именем уже существует ")):ve("",!0)]),v("div",null,[f[10]||(f[10]=v("label",{class:"text-xs font-medium text-slate-700 mb-1 block"},"Тип данных",-1)),Ne(v("select",{"onUpdate:modelValue":f[2]||(f[2]=p=>r.value.type=p),class:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 transition-all"},[...f[9]||(f[9]=[v("option",{value:"text"},"Текст",-1),v("option",{value:"number"},"Число",-1),v("option",{value:"date"},"Дата",-1),v("option",{value:"bool"},"Да/Нет",-1)])],512),[[yn,r.value.type]])]),v("div",lv,[v("label",iv,[Ne(v("input",{"onUpdate:modelValue":f[3]||(f[3]=p=>r.value.required=p),type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Qt,r.value.required]]),f[11]||(f[11]=v("span",{class:"text-xs text-slate-700"},"Обязательное",-1))]),v("label",uv,[Ne(v("input",{"onUpdate:modelValue":f[4]||(f[4]=p=>r.value.searchable=p),type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Qt,r.value.searchable]]),f[12]||(f[12]=v("span",{class:"text-xs text-slate-700"},"Поиск",-1))])])]),v("div",dv,[v("button",{onClick:u,disabled:!r.value.label||!r.value.name||l.value,class:"flex-1 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," Добавить ",8,cv),v("button",{onClick:d,class:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"}," Отмена ")])])]),_:1})]),_:1},8,["open"]))}}),pv=K({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const a=xt(e,n);return(s,r)=>($(),Y(g(Xg),Xe(ot(g(a))),{default:C(()=>[re(s.$slots,"default")]),_:3},16))}}),gv=K({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=Jt(t,"class"),s=xt(a,o);return(r,l)=>($(),Y(g(om),null,{default:C(()=>[S(g(Qg),De(g(s),{class:g(Gt)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:C(()=>[re(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),vr=K({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const n=e,t=Jt(n,"class"),o=Mn(t);return(a,s)=>($(),Y(g(Zg),De(g(o),{class:g(Gt)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e.inset&&"pl-8",n.class)}),{default:C(()=>[re(a.$slots,"default")]),_:3},16,["class"]))}}),mv=K({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const n=e,t=Jt(n,"class"),o=Mn(t);return(a,s)=>($(),Y(g(tm),De(g(o),{class:g(Gt)("px-2 py-1.5 text-sm font-semibold",e.inset&&"pl-8",n.class)}),{default:C(()=>[re(a.$slots,"default")]),_:3},16,["class"]))}}),_a=K({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=Jt(n,"class");return(o,a)=>($(),Y(g(am),De(g(t),{class:g(Gt)("-mx-1 my-1 h-px bg-muted",n.class)}),null,16,["class"]))}}),vv=K({__name:"DropdownMenuShortcut",props:{class:{}},setup(e){const n=e;return(t,o)=>($(),k("span",{class:Oe(g(Gt)("ml-auto text-xs tracking-widest opacity-60",n.class))},[re(t.$slots,"default")],2))}}),hv=K({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=Mn(e);return(o,a)=>($(),Y(g(lm),De({class:"outline-none"},g(t)),{default:C(()=>[re(o.$slots,"default")]),_:3},16))}}),yv={class:"select-none truncate"},bv={key:0,class:"text-[10px] text-slate-400 font-mono shrink-0"},xv={class:"text-xs"},wv={class:"font-medium"},Sv={class:"text-muted-foreground ml-1"},Cv={class:"text-xs text-muted-foreground mt-0.5"},Ev={key:0},$v={key:1},Pv={class:"font-mono text-slate-400 ml-1 font-normal"},Ov=K({__name:"ColumnHeaderDropdown",props:{column:{},isOnlyColumn:{type:Boolean}},emits:["dragstart","edit","hide","delete"],setup(e){const n=e,t={text:"Aa",number:"#",date:"📅",bool:"☑"},o={text:"Текст",number:"Число",date:"Дата",bool:"Да/Нет"},a=ae(()=>t[n.column.type]??n.column.type),s=ae(()=>o[n.column.type]??n.column.type);return(r,l)=>($(),Y(g(pv),null,{default:C(()=>[S(g(Hs),{"delay-duration":500},{default:C(()=>[S(g(Vr),null,{default:C(()=>[S(g(zr),{"as-child":""},{default:C(()=>[S(g(hv),{"as-child":""},{default:C(()=>[v("div",{class:"flex items-center gap-1.5 cursor-pointer group hover:bg-slate-50 -mx-2 px-2 py-1 rounded transition-colors",draggable:"true",onDragstart:l[0]||(l[0]=i=>r.$emit("dragstart",i))},[S(g(Is),{class:"w-3 h-3 text-slate-300 group-hover:text-slate-500 shrink-0"}),v("span",yv,q(e.column.label),1),e.column.type!=="text"?($(),k("span",bv,q(a.value),1)):ve("",!0),S(g(Rd),{class:"w-3 h-3 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity ml-auto shrink-0"})],32)]),_:1})]),_:1}),S(g(jr),{side:"top","side-offset":8},{default:C(()=>[v("p",xv,[v("span",wv,q(e.column.label),1),v("span",Sv,"("+q(e.column.name)+")",1)]),v("p",Cv,[se(q(s.value)+" ",1),e.column.required?($(),k("span",Ev," •  обязательное")):ve("",!0),e.column.searchable?($(),k("span",$v," •  поиск")):ve("",!0)])]),_:1})]),_:1})]),_:1}),S(g(gv),{align:"start",class:"w-52"},{default:C(()=>[S(g(mv),{class:"text-xs"},{default:C(()=>[se(' Столбец "'+q(e.column.label)+'" ',1),v("span",Pv,q(e.column.name),1)]),_:1}),S(g(_a)),S(g(vr),{onClick:l[1]||(l[1]=i=>r.$emit("edit"))},{default:C(()=>[S(g(Ss),{class:"w-4 h-4 mr-2"}),l[4]||(l[4]=se(" Настройки столбца ",-1))]),_:1}),S(g(vr),{onClick:l[2]||(l[2]=i=>r.$emit("hide"))},{default:C(()=>[S(g($s),{class:"w-4 h-4 mr-2"}),l[6]||(l[6]=se(" Скрыть столбец ",-1)),S(g(vv),null,{default:C(()=>[...l[5]||(l[5]=[se("H",-1)])]),_:1})]),_:1}),S(g(_a)),S(g(vr),{disabled:e.isOnlyColumn,class:"text-red-600 focus:text-red-600 focus:bg-red-50",onClick:l[3]||(l[3]=i=>r.$emit("delete"))},{default:C(()=>[S(g(In),{class:"w-4 h-4 mr-2"}),l[7]||(l[7]=se(" Удалить столбец ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1}))}}),Rv=K({__name:"ContextMenu",props:{pressOpenDelay:{},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const a=xt(e,n);return(s,r)=>($(),Y(g(xg),Xe(ot(g(a))),{default:C(()=>[re(s.$slots,"default")]),_:3},16))}}),Iv=K({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideFlip:{type:Boolean},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=Jt(t,"class"),s=xt(a,o);return(r,l)=>($(),Y(g(Rg),null,{default:C(()=>[S(g(Sg),De(g(s),{class:g(Gt)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:C(()=>[re(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),hr=K({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(e,{emit:n}){const t=e,o=n,a=Jt(t,"class"),s=xt(a,o);return(r,l)=>($(),Y(g(Eg),De(g(s),{class:g(Gt)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.inset&&"pl-8",t.class)}),{default:C(()=>[re(r.$slots,"default")]),_:3},16,["class"]))}}),Dv=K({__name:"ContextMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const n=e,t=Jt(n,"class");return(o,a)=>($(),Y(g(Pg),De(g(t),{class:g(Gt)("px-2 py-1.5 text-sm font-semibold text-foreground",e.inset&&"pl-8",n.class)}),{default:C(()=>[re(o.$slots,"default")]),_:3},16,["class"]))}}),Ka=K({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=Jt(n,"class");return(o,a)=>($(),Y(g(Dg),De(g(t),{class:g(Gt)("-mx-1 my-1 h-px bg-border",n.class)}),null,16,["class"]))}}),yr=K({__name:"ContextMenuShortcut",props:{class:{}},setup(e){const n=e;return(t,o)=>($(),k("span",{class:Oe(g(Gt)("ml-auto text-xs tracking-widest text-muted-foreground",n.class))},[re(t.$slots,"default")],2))}}),Av=K({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=Mn(e);return(o,a)=>($(),Y(g(Tg),Xe(ot(g(t))),{default:C(()=>[re(o.$slots,"default")]),_:3},16))}}),Tv=K({__name:"SheetClose",props:{className:{}},setup(e){return(n,t)=>($(),Y(g(xs),{class:Oe(["p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors","focus:outline-none focus:ring-2 focus:ring-indigo-400",e.className])},{default:C(()=>[re(n.$slots,"default",{},()=>[S(g(lo),{class:"h-5 w-5"})]),t[0]||(t[0]=v("span",{class:"sr-only"},"Закрыть",-1))]),_:3},8,["class"]))}}),Mv=K({__name:"SheetFooter",props:{className:{}},setup(e){return(n,t)=>($(),k("div",{class:Oe(["flex-shrink-0 bg-white border-t border-slate-100 px-6 py-4",e.className])},[re(n.$slots,"default")],2))}}),Fv=e=>{const{delay:n=500,onLongPress:t}=e,o=N(null),a=N(!1),s=i=>{a.value=!1,o.value=setTimeout(()=>{a.value=!0,t()},n)},r=()=>{o.value&&(clearTimeout(o.value),o.value=null)},l=i=>{a.value&&i.preventDefault(),r(),a.value=!1};return An(r),{onTouchstart:s,onTouchend:l,onTouchmove:r,onTouchcancel:r,isLongPressing:a}},kv={class:"py-2 space-y-1"},Bv=K({__name:"RowContextMenu",emits:["edit","duplicate","delete"],setup(e,{emit:n}){const t=n,o=N(!1),{onTouchstart:a,onTouchend:s,onTouchmove:r,onTouchcancel:l}=Fv({delay:500,onLongPress:()=>{o.value=!0}}),i=ae(()=>({onTouchstart:a,onTouchend:s,onTouchmove:r,onTouchcancel:l}));return(u,d)=>($(),k(Ke,null,[S(g(Rv),null,{default:C(()=>[S(g(Av),{"as-child":""},{default:C(()=>[v("div",De(i.value,{class:"contents"}),[re(u.$slots,"default")],16)]),_:3}),S(g(Iv),{class:"w-56"},{default:C(()=>[S(g(Dv),{class:"text-xs"},{default:C(()=>[...d[7]||(d[7]=[se("Действия с записью",-1)])]),_:1}),S(g(Ka)),S(g(hr),{onClick:d[0]||(d[0]=c=>t("edit"))},{default:C(()=>[S(g(Ar),{class:"w-4 h-4 mr-2"}),d[9]||(d[9]=se(" Редактировать ",-1)),S(g(yr),null,{default:C(()=>[...d[8]||(d[8]=[se("Enter",-1)])]),_:1})]),_:1}),S(g(hr),{onClick:d[1]||(d[1]=c=>t("duplicate"))},{default:C(()=>[S(g(Ra),{class:"w-4 h-4 mr-2"}),d[11]||(d[11]=se(" Дублировать ",-1)),S(g(yr),null,{default:C(()=>[...d[10]||(d[10]=[se("Ctrl+D",-1)])]),_:1})]),_:1}),S(g(Ka)),S(g(hr),{class:"text-red-600 focus:text-red-600 focus:bg-red-50",onClick:d[2]||(d[2]=c=>t("delete"))},{default:C(()=>[S(g(In),{class:"w-4 h-4 mr-2"}),d[13]||(d[13]=se(" Удалить ",-1)),S(g(yr),null,{default:C(()=>[...d[12]||(d[12]=[se("Del",-1)])]),_:1})]),_:1})]),_:1})]),_:3}),S(g(aa),{open:o.value,"onUpdate:open":d[6]||(d[6]=c=>o.value=c)},{default:C(()=>[S(g(sa),{side:"bottom","class-name":"rounded-t-2xl"},{default:C(()=>[S(g(la),null,{default:C(()=>[S(g(ia),{class:"text-sm"},{default:C(()=>[...d[14]||(d[14]=[se("Действия с записью",-1)])]),_:1})]),_:1}),v("div",kv,[v("button",{onClick:d[3]||(d[3]=c=>{o.value=!1,t("edit")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition-colors"},[S(g(Ar),{class:"w-5 h-5 text-slate-500"}),d[15]||(d[15]=se(" Редактировать ",-1))]),v("button",{onClick:d[4]||(d[4]=c=>{o.value=!1,t("duplicate")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition-colors"},[S(g(Ra),{class:"w-5 h-5 text-slate-500"}),d[16]||(d[16]=se(" Дублировать ",-1))]),d[18]||(d[18]=v("div",{class:"border-t border-slate-100 my-1"},null,-1)),v("button",{onClick:d[5]||(d[5]=c=>{o.value=!1,t("delete")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[S(g(In),{class:"w-5 h-5"}),d[17]||(d[17]=se(" Удалить ",-1))])])]),_:1})]),_:1},8,["open"])],64))}}),Lv={class:"flex-1 overflow-y-auto px-6 py-4 space-y-4"},Nv={class:"flex items-center gap-1.5 text-sm font-medium text-slate-700"},Vv={key:0,class:"text-red-500 text-xs"},jv={class:"text-xs text-slate-400 font-mono ml-auto"},zv={key:0,class:"flex items-center gap-3 px-3 py-2.5 border border-slate-200 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors"},Uv=["checked","onChange"],Gv={class:"text-sm text-slate-700"},Hv=["onUpdate:modelValue","placeholder"],_v=["onUpdate:modelValue","placeholder"],Kv=["onUpdate:modelValue"],qv=["onUpdate:modelValue","placeholder"],Wv={key:0,class:"text-center py-8 text-slate-400 text-sm"},Xv={class:"flex items-center gap-3 w-full"},Yv=["disabled"],Qv={key:0,class:"text-xs text-green-600 mt-2 text-center w-full"},Jv=K({__name:"AddRowSheet",props:{open:{type:Boolean},columns:{},saving:{type:Boolean}},emits:["update:open","save"],setup(e,{emit:n}){const t=e,o=n,a=N({}),s=N(0),r=N({}),l=ae(()=>Object.values(a.value).some(y=>y!=null&&y!==""&&y!==!1)),i=y=>pa(y),u=(y,b)=>bf(y,b),d=(y,b)=>{r.value[y]=b},c=()=>{const y={};t.columns.forEach(b=>{y[b.name]=b.type==="bool"?!1:""}),a.value=y},f=()=>{lt(()=>{var b;const y=t.columns.find(w=>w.type!=="bool");y&&r.value[y.name]&&((b=r.value[y.name])==null||b.focus())})},p=()=>{if(!l.value||t.saving)return;const y={};Object.entries(a.value).forEach(([b,w])=>{w!==""&&w!==null&&w!==void 0&&(y[b]=w)}),o("save",y),s.value++,c(),f()},m=()=>{o("update:open",!1)},h=y=>{y.shiftKey||(y.preventDefault(),p())};return Ge(()=>t.open,y=>{y&&(s.value=0,c(),f())}),(y,b)=>($(),Y(g(aa),{open:e.open,"onUpdate:open":b[0]||(b[0]=w=>y.$emit("update:open",w))},{default:C(()=>[S(g(sa),{side:"right","class-name":"w-full max-w-lg flex flex-col"},{default:C(()=>[S(g(la),null,{default:C(()=>[S(g(ia),null,{default:C(()=>[...b[1]||(b[1]=[se("Новая запись",-1)])]),_:1}),b[2]||(b[2]=v("p",{class:"text-sm text-slate-500 mt-1"}," Заполните поля и нажмите «Сохранить». Форма останется открытой для добавления следующей записи. ",-1))]),_:1}),v("div",Lv,[($(!0),k(Ke,null,nt(e.columns,w=>($(),k("div",{key:w.name,class:"space-y-1.5"},[v("label",Nv,[se(q(w.label)+" ",1),w.required?($(),k("span",Vv,"*")):ve("",!0),v("span",jv,q(w.name),1)]),w.type==="bool"?($(),k("label",zv,[v("input",{checked:!!a.value[w.name],onChange:E=>a.value[w.name]=E.target.checked,type:"checkbox",class:"w-5 h-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,Uv),v("span",Gv,q(a.value[w.name]?"Да":"Нет"),1)])):w.type==="text"&&i(w.name)?Ne(($(),k("textarea",{key:1,ref_for:!0,ref:E=>d(w.name,E),"onUpdate:modelValue":E=>a.value[w.name]=E,placeholder:u(w.name,w.label),rows:"3",class:"w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg bg-white focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 transition-all resize-none"},null,8,Hv)),[[st,a.value[w.name]]]):w.type==="number"?Ne(($(),k("input",{key:2,ref_for:!0,ref:E=>d(w.name,E),"onUpdate:modelValue":E=>a.value[w.name]=E,type:"number",step:"any",placeholder:u(w.name,w.label),class:"w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg bg-white focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 transition-all font-mono"},null,8,_v)),[[st,a.value[w.name],void 0,{number:!0}]]):w.type==="date"?Ne(($(),k("input",{key:3,ref_for:!0,ref:E=>d(w.name,E),"onUpdate:modelValue":E=>a.value[w.name]=E,type:"date",class:"w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg bg-white focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 transition-all"},null,8,Kv)),[[st,a.value[w.name]]]):Ne(($(),k("input",{key:4,ref_for:!0,ref:E=>d(w.name,E),"onUpdate:modelValue":E=>a.value[w.name]=E,type:"text",placeholder:u(w.name,w.label),class:"w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg bg-white focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 transition-all",onKeydown:Rn(h,["enter"])},null,40,qv)),[[st,a.value[w.name]]])]))),128)),e.columns.length===0?($(),k("div",Wv," Нет столбцов. Сначала добавьте столбцы в справочник. ")):ve("",!0)]),S(g(Mv),null,{default:C(()=>[v("div",Xv,[v("button",{onClick:p,disabled:!l.value||e.saving,class:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[e.saving?($(),Y(g(bn),{key:0,class:"w-4 h-4 animate-spin"})):($(),Y(g(Id),{key:1,class:"w-4 h-4"})),b[3]||(b[3]=se(" Сохранить ",-1))],8,Yv),v("button",{onClick:m,class:"px-4 py-2.5 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"}," Закрыть ")]),s.value>0?($(),k("p",Qv," Добавлено записей за сессию: "+q(s.value),1)):ve("",!0)]),_:1})]),_:1})]),_:1},8,["open"]))}}),Zv={class:"space-y-4"},eh={class:"flex items-center justify-between gap-4"},th={class:"flex items-center gap-3 min-w-0"},nh={class:"min-w-0"},oh={class:"text-lg font-bold text-slate-900 truncate"},rh={class:"text-xs text-slate-500"},ah={class:"font-mono text-slate-400"},sh={key:0,class:"flex items-center justify-between gap-4 flex-wrap"},lh={class:"text-xs text-slate-400 flex items-center gap-1.5"},ih={class:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-slate-100 rounded text-slate-500"},uh={class:"flex items-center gap-2"},dh=["disabled"],ch=["disabled"],fh={key:1,class:"flex justify-center py-12"},ph={key:2,class:"bg-background rounded-md border border-border p-12 text-center"},gh={class:"max-w-md mx-auto"},mh={class:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4"},vh={class:"flex items-center justify-center gap-3"},hh={key:3,class:"bg-background rounded-md border border-border p-8 text-center"},yh={class:"text-slate-500"},bh={key:4,class:"shadow-sm"},xh=["checked","indeterminate"],wh=["checked","onChange"],Sh={class:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},Ch=["onClick"],Eh={key:0,class:"flex items-center justify-between px-4 py-3 border-t border-slate-100 bg-slate-50"},$h={class:"text-sm text-slate-500"},Ph={class:"flex items-center gap-1"},Oh=["disabled"],Rh=["onClick"],Ih=["disabled"],Dh=50,Ah=K({__name:"DirectoryDetail",props:{directory:{},items:{},loading:{type:Boolean}},emits:["back","settings","import","export","update","create","delete","deleteSelected","addColumn","deleteColumn","updateColumns"],setup(e,{emit:n}){const t=e,o=n,a=N(null),s=N(""),r=N(""),l=N(!1),i=N([]),u=N([]),d=N(new Set),c=N(!1),f=N(!1),p=N(""),m=N({}),h=ae(()=>t.directory.columns||[]),y=ae(()=>h.value.filter(L=>!d.value.has(L.name))),b=N([]),w=N(null),E=N(null);Ge(()=>t.directory.columns,L=>{if(L&&L.length>0){const G=b.value.filter(we=>L.some(Be=>Be.name===we)),Q=L.map(we=>we.name).filter(we=>!G.includes(we));b.value=[...G,...Q]}},{immediate:!0});const O=ae(()=>{const L=y.value;return b.value.length===0?L:b.value.map(G=>L.find(Q=>Q.name===G)).filter(G=>G!==void 0)}),M=ae(()=>O.value.map(L=>({id:L.name,accessorFn:G=>G.data[L.name],header:L.label,meta:L,filterFn:"includesString"}))),R=mf({get data(){return t.items},get columns(){return M.value},state:{get globalFilter(){return p.value},get rowSelection(){return m.value}},onGlobalFilterChange:L=>{p.value=typeof L=="function"?L(p.value):L},onRowSelectionChange:L=>{m.value=typeof L=="function"?L(m.value):L},getCoreRowModel:af(),getFilteredRowModel:cf(),getPaginationRowModel:ff(),getRowId:L=>L.id,globalFilterFn:(L,G,Q)=>{const we=String(Q).toLowerCase();return h.value.some(Be=>{const it=L.original.data[Be.name];return it&&String(it).toLowerCase().includes(we)})},initialState:{pagination:{pageSize:10}}}),W=ae(()=>Object.keys(m.value).filter(L=>m.value[L])),T=ae(()=>Fs(t.directory.items_count,["запись","записи","записей"])),x=L=>hf(L.type,L.name),P=ae(()=>{const L=[],G=R.getPageCount(),Q=R.getState().pagination.pageIndex+1;if(G<=5)for(let we=1;we<=G;we++)L.push(we);else Q<=3?L.push(1,2,3,4,5):Q>=G-2?L.push(G-4,G-3,G-2,G-1,G):L.push(Q-2,Q-1,Q,Q+1,Q+2);return L}),z=(L,G)=>{w.value=G,L.dataTransfer&&(L.dataTransfer.effectAllowed="move",L.dataTransfer.setData("text/plain",String(G)))},Z=(L,G)=>{L.preventDefault(),L.dataTransfer&&(L.dataTransfer.dropEffect="move")},B=()=>{},j=(L,G)=>{if(L.preventDefault(),w.value===null||w.value===G){U();return}const Q=[...b.value],[we]=Q.splice(w.value,1);Q.splice(G,0,we),b.value=Q,U()},U=()=>{w.value=null,E.value=null},F=()=>{a.value&&te(),c.value=!0},J=async L=>{if(!f.value){f.value=!0;try{o("create",L),await new Promise(G=>setTimeout(G,200))}finally{f.value=!1}}},_=(L,G)=>{var Q,we;return((Q=a.value)==null?void 0:Q.itemId)===L&&((we=a.value)==null?void 0:we.colName)===G},Ee=(L,G)=>{a.value&&ee(),a.value={itemId:L.id,colName:G.name};const Q=L.data[G.name];s.value=Q??"",r.value=Q??""},te=()=>{a.value=null,s.value="",r.value=""},ee=async()=>{if(!a.value||l.value)return;const{itemId:L,colName:G}=a.value,Q=s.value;if(Q===r.value){te();return}const we=t.items.find(Be=>Be.id===L);if(!we){te();return}l.value=!0;try{const Be=Q===""?null:Q,it={...we.data,[G]:Be};He({itemId:L,colName:G,oldValue:r.value,newValue:Be,timestamp:Date.now()}),o("update",L,it),await new Promise(wt=>setTimeout(wt,200))}finally{l.value=!1,te()}},ge=()=>{setTimeout(()=>{a.value&&ee()},150)},pe=(L,G,Q,we,Be)=>{if(L.key==="Escape"){L.preventDefault(),te();return}if(L.key==="Enter"&&!L.shiftKey){L.preventDefault(),ee();return}L.key==="Tab"&&(L.preventDefault(),ee(),lt(()=>{const it=O.value,wt=R.getRowModel().rows;let pt=L.shiftKey?Be-1:Be+1,Bt=we;if(pt>=it.length?(pt=0,Bt=we+1):pt<0&&(pt=it.length-1,Bt=we-1),Bt>=0&&Bt<wt.length){const tn=wt[Bt].original,nn=it[pt];tn&&nn&&Ee(tn,nn)}}))},me=L=>{o("settings")},Ae=L=>{d.value.add(L.name)},Re=()=>{d.value.clear()},ue=L=>{h.value.length<=1||o("deleteColumn",L.name)},He=L=>{i.value.push(L),i.value.length>Dh&&i.value.shift(),u.value=[]},ne=ae(()=>i.value.length>0),I=ae(()=>u.value.length>0),H=()=>{const L=i.value.pop();if(!L)return;u.value.push(L);const G=t.items.find(we=>we.id===L.itemId);if(!G)return;const Q={...G.data,[L.colName]:L.oldValue};o("update",L.itemId,Q)},je=()=>{const L=u.value.pop();if(!L)return;i.value.push(L);const G=t.items.find(we=>we.id===L.itemId);if(!G)return;const Q={...G.data,[L.colName]:L.newValue};o("update",L.itemId,Q)},Je=L=>{const G=O.value[0];G&&Ee(L,G)},ke=L=>{o("create",{...L.data})},rt=L=>{const G=L.ctrlKey||L.metaKey;if(G&&L.key==="z"&&!L.shiftKey){ne.value&&(L.preventDefault(),H());return}if(G&&L.key==="z"&&L.shiftKey||G&&L.key==="y"){I.value&&(L.preventDefault(),je());return}if(G&&L.key==="n"&&!c.value&&!a.value){L.preventDefault(),F();return}if((L.key==="Delete"||L.key==="Backspace")&&!a.value&&!c.value){const Q=W.value;Q.length>0&&(L.preventDefault(),o("deleteSelected",Q))}};return Kt(()=>{window.addEventListener("keydown",rt)}),An(()=>{window.removeEventListener("keydown",rt)}),Ge(()=>t.items,()=>{m.value={}}),Ge(()=>R.getState().pagination.pageIndex,()=>{te()}),(L,G)=>($(),k("div",Zv,[v("div",eh,[v("div",th,[v("button",{onClick:G[0]||(G[0]=Q=>L.$emit("back")),class:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors text-sm font-medium"},[S(g(Tr),{class:"w-4 h-4"}),G[13]||(G[13]=v("span",null,"Все справочники",-1))]),G[15]||(G[15]=v("div",{class:"w-px h-6 bg-slate-200"},null,-1)),v("div",nh,[v("h3",oh,q(e.directory.name),1),v("p",rh,[v("span",ah,q(e.directory.tool_name),1),G[14]||(G[14]=v("span",{class:"mx-1.5"},"•",-1)),v("span",null,q(e.directory.items_count)+" "+q(T.value),1)])])]),v("button",{onClick:G[1]||(G[1]=Q=>L.$emit("settings")),class:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors text-sm font-medium"},[S(g(Ar),{class:"w-4 h-4"}),G[16]||(G[16]=v("span",null,"Редактировать",-1))])]),S(Of,{"add-disabled":!1,"has-items":e.items.length>0,"selected-count":Object.keys(m.value).length,"search-query":p.value,onAddRow:F,onImport:G[2]||(G[2]=Q=>L.$emit("import")),onExport:G[3]||(G[3]=Q=>L.$emit("export")),onDeleteSelected:G[4]||(G[4]=Q=>L.$emit("deleteSelected",W.value)),"onUpdate:searchQuery":G[5]||(G[5]=Q=>p.value=Q)},null,8,["has-items","selected-count","search-query"]),e.items.length>0?($(),k("div",sh,[v("p",lh,[v("span",ih,[S(g(Ud),{class:"w-3 h-3"}),G[17]||(G[17]=se(" Клик ",-1))]),G[18]||(G[18]=ta(' редактирование <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Tab</span> далее <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Enter</span> сохранить <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Esc</span> отмена <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">ПКМ</span> меню ',13))]),v("div",uh,[d.value.size>0?($(),k("button",{key:0,onClick:Re,class:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded-lg transition-colors"},[S(g($s),{class:"w-3 h-3"}),se(" "+q(d.value.size)+" скрыто ",1),S(g(lo),{class:"w-3 h-3 ml-0.5"})])):ve("",!0),S(g(Hs),{"delay-duration":300},{default:C(()=>[S(g(Vr),null,{default:C(()=>[S(g(zr),{"as-child":""},{default:C(()=>[v("button",{onClick:H,disabled:!ne.value,class:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed"},[S(g(_d),{class:"w-3.5 h-3.5"})],8,dh)]),_:1}),S(g(jr),{side:"bottom"},{default:C(()=>[...G[19]||(G[19]=[v("p",{class:"text-xs"},[se("Отменить "),v("kbd",{class:"ml-1 px-1 py-0.5 bg-slate-700 rounded text-[10px]"},"Ctrl+Z")],-1)])]),_:1})]),_:1}),S(g(Vr),null,{default:C(()=>[S(g(zr),{"as-child":""},{default:C(()=>[v("button",{onClick:je,disabled:!I.value,class:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed"},[S(g(Gd),{class:"w-3.5 h-3.5"})],8,ch)]),_:1}),S(g(jr),{side:"bottom"},{default:C(()=>[...G[20]||(G[20]=[v("p",{class:"text-xs"},[se("Повторить "),v("kbd",{class:"ml-1 px-1 py-0.5 bg-slate-700 rounded text-[10px]"},"Ctrl+Shift+Z")],-1)])]),_:1})]),_:1})]),_:1})])])):ve("",!0),e.loading?($(),k("div",fh,[S(g(bn),{class:"w-8 h-8 animate-spin text-indigo-600"})])):e.items.length===0&&!p.value?($(),k("div",ph,[v("div",gh,[v("div",mh,[S(g(Dd),{class:"h-8 w-8 text-slate-400"})]),G[21]||(G[21]=v("h3",{class:"text-lg font-bold text-slate-900"},"Записей пока нет",-1)),G[22]||(G[22]=v("p",{class:"text-slate-500 mt-2 mb-6"}," Добавьте записи вручную или загрузите из CSV-файла ",-1)),v("div",vh,[v("button",{onClick:F,class:"px-5 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Добавить запись "),v("button",{onClick:G[6]||(G[6]=Q=>L.$emit("import")),class:"px-5 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-md text-sm font-medium hover:bg-slate-50 transition-colors"}," Загрузить CSV ")])])])):g(R).getRowModel().rows.length===0&&p.value?($(),k("div",hh,[v("p",yh,'Ничего не найдено по запросу "'+q(p.value)+'"',1)])):g(R).getRowModel().rows.length>0?($(),k("div",bh,[S(g(Ro),null,{default:C(()=>[S(g(Io),null,{default:C(()=>[S(g($t),null,{default:C(()=>[S(g(ct),{class:"w-12"},{default:C(()=>[v("input",{type:"checkbox",checked:g(R).getIsAllPageRowsSelected(),indeterminate:g(R).getIsSomePageRowsSelected(),onChange:G[7]||(G[7]=Q=>g(R).toggleAllPageRowsSelected()),class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,xh)]),_:1}),($(!0),k(Ke,null,nt(g(R).getHeaderGroups()[0].headers.filter(Q=>Q.id!=="select"&&Q.id!=="actions"),Q=>($(),Y(g(ct),{key:Q.id,onDragover:At(we=>Z(we,Q.index-1),["prevent"]),onDragenter:At(we=>E.value=Q.index-1,["prevent"]),onDragleave:B,onDrop:we=>j(we,Q.index-1),onDragend:U,"class-name":`select-none transition-all ${E.value===Q.index-1&&w.value!==Q.index-1?"bg-indigo-100 scale-105":""} ${w.value===Q.index-1?"opacity-50":""}`,style:oo({minWidth:x(Q.column.columnDef.meta)})},{default:C(()=>[S(Ov,{column:Q.column.columnDef.meta,"is-only-column":h.value.length<=1,onDragstart:we=>z(we,Q.index-1),onEdit:we=>me(Q.column.columnDef.meta),onHide:we=>Ae(Q.column.columnDef.meta),onDelete:we=>ue(Q.column.columnDef.meta)},null,8,["column","is-only-column","onDragstart","onEdit","onHide","onDelete"])]),_:2},1032,["onDragover","onDragenter","onDrop","class-name","style"]))),128)),S(fv,{"existing-columns":h.value,onAdd:G[8]||(G[8]=Q=>L.$emit("addColumn",Q))},null,8,["existing-columns"]),S(g(ct),{"class-name":"w-16"})]),_:1})]),_:1}),S(g(Do),null,{default:C(()=>[($(!0),k(Ke,null,nt(g(R).getRowModel().rows,Q=>($(),Y(Bv,{key:Q.id,onEdit:we=>Je(Q.original),onDuplicate:we=>ke(Q.original),onDelete:we=>L.$emit("delete",Q.original.id)},{default:C(()=>{var we;return[S(g($t),{class:Oe(["group",{"bg-indigo-50/30":((we=a.value)==null?void 0:we.itemId)===Q.original.id}])},{default:C(()=>[S(g(Fe),{"class-name":"px-4 py-2"},{default:C(()=>[v("input",{type:"checkbox",checked:Q.getIsSelected(),onChange:Be=>Q.toggleSelected(),class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,wh)]),_:2},1024),($(!0),k(Ke,null,nt(O.value,Be=>($(),Y(g(Fe),{key:Be.name,"class-name":"px-1 py-1",style:oo({minWidth:x(Be)})},{default:C(()=>{var it,wt;return[S(jf,{column:Be,"display-value":Q.original.data[Be.name],"model-value":((it=a.value)==null?void 0:it.itemId)===Q.original.id&&((wt=a.value)==null?void 0:wt.colName)===Be.name?s.value:Q.original.data[Be.name],editing:_(Q.original.id,Be.name),saving:l.value,"onUpdate:modelValue":G[9]||(G[9]=pt=>s.value=pt),onStartEdit:pt=>Ee(Q.original,Be),onBlur:ge,onKeydown:pt=>pe(pt,Q.original,Be,Q.index,O.value.indexOf(Be)),onSave:ee},null,8,["column","display-value","model-value","editing","saving","onStartEdit","onKeydown"])]}),_:2},1032,["style"]))),128)),S(g(Fe),{"class-name":"px-2 py-2 w-40"}),S(g(Fe),{"class-name":"px-4 py-2 w-16"},{default:C(()=>[v("div",Sh,[v("button",{onClick:Be=>L.$emit("delete",Q.original.id),class:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Удалить"},[S(g(In),{class:"w-4 h-4"})],8,Ch)])]),_:2},1024)]),_:2},1032,["class"])]}),_:2},1032,["onEdit","onDuplicate","onDelete"]))),128))]),_:1})]),_:1}),g(R).getPageCount()>1?($(),k("div",Eh,[v("p",$h," Показано "+q(g(R).getState().pagination.pageIndex*g(R).getState().pagination.pageSize+1)+"-"+q(Math.min((g(R).getState().pagination.pageIndex+1)*g(R).getState().pagination.pageSize,g(R).getFilteredRowModel().rows.length))+" из "+q(g(R).getFilteredRowModel().rows.length),1),v("div",Ph,[v("button",{disabled:!g(R).getCanPreviousPage(),onClick:G[10]||(G[10]=Q=>g(R).previousPage()),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[S(g(Ps),{class:"w-4 h-4"})],8,Oh),($(!0),k(Ke,null,nt(P.value,Q=>($(),k("button",{key:Q,onClick:we=>g(R).setPageIndex(Q-1),class:Oe(["min-w-[32px] h-8 px-2 text-sm font-medium rounded-lg transition-colors",[g(R).getState().pagination.pageIndex===Q-1?"bg-indigo-600 text-white":"text-slate-600 hover:bg-white"]])},q(Q),11,Rh))),128)),v("button",{disabled:!g(R).getCanNextPage(),onClick:G[11]||(G[11]=Q=>g(R).nextPage()),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[S(g(Os),{class:"w-4 h-4"})],8,Ih)])])):ve("",!0)])):ve("",!0),S(Jv,{open:c.value,columns:O.value,saving:f.value,"onUpdate:open":G[12]||(G[12]=Q=>c.value=Q),onSave:J},null,8,["open","columns","saving"])]))}}),xa=K({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const a=ws(e,n);return(s,r)=>($(),Y(g(wd),Xe(ot(g(a))),{default:C(()=>[re(s.$slots,"default")]),_:3},16))}}),wa=K({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},className:{default:"max-w-xl px-4 sm:px-0"}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=ws(e,n),s=r=>{const l=r.target;l!=null&&l.closest("[data-sonner-toaster]")&&r.preventDefault()};return(r,l)=>($(),Y(g(Sd),null,{default:C(()=>[S(g(Cd),{class:"fixed inset-0 z-[60] bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),S(g(Ed),De({class:["fixed left-1/2 top-1/2 z-[60] w-full -translate-x-1/2 -translate-y-1/2","rounded-2xl bg-white shadow-xl shadow-indigo-900/20 ring-1 ring-indigo-100","duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]","data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",e.className]},{...g(a),...r.$attrs},{onPointerDownOutside:s}),{default:C(()=>[re(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Yn=K({__name:"DialogTitle",props:{className:{}},setup(e){return(n,t)=>($(),Y(g($d),{class:Oe(["text-lg font-bold text-slate-900",e.className])},{default:C(()=>[re(n.$slots,"default")]),_:3},8,["class"]))}}),Qn=K({__name:"DialogDescription",props:{className:{}},setup(e){return(n,t)=>($(),Y(g(Pd),{class:Oe(["text-sm text-slate-500",e.className])},{default:C(()=>[re(n.$slots,"default")]),_:3},8,["class"]))}}),Ao=K({__name:"DialogClose",props:{className:{}},setup(e){return(n,t)=>($(),Y(g(xs),{class:Oe(["absolute right-4 top-4 p-1 rounded-md text-slate-400 hover:text-slate-600 transition-colors","focus:outline-none focus:ring-2 focus:ring-indigo-400",e.className])},{default:C(()=>[re(n.$slots,"default",{},()=>[S(g(lo),{class:"h-5 w-5"})]),t[0]||(t[0]=v("span",{class:"sr-only"},"Закрыть",-1))]),_:3},8,["class"]))}}),Vo=K({__name:"DialogHeader",props:{className:{}},setup(e){return(n,t)=>($(),k("div",{class:Oe(["flex flex-col space-y-1.5",e.className])},[re(n.$slots,"default")],2))}}),Wr=K({__name:"DialogFooter",props:{className:{}},setup(e){return(n,t)=>($(),k("div",{class:Oe(["flex items-center justify-end gap-3 pt-4",e.className])},[re(n.$slots,"default")],2))}});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jl(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),t}var zl={exports:{}};const Fh=jl(Bd);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function qa(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,o)}return t}function _t(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?qa(Object(t),!0).forEach(function(o){kh(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qa(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function To(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?To=function(n){return typeof n}:To=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},To(e)}function kh(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function kt(){return kt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kt.apply(this,arguments)}function Bh(e,n){if(e==null)return{};var t={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Lh(e,n){if(e==null)return{};var t=Bh(e,n),o,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)o=s[a],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}function Nh(e){return Vh(e)||jh(e)||zh(e)||Uh()}function Vh(e){if(Array.isArray(e))return Xr(e)}function jh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zh(e,n){if(e){if(typeof e=="string")return Xr(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xr(e,n)}}function Xr(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function Uh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gh="1.14.0";function Yt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var en=Yt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),uo=Yt(/Edge/i),Wa=Yt(/firefox/i),Jn=Yt(/safari/i)&&!Yt(/chrome/i)&&!Yt(/android/i),Ul=Yt(/iP(ad|od|hone)/i),Hh=Yt(/chrome/i)&&Yt(/android/i),Gl={capture:!1,passive:!1};function Le(e,n,t){e.addEventListener(n,t,!en&&Gl)}function Me(e,n,t){e.removeEventListener(n,t,!en&&Gl)}function jo(e,n){if(n){if(n[0]===">"&&(n=n.substring(1)),e)try{if(e.matches)return e.matches(n);if(e.msMatchesSelector)return e.msMatchesSelector(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}catch{return!1}return!1}}function _h(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Vt(e,n,t,o){if(e){t=t||document;do{if(n!=null&&(n[0]===">"?e.parentNode===t&&jo(e,n):jo(e,n))||o&&e===t)return e;if(e===t)break}while(e=_h(e))}return null}var Xa=/\s+/g;function Qe(e,n,t){if(e&&n)if(e.classList)e.classList[t?"add":"remove"](n);else{var o=(" "+e.className+" ").replace(Xa," ").replace(" "+n+" "," ");e.className=(o+(t?" "+n:"")).replace(Xa," ")}}function ce(e,n,t){var o=e&&e.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),n===void 0?t:t[n];!(n in o)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),o[n]=t+(typeof t=="string"?"":"px")}}function hn(e,n){var t="";if(typeof e=="string")t=e;else do{var o=ce(e,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!n&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function Hl(e,n,t){if(e){var o=e.getElementsByTagName(n),a=0,s=o.length;if(t)for(;a<s;a++)t(o[a],a);return o}return[]}function Ht(){var e=document.scrollingElement;return e||document.documentElement}function We(e,n,t,o,a){if(!(!e.getBoundingClientRect&&e!==window)){var s,r,l,i,u,d,c;if(e!==window&&e.parentNode&&e!==Ht()?(s=e.getBoundingClientRect(),r=s.top,l=s.left,i=s.bottom,u=s.right,d=s.height,c=s.width):(r=0,l=0,i=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(n||t)&&e!==window&&(a=a||e.parentNode,!en))do if(a&&a.getBoundingClientRect&&(ce(a,"transform")!=="none"||t&&ce(a,"position")!=="static")){var f=a.getBoundingClientRect();r-=f.top+parseInt(ce(a,"border-top-width")),l-=f.left+parseInt(ce(a,"border-left-width")),i=r+s.height,u=l+s.width;break}while(a=a.parentNode);if(o&&e!==window){var p=hn(a||e),m=p&&p.a,h=p&&p.d;p&&(r/=h,l/=m,c/=m,d/=h,i=r+d,u=l+c)}return{top:r,left:l,bottom:i,right:u,width:c,height:d}}}function Ya(e,n,t){for(var o=un(e,!0),a=We(e)[n];o;){var s=We(o)[t],r=void 0;if(r=a>=s,!r)return o;if(o===Ht())break;o=un(o,!1)}return!1}function Dn(e,n,t,o){for(var a=0,s=0,r=e.children;s<r.length;){if(r[s].style.display!=="none"&&r[s]!==ye.ghost&&(o||r[s]!==ye.dragged)&&Vt(r[s],t.draggable,e,!1)){if(a===n)return r[s];a++}s++}return null}function Sa(e,n){for(var t=e.lastElementChild;t&&(t===ye.ghost||ce(t,"display")==="none"||n&&!jo(t,n));)t=t.previousElementSibling;return t||null}function tt(e,n){var t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==ye.clone&&(!n||jo(e,n))&&t++;return t}function Qa(e){var n=0,t=0,o=Ht();if(e)do{var a=hn(e),s=a.a,r=a.d;n+=e.scrollLeft*s,t+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[n,t]}function Kh(e,n){for(var t in e)if(e.hasOwnProperty(t)){for(var o in n)if(n.hasOwnProperty(o)&&n[o]===e[t][o])return Number(t)}return-1}function un(e,n){if(!e||!e.getBoundingClientRect)return Ht();var t=e,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=ce(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ht();if(o||n)return t;o=!0}}while(t=t.parentNode);return Ht()}function qh(e,n){if(e&&n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function br(e,n){return Math.round(e.top)===Math.round(n.top)&&Math.round(e.left)===Math.round(n.left)&&Math.round(e.height)===Math.round(n.height)&&Math.round(e.width)===Math.round(n.width)}var Zn;function _l(e,n){return function(){if(!Zn){var t=arguments,o=this;t.length===1?e.call(o,t[0]):e.apply(o,t),Zn=setTimeout(function(){Zn=void 0},n)}}}function Wh(){clearTimeout(Zn),Zn=void 0}function Kl(e,n,t){e.scrollLeft+=n,e.scrollTop+=t}function Ca(e){var n=window.Polymer,t=window.jQuery||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function Ja(e,n){ce(e,"position","absolute"),ce(e,"top",n.top),ce(e,"left",n.left),ce(e,"width",n.width),ce(e,"height",n.height)}function xr(e){ce(e,"position",""),ce(e,"top",""),ce(e,"left",""),ce(e,"width",""),ce(e,"height","")}var vt="Sortable"+new Date().getTime();function Xh(){var e=[],n;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(ce(a,"display")==="none"||a===ye.ghost)){e.push({target:a,rect:We(a)});var s=_t({},e[e.length-1].rect);if(a.thisAnimationDuration){var r=hn(a,!0);r&&(s.top-=r.f,s.left-=r.e)}a.fromRect=s}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(Kh(e,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(n),typeof o=="function"&&o();return}var s=!1,r=0;e.forEach(function(l){var i=0,u=l.target,d=u.fromRect,c=We(u),f=u.prevFromRect,p=u.prevToRect,m=l.rect,h=hn(u,!0);h&&(c.top-=h.f,c.left-=h.e),u.toRect=c,u.thisAnimationDuration&&br(f,c)&&!br(d,c)&&(m.top-c.top)/(m.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(i=Qh(m,f,p,a.options)),br(c,d)||(u.prevFromRect=d,u.prevToRect=c,i||(i=a.options.animation),a.animate(u,m,c,i)),i&&(s=!0,r=Math.max(r,i),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},i),u.thisAnimationDuration=i)}),clearTimeout(n),s?n=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),e=[]},animate:function(o,a,s,r){if(r){ce(o,"transition",""),ce(o,"transform","");var l=hn(this.el),i=l&&l.a,u=l&&l.d,d=(a.left-s.left)/(i||1),c=(a.top-s.top)/(u||1);o.animatingX=!!d,o.animatingY=!!c,ce(o,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=Yh(o),ce(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),ce(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){ce(o,"transition",""),ce(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function Yh(e){return e.offsetWidth}function Qh(e,n,t,o){return Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-t.top,2)+Math.pow(n.left-t.left,2))*o.animation}var Sn=[],wr={initializeByDefault:!0},co={mount:function(n){for(var t in wr)wr.hasOwnProperty(t)&&!(t in n)&&(n[t]=wr[t]);Sn.forEach(function(o){if(o.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),Sn.push(n)},pluginEvent:function(n,t,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var s=n+"Global";Sn.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][s]&&t[r.pluginName][s](_t({sortable:t},o)),t.options[r.pluginName]&&t[r.pluginName][n]&&t[r.pluginName][n](_t({sortable:t},o)))})},initializePlugins:function(n,t,o,a){Sn.forEach(function(l){var i=l.pluginName;if(!(!n.options[i]&&!l.initializeByDefault)){var u=new l(n,t,n.options);u.sortable=n,u.options=n.options,n[i]=u,kt(o,u.defaults)}});for(var s in n.options)if(n.options.hasOwnProperty(s)){var r=this.modifyOption(n,s,n.options[s]);typeof r<"u"&&(n.options[s]=r)}},getEventProperties:function(n,t){var o={};return Sn.forEach(function(a){typeof a.eventProperties=="function"&&kt(o,a.eventProperties.call(t[a.pluginName],n))}),o},modifyOption:function(n,t,o){var a;return Sn.forEach(function(s){n[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(a=s.optionListeners[t].call(n[s.pluginName],o))}),a}};function Hn(e){var n=e.sortable,t=e.rootEl,o=e.name,a=e.targetEl,s=e.cloneEl,r=e.toEl,l=e.fromEl,i=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,m=e.extraEventProperties;if(n=n||t&&t[vt],!!n){var h,y=n.options,b="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!en&&!uo?h=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(o,!0,!0)),h.to=r||t,h.from=l||t,h.item=a||t,h.clone=s,h.oldIndex=i,h.newIndex=u,h.oldDraggableIndex=d,h.newDraggableIndex=c,h.originalEvent=f,h.pullMode=p?p.lastPutMode:void 0;var w=_t(_t({},m),co.getEventProperties(o,n));for(var E in w)h[E]=w[E];t&&t.dispatchEvent(h),y[b]&&y[b].call(n,h)}}var Jh=["evt"],Ct=function(n,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,s=Lh(o,Jh);co.pluginEvent.bind(ye)(n,t,_t({dragEl:oe,parentEl:Ze,ghostEl:Pe,rootEl:qe,nextEl:mn,lastDownEl:Mo,cloneEl:et,cloneHidden:sn,dragStarted:_n,putSortable:ft,activeSortable:ye.active,originalEvent:a,oldIndex:Pn,oldDraggableIndex:eo,newIndex:Ot,newDraggableIndex:an,hideGhostForTarget:Yl,unhideGhostForTarget:Ql,cloneNowHidden:function(){sn=!0},cloneNowShown:function(){sn=!1},dispatchSortableEvent:function(l){ht({sortable:t,name:l,originalEvent:a})}},s))};function ht(e){Hn(_t({putSortable:ft,cloneEl:et,targetEl:oe,rootEl:qe,oldIndex:Pn,oldDraggableIndex:eo,newIndex:Ot,newDraggableIndex:an},e))}var oe,Ze,Pe,qe,mn,Mo,et,sn,Pn,Ot,eo,an,So,ft,$n=!1,zo=!1,Uo=[],pn,Lt,Sr,Cr,Za,es,_n,Cn,to,no=!1,Co=!1,Fo,mt,Er=[],Yr=!1,Go=[],Zo=typeof document<"u",Eo=Ul,ts=uo||en?"cssFloat":"float",Zh=Zo&&!Hh&&!Ul&&"draggable"in document.createElement("div"),ql=function(){if(Zo){if(en)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Wl=function(n,t){var o=ce(n),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=Dn(n,0,t),r=Dn(n,1,t),l=s&&ce(s),i=r&&ce(r),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+We(s).width,d=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+We(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return r&&(i.clear==="both"||i.clear===c)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=a&&o[ts]==="none"||r&&o[ts]==="none"&&u+d>a)?"vertical":"horizontal"},ey=function(n,t,o){var a=o?n.left:n.top,s=o?n.right:n.bottom,r=o?n.width:n.height,l=o?t.left:t.top,i=o?t.right:t.bottom,u=o?t.width:t.height;return a===l||s===i||a+r/2===l+u/2},ty=function(n,t){var o;return Uo.some(function(a){var s=a[vt].options.emptyInsertThreshold;if(!(!s||Sa(a))){var r=We(a),l=n>=r.left-s&&n<=r.right+s,i=t>=r.top-s&&t<=r.bottom+s;if(l&&i)return o=a}}),o},Xl=function(n){function t(s,r){return function(l,i,u,d){var c=l.options.group.name&&i.options.group.name&&l.options.group.name===i.options.group.name;if(s==null&&(r||c))return!0;if(s==null||s===!1)return!1;if(r&&s==="clone")return s;if(typeof s=="function")return t(s(l,i,u,d),r)(l,i,u,d);var f=(r?l:i).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var o={},a=n.group;(!a||To(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=t(a.pull,!0),o.checkPut=t(a.put),o.revertClone=a.revertClone,n.group=o},Yl=function(){!ql&&Pe&&ce(Pe,"display","none")},Ql=function(){!ql&&Pe&&ce(Pe,"display","")};Zo&&document.addEventListener("click",function(e){if(zo)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),zo=!1,!1},!0);var gn=function(n){if(oe){n=n.touches?n.touches[0]:n;var t=ty(n.clientX,n.clientY);if(t){var o={};for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[vt]._onDragOver(o)}}},ny=function(n){oe&&oe.parentNode[vt]._isOutsideThisEl(n.target)};function ye(e,n){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=kt({},n),e[vt]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wl(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ye.supportPointer!==!1&&"PointerEvent"in window&&!Jn,emptyInsertThreshold:5};co.initializePlugins(this,e,t);for(var o in t)!(o in n)&&(n[o]=t[o]);Xl(n);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=n.forceFallback?!1:Zh,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?Le(e,"pointerdown",this._onTapStart):(Le(e,"mousedown",this._onTapStart),Le(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Le(e,"dragover",this),Le(e,"dragenter",this)),Uo.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),kt(this,Xh())}ye.prototype={constructor:ye,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(Cn=null)},_getDirection:function(n,t){return typeof this.options.direction=="function"?this.options.direction.call(this,n,t,oe):this.options.direction},_onTapStart:function(n){if(n.cancelable){var t=this,o=this.el,a=this.options,s=a.preventOnFilter,r=n.type,l=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,i=(l||n).target,u=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||i,d=a.filter;if(dy(o),!oe&&!(/mousedown|pointerdown/.test(r)&&n.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Jn&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=Vt(i,a.draggable,o,!1),!(i&&i.animated)&&Mo!==i)){if(Pn=tt(i),eo=tt(i,a.draggable),typeof d=="function"){if(d.call(this,n,i,this)){ht({sortable:t,rootEl:u,name:"filter",targetEl:i,toEl:o,fromEl:o}),Ct("filter",t,{evt:n}),s&&n.cancelable&&n.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=Vt(u,c.trim(),o,!1),c)return ht({sortable:t,rootEl:c,name:"filter",targetEl:i,fromEl:o,toEl:o}),Ct("filter",t,{evt:n}),!0}),d)){s&&n.cancelable&&n.preventDefault();return}a.handle&&!Vt(u,a.handle,o,!1)||this._prepareDragStart(n,l,i)}}},_prepareDragStart:function(n,t,o){var a=this,s=a.el,r=a.options,l=s.ownerDocument,i;if(o&&!oe&&o.parentNode===s){var u=We(o);if(qe=s,oe=o,Ze=oe.parentNode,mn=oe.nextSibling,Mo=o,So=r.group,ye.dragged=oe,pn={target:oe,clientX:(t||n).clientX,clientY:(t||n).clientY},Za=pn.clientX-u.left,es=pn.clientY-u.top,this._lastX=(t||n).clientX,this._lastY=(t||n).clientY,oe.style["will-change"]="all",i=function(){if(Ct("delayEnded",a,{evt:n}),ye.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Wa&&a.nativeDraggable&&(oe.draggable=!0),a._triggerDragStart(n,t),ht({sortable:a,name:"choose",originalEvent:n}),Qe(oe,r.chosenClass,!0)},r.ignore.split(",").forEach(function(d){Hl(oe,d.trim(),$r)}),Le(l,"dragover",gn),Le(l,"mousemove",gn),Le(l,"touchmove",gn),Le(l,"mouseup",a._onDrop),Le(l,"touchend",a._onDrop),Le(l,"touchcancel",a._onDrop),Wa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),Ct("delayStart",this,{evt:n}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(uo||en))){if(ye.eventCanceled){this._onDrop();return}Le(l,"mouseup",a._disableDelayedDrag),Le(l,"touchend",a._disableDelayedDrag),Le(l,"touchcancel",a._disableDelayedDrag),Le(l,"mousemove",a._delayedDragTouchMoveHandler),Le(l,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&Le(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(i,r.delay)}else i()}},_delayedDragTouchMoveHandler:function(n){var t=n.touches?n.touches[0]:n;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&$r(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;Me(n,"mouseup",this._disableDelayedDrag),Me(n,"touchend",this._disableDelayedDrag),Me(n,"touchcancel",this._disableDelayedDrag),Me(n,"mousemove",this._delayedDragTouchMoveHandler),Me(n,"touchmove",this._delayedDragTouchMoveHandler),Me(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,t){t=t||n.pointerType=="touch"&&n,!this.nativeDraggable||t?this.options.supportPointer?Le(document,"pointermove",this._onTouchMove):t?Le(document,"touchmove",this._onTouchMove):Le(document,"mousemove",this._onTouchMove):(Le(oe,"dragend",this),Le(qe,"dragstart",this._onDragStart));try{document.selection?ko(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,t){if($n=!1,qe&&oe){Ct("dragStarted",this,{evt:t}),this.nativeDraggable&&Le(document,"dragover",ny);var o=this.options;!n&&Qe(oe,o.dragClass,!1),Qe(oe,o.ghostClass,!0),ye.active=this,n&&this._appendGhost(),ht({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Lt){this._lastX=Lt.clientX,this._lastY=Lt.clientY,Yl();for(var n=document.elementFromPoint(Lt.clientX,Lt.clientY),t=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(Lt.clientX,Lt.clientY),n!==t);)t=n;if(oe.parentNode[vt]._isOutsideThisEl(n),t)do{if(t[vt]){var o=void 0;if(o=t[vt]._onDragOver({clientX:Lt.clientX,clientY:Lt.clientY,target:n,rootEl:t}),o&&!this.options.dragoverBubble)break}n=t}while(t=t.parentNode);Ql()}},_onTouchMove:function(n){if(pn){var t=this.options,o=t.fallbackTolerance,a=t.fallbackOffset,s=n.touches?n.touches[0]:n,r=Pe&&hn(Pe,!0),l=Pe&&r&&r.a,i=Pe&&r&&r.d,u=Eo&&mt&&Qa(mt),d=(s.clientX-pn.clientX+a.x)/(l||1)+(u?u[0]-Er[0]:0)/(l||1),c=(s.clientY-pn.clientY+a.y)/(i||1)+(u?u[1]-Er[1]:0)/(i||1);if(!ye.active&&!$n){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(n,!0)}if(Pe){r?(r.e+=d-(Sr||0),r.f+=c-(Cr||0)):r={a:1,b:0,c:0,d:1,e:d,f:c};var f="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");ce(Pe,"webkitTransform",f),ce(Pe,"mozTransform",f),ce(Pe,"msTransform",f),ce(Pe,"transform",f),Sr=d,Cr=c,Lt=s}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!Pe){var n=this.options.fallbackOnBody?document.body:qe,t=We(oe,!0,Eo,!0,n),o=this.options;if(Eo){for(mt=n;ce(mt,"position")==="static"&&ce(mt,"transform")==="none"&&mt!==document;)mt=mt.parentNode;mt!==document.body&&mt!==document.documentElement?(mt===document&&(mt=Ht()),t.top+=mt.scrollTop,t.left+=mt.scrollLeft):mt=Ht(),Er=Qa(mt)}Pe=oe.cloneNode(!0),Qe(Pe,o.ghostClass,!1),Qe(Pe,o.fallbackClass,!0),Qe(Pe,o.dragClass,!0),ce(Pe,"transition",""),ce(Pe,"transform",""),ce(Pe,"box-sizing","border-box"),ce(Pe,"margin",0),ce(Pe,"top",t.top),ce(Pe,"left",t.left),ce(Pe,"width",t.width),ce(Pe,"height",t.height),ce(Pe,"opacity","0.8"),ce(Pe,"position",Eo?"absolute":"fixed"),ce(Pe,"zIndex","100000"),ce(Pe,"pointerEvents","none"),ye.ghost=Pe,n.appendChild(Pe),ce(Pe,"transform-origin",Za/parseInt(Pe.style.width)*100+"% "+es/parseInt(Pe.style.height)*100+"%")}},_onDragStart:function(n,t){var o=this,a=n.dataTransfer,s=o.options;if(Ct("dragStart",this,{evt:n}),ye.eventCanceled){this._onDrop();return}Ct("setupClone",this),ye.eventCanceled||(et=Ca(oe),et.draggable=!1,et.style["will-change"]="",this._hideClone(),Qe(et,this.options.chosenClass,!1),ye.clone=et),o.cloneId=ko(function(){Ct("clone",o),!ye.eventCanceled&&(o.options.removeCloneOnHide||qe.insertBefore(et,oe),o._hideClone(),ht({sortable:o,name:"clone"}))}),!t&&Qe(oe,s.dragClass,!0),t?(zo=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Me(document,"mouseup",o._onDrop),Me(document,"touchend",o._onDrop),Me(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(o,a,oe)),Le(document,"drop",o),ce(oe,"transform","translateZ(0)")),$n=!0,o._dragStartId=ko(o._dragStarted.bind(o,t,n)),Le(document,"selectstart",o),_n=!0,Jn&&ce(document.body,"user-select","none")},_onDragOver:function(n){var t=this.el,o=n.target,a,s,r,l=this.options,i=l.group,u=ye.active,d=So===i,c=l.sort,f=ft||u,p,m=this,h=!1;if(Yr)return;function y(_,Ee){Ct(_,m,_t({evt:n,isOwner:d,axis:p?"vertical":"horizontal",revert:r,dragRect:a,targetRect:s,canSort:c,fromSortable:f,target:o,completed:w,onMove:function(ee,ge){return $o(qe,t,oe,a,ee,We(ee),n,ge)},changed:E},Ee))}function b(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==f&&f.captureAnimationState()}function w(_){return y("dragOverCompleted",{insertion:_}),_&&(d?u._hideClone():u._showClone(m),m!==f&&(Qe(oe,ft?ft.options.ghostClass:u.options.ghostClass,!1),Qe(oe,l.ghostClass,!0)),ft!==m&&m!==ye.active?ft=m:m===ye.active&&ft&&(ft=null),f===m&&(m._ignoreWhileAnimating=o),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===oe&&!oe.animated||o===t&&!o.animated)&&(Cn=null),!l.dragoverBubble&&!n.rootEl&&o!==document&&(oe.parentNode[vt]._isOutsideThisEl(n.target),!_&&gn(n)),!l.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),h=!0}function E(){Ot=tt(oe),an=tt(oe,l.draggable),ht({sortable:m,name:"change",toEl:t,newIndex:Ot,newDraggableIndex:an,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),o=Vt(o,l.draggable,t,!0),y("dragOver"),ye.eventCanceled)return h;if(oe.contains(n.target)||o.animated&&o.animatingX&&o.animatingY||m._ignoreWhileAnimating===o)return w(!1);if(zo=!1,u&&!l.disabled&&(d?c||(r=Ze!==qe):ft===this||(this.lastPutMode=So.checkPull(this,u,oe,n))&&i.checkPut(this,u,oe,n))){if(p=this._getDirection(n,o)==="vertical",a=We(oe),y("dragOverValid"),ye.eventCanceled)return h;if(r)return Ze=qe,b(),this._hideClone(),y("revert"),ye.eventCanceled||(mn?qe.insertBefore(oe,mn):qe.appendChild(oe)),w(!0);var O=Sa(t,l.draggable);if(!O||sy(n,p,this)&&!O.animated){if(O===oe)return w(!1);if(O&&t===n.target&&(o=O),o&&(s=We(o)),$o(qe,t,oe,a,o,s,n,!!o)!==!1)return b(),t.appendChild(oe),Ze=t,E(),w(!0)}else if(O&&ay(n,p,this)){var M=Dn(t,0,l,!0);if(M===oe)return w(!1);if(o=M,s=We(o),$o(qe,t,oe,a,o,s,n,!1)!==!1)return b(),t.insertBefore(oe,M),Ze=t,E(),w(!0)}else if(o.parentNode===t){s=We(o);var R=0,W,T=oe.parentNode!==t,x=!ey(oe.animated&&oe.toRect||a,o.animated&&o.toRect||s,p),P=p?"top":"left",z=Ya(o,"top","top")||Ya(oe,"top","top"),Z=z?z.scrollTop:void 0;Cn!==o&&(W=s[P],no=!1,Co=!x&&l.invertSwap||T),R=ly(n,o,s,p,x?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Co,Cn===o);var B;if(R!==0){var j=tt(oe);do j-=R,B=Ze.children[j];while(B&&(ce(B,"display")==="none"||B===Pe))}if(R===0||B===o)return w(!1);Cn=o,to=R;var U=o.nextElementSibling,F=!1;F=R===1;var J=$o(qe,t,oe,a,o,s,n,F);if(J!==!1)return(J===1||J===-1)&&(F=J===1),Yr=!0,setTimeout(ry,30),b(),F&&!U?t.appendChild(oe):o.parentNode.insertBefore(oe,F?U:o),z&&Kl(z,0,Z-z.scrollTop),Ze=oe.parentNode,W!==void 0&&!Co&&(Fo=Math.abs(W-We(o)[P])),E(),w(!0)}if(t.contains(oe))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Me(document,"mousemove",this._onTouchMove),Me(document,"touchmove",this._onTouchMove),Me(document,"pointermove",this._onTouchMove),Me(document,"dragover",gn),Me(document,"mousemove",gn),Me(document,"touchmove",gn)},_offUpEvents:function(){var n=this.el.ownerDocument;Me(n,"mouseup",this._onDrop),Me(n,"touchend",this._onDrop),Me(n,"pointerup",this._onDrop),Me(n,"touchcancel",this._onDrop),Me(document,"selectstart",this)},_onDrop:function(n){var t=this.el,o=this.options;if(Ot=tt(oe),an=tt(oe,o.draggable),Ct("drop",this,{evt:n}),Ze=oe&&oe.parentNode,Ot=tt(oe),an=tt(oe,o.draggable),ye.eventCanceled){this._nulling();return}$n=!1,Co=!1,no=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Qr(this.cloneId),Qr(this._dragStartId),this.nativeDraggable&&(Me(document,"drop",this),Me(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Jn&&ce(document.body,"user-select",""),ce(oe,"transform",""),n&&(_n&&(n.cancelable&&n.preventDefault(),!o.dropBubble&&n.stopPropagation()),Pe&&Pe.parentNode&&Pe.parentNode.removeChild(Pe),(qe===Ze||ft&&ft.lastPutMode!=="clone")&&et&&et.parentNode&&et.parentNode.removeChild(et),oe&&(this.nativeDraggable&&Me(oe,"dragend",this),$r(oe),oe.style["will-change"]="",_n&&!$n&&Qe(oe,ft?ft.options.ghostClass:this.options.ghostClass,!1),Qe(oe,this.options.chosenClass,!1),ht({sortable:this,name:"unchoose",toEl:Ze,newIndex:null,newDraggableIndex:null,originalEvent:n}),qe!==Ze?(Ot>=0&&(ht({rootEl:Ze,name:"add",toEl:Ze,fromEl:qe,originalEvent:n}),ht({sortable:this,name:"remove",toEl:Ze,originalEvent:n}),ht({rootEl:Ze,name:"sort",toEl:Ze,fromEl:qe,originalEvent:n}),ht({sortable:this,name:"sort",toEl:Ze,originalEvent:n})),ft&&ft.save()):Ot!==Pn&&Ot>=0&&(ht({sortable:this,name:"update",toEl:Ze,originalEvent:n}),ht({sortable:this,name:"sort",toEl:Ze,originalEvent:n})),ye.active&&((Ot==null||Ot===-1)&&(Ot=Pn,an=eo),ht({sortable:this,name:"end",toEl:Ze,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){Ct("nulling",this),qe=oe=Ze=Pe=mn=et=Mo=sn=pn=Lt=_n=Ot=an=Pn=eo=Cn=to=ft=So=ye.dragged=ye.ghost=ye.clone=ye.active=null,Go.forEach(function(n){n.checked=!0}),Go.length=Sr=Cr=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":oe&&(this._onDragOver(n),oy(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],t,o=this.el.children,a=0,s=o.length,r=this.options;a<s;a++)t=o[a],Vt(t,r.draggable,this.el,!1)&&n.push(t.getAttribute(r.dataIdAttr)||uy(t));return n},sort:function(n,t){var o={},a=this.el;this.toArray().forEach(function(s,r){var l=a.children[r];Vt(l,this.options.draggable,a,!1)&&(o[s]=l)},this),t&&this.captureAnimationState(),n.forEach(function(s){o[s]&&(a.removeChild(o[s]),a.appendChild(o[s]))}),t&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,t){return Vt(n,t||this.options.draggable,this.el,!1)},option:function(n,t){var o=this.options;if(t===void 0)return o[n];var a=co.modifyOption(this,n,t);typeof a<"u"?o[n]=a:o[n]=t,n==="group"&&Xl(o)},destroy:function(){Ct("destroy",this);var n=this.el;n[vt]=null,Me(n,"mousedown",this._onTapStart),Me(n,"touchstart",this._onTapStart),Me(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(Me(n,"dragover",this),Me(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Uo.splice(Uo.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!sn){if(Ct("hideClone",this),ye.eventCanceled)return;ce(et,"display","none"),this.options.removeCloneOnHide&&et.parentNode&&et.parentNode.removeChild(et),sn=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(sn){if(Ct("showClone",this),ye.eventCanceled)return;oe.parentNode==qe&&!this.options.group.revertClone?qe.insertBefore(et,oe):mn?qe.insertBefore(et,mn):qe.appendChild(et),this.options.group.revertClone&&this.animate(oe,et),ce(et,"display",""),sn=!1}}};function oy(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function $o(e,n,t,o,a,s,r,l){var i,u=e[vt],d=u.options.onMove,c;return window.CustomEvent&&!en&&!uo?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=n,i.from=e,i.dragged=t,i.draggedRect=o,i.related=a||n,i.relatedRect=s||We(n),i.willInsertAfter=l,i.originalEvent=r,e.dispatchEvent(i),d&&(c=d.call(u,i,r)),c}function $r(e){e.draggable=!1}function ry(){Yr=!1}function ay(e,n,t){var o=We(Dn(t.el,0,t.options,!0)),a=10;return n?e.clientX<o.left-a||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-a||e.clientY<o.bottom&&e.clientX<o.left}function sy(e,n,t){var o=We(Sa(t.el,t.options.draggable)),a=10;return n?e.clientX>o.right+a||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+a}function ly(e,n,t,o,a,s,r,l){var i=o?e.clientY:e.clientX,u=o?t.height:t.width,d=o?t.top:t.left,c=o?t.bottom:t.right,f=!1;if(!r){if(l&&Fo<u*a){if(!no&&(to===1?i>d+u*s/2:i<c-u*s/2)&&(no=!0),no)f=!0;else if(to===1?i<d+Fo:i>c-Fo)return-to}else if(i>d+u*(1-a)/2&&i<c-u*(1-a)/2)return iy(n)}return f=f||r,f&&(i<d+u*s/2||i>c-u*s/2)?i>d+u/2?1:-1:0}function iy(e){return tt(oe)<tt(e)?1:-1}function uy(e){for(var n=e.tagName+e.className+e.src+e.href+e.textContent,t=n.length,o=0;t--;)o+=n.charCodeAt(t);return o.toString(36)}function dy(e){Go.length=0;for(var n=e.getElementsByTagName("input"),t=n.length;t--;){var o=n[t];o.checked&&Go.push(o)}}function ko(e){return setTimeout(e,0)}function Qr(e){return clearTimeout(e)}Zo&&Le(document,"touchmove",function(e){(ye.active||$n)&&e.cancelable&&e.preventDefault()});ye.utils={on:Le,off:Me,css:ce,find:Hl,is:function(n,t){return!!Vt(n,t,n,!1)},extend:qh,throttle:_l,closest:Vt,toggleClass:Qe,clone:Ca,index:tt,nextTick:ko,cancelNextTick:Qr,detectDirection:Wl,getChild:Dn};ye.get=function(e){return e[vt]};ye.mount=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];n[0].constructor===Array&&(n=n[0]),n.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(ye.utils=_t(_t({},ye.utils),o.utils)),co.mount(o)})};ye.create=function(e,n){return new ye(e,n)};ye.version=Gh;var ut=[],Kn,Jr,Zr=!1,Pr,Or,Ho,qn;function cy(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return e.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?Le(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Le(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Le(document,"touchmove",this._handleFallbackAutoScroll):Le(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Me(document,"dragover",this._handleAutoScroll):(Me(document,"pointermove",this._handleFallbackAutoScroll),Me(document,"touchmove",this._handleFallbackAutoScroll),Me(document,"mousemove",this._handleFallbackAutoScroll)),ns(),Bo(),Wh()},nulling:function(){Ho=Jr=Kn=Zr=qn=Pr=Or=null,ut.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var a=this,s=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(s,r);if(Ho=t,o||this.options.forceAutoScrollFallback||uo||en||Jn){Rr(t,this.options,l,o);var i=un(l,!0);Zr&&(!qn||s!==Pr||r!==Or)&&(qn&&ns(),qn=setInterval(function(){var u=un(document.elementFromPoint(s,r),!0);u!==i&&(i=u,Bo()),Rr(t,a.options,u,o)},10),Pr=s,Or=r)}else{if(!this.options.bubbleScroll||un(l,!0)===Ht()){Bo();return}Rr(t,this.options,un(l,!1),!1)}}},kt(e,{pluginName:"scroll",initializeByDefault:!0})}function Bo(){ut.forEach(function(e){clearInterval(e.pid)}),ut=[]}function ns(){clearInterval(qn)}var Rr=_l(function(e,n,t,o){if(n.scroll){var a=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,r=n.scrollSensitivity,l=n.scrollSpeed,i=Ht(),u=!1,d;Jr!==t&&(Jr=t,Bo(),Kn=n.scroll,d=n.scrollFn,Kn===!0&&(Kn=un(t,!0)));var c=0,f=Kn;do{var p=f,m=We(p),h=m.top,y=m.bottom,b=m.left,w=m.right,E=m.width,O=m.height,M=void 0,R=void 0,W=p.scrollWidth,T=p.scrollHeight,x=ce(p),P=p.scrollLeft,z=p.scrollTop;p===i?(M=E<W&&(x.overflowX==="auto"||x.overflowX==="scroll"||x.overflowX==="visible"),R=O<T&&(x.overflowY==="auto"||x.overflowY==="scroll"||x.overflowY==="visible")):(M=E<W&&(x.overflowX==="auto"||x.overflowX==="scroll"),R=O<T&&(x.overflowY==="auto"||x.overflowY==="scroll"));var Z=M&&(Math.abs(w-a)<=r&&P+E<W)-(Math.abs(b-a)<=r&&!!P),B=R&&(Math.abs(y-s)<=r&&z+O<T)-(Math.abs(h-s)<=r&&!!z);if(!ut[c])for(var j=0;j<=c;j++)ut[j]||(ut[j]={});(ut[c].vx!=Z||ut[c].vy!=B||ut[c].el!==p)&&(ut[c].el=p,ut[c].vx=Z,ut[c].vy=B,clearInterval(ut[c].pid),(Z!=0||B!=0)&&(u=!0,ut[c].pid=setInterval((function(){o&&this.layer===0&&ye.active._onTouchMove(Ho);var U=ut[this.layer].vy?ut[this.layer].vy*l:0,F=ut[this.layer].vx?ut[this.layer].vx*l:0;typeof d=="function"&&d.call(ye.dragged.parentNode[vt],F,U,e,Ho,ut[this.layer].el)!=="continue"||Kl(ut[this.layer].el,F,U)}).bind({layer:c}),24))),c++}while(n.bubbleScroll&&f!==i&&(f=un(f,!1)));Zr=u}},30),Jl=function(n){var t=n.originalEvent,o=n.putSortable,a=n.dragEl,s=n.activeSortable,r=n.dispatchSortableEvent,l=n.hideGhostForTarget,i=n.unhideGhostForTarget;if(t){var u=o||s;l();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);i(),u&&!u.el.contains(c)&&(r("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Ea(){}Ea.prototype={startIndex:null,dragStart:function(n){var t=n.oldDraggableIndex;this.startIndex=t},onSpill:function(n){var t=n.dragEl,o=n.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Dn(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:Jl};kt(Ea,{pluginName:"revertOnSpill"});function $a(){}$a.prototype={onSpill:function(n){var t=n.dragEl,o=n.putSortable,a=o||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:Jl};kt($a,{pluginName:"removeOnSpill"});var Dt;function fy(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(t){var o=t.dragEl;Dt=o},dragOverValid:function(t){var o=t.completed,a=t.target,s=t.onMove,r=t.activeSortable,l=t.changed,i=t.cancel;if(r.options.swap){var u=this.sortable.el,d=this.options;if(a&&a!==u){var c=Dt;s(a)!==!1?(Qe(a,d.swapClass,!0),Dt=a):Dt=null,c&&c!==Dt&&Qe(c,d.swapClass,!1)}l(),o(!0),i()}},drop:function(t){var o=t.activeSortable,a=t.putSortable,s=t.dragEl,r=a||this.sortable,l=this.options;Dt&&Qe(Dt,l.swapClass,!1),Dt&&(l.swap||a&&a.options.swap)&&s!==Dt&&(r.captureAnimationState(),r!==o&&o.captureAnimationState(),py(s,Dt),r.animateAll(),r!==o&&o.animateAll())},nulling:function(){Dt=null}},kt(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Dt}}})}function py(e,n){var t=e.parentNode,o=n.parentNode,a,s;!t||!o||t.isEqualNode(n)||o.isEqualNode(e)||(a=tt(e),s=tt(n),t.isEqualNode(o)&&a<s&&s++,t.insertBefore(n,t.children[a]),o.insertBefore(e,o.children[s]))}var $e=[],Pt=[],jn,Nt,zn=!1,Et=!1,En=!1,_e,Un,Po;function gy(){function e(n){for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));n.options.supportPointer?Le(document,"pointerup",this._deselectMultiDrag):(Le(document,"mouseup",this._deselectMultiDrag),Le(document,"touchend",this._deselectMultiDrag)),Le(document,"keydown",this._checkKeyDown),Le(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,s){var r="";$e.length&&Nt===n?$e.forEach(function(l,i){r+=(i?", ":"")+l.textContent}):r=s.textContent,a.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var o=t.dragEl;_e=o},delayEnded:function(){this.isMultiDrag=~$e.indexOf(_e)},setupClone:function(t){var o=t.sortable,a=t.cancel;if(this.isMultiDrag){for(var s=0;s<$e.length;s++)Pt.push(Ca($e[s])),Pt[s].sortableIndex=$e[s].sortableIndex,Pt[s].draggable=!1,Pt[s].style["will-change"]="",Qe(Pt[s],this.options.selectedClass,!1),$e[s]===_e&&Qe(Pt[s],this.options.chosenClass,!1);o._hideClone(),a()}},clone:function(t){var o=t.sortable,a=t.rootEl,s=t.dispatchSortableEvent,r=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||$e.length&&Nt===o&&(os(!0,a),s("clone"),r()))},showClone:function(t){var o=t.cloneNowShown,a=t.rootEl,s=t.cancel;this.isMultiDrag&&(os(!1,a),Pt.forEach(function(r){ce(r,"display","")}),o(),Po=!1,s())},hideClone:function(t){var o=this;t.sortable;var a=t.cloneNowHidden,s=t.cancel;this.isMultiDrag&&(Pt.forEach(function(r){ce(r,"display","none"),o.options.removeCloneOnHide&&r.parentNode&&r.parentNode.removeChild(r)}),a(),Po=!0,s())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&Nt&&Nt.multiDrag._deselectMultiDrag(),$e.forEach(function(o){o.sortableIndex=tt(o)}),$e=$e.sort(function(o,a){return o.sortableIndex-a.sortableIndex}),En=!0},dragStarted:function(t){var o=this,a=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){$e.forEach(function(r){r!==_e&&ce(r,"position","absolute")});var s=We(_e,!1,!0,!0);$e.forEach(function(r){r!==_e&&Ja(r,s)}),Et=!0,zn=!0}a.animateAll(function(){Et=!1,zn=!1,o.options.animation&&$e.forEach(function(r){xr(r)}),o.options.sort&&Oo()})}},dragOver:function(t){var o=t.target,a=t.completed,s=t.cancel;Et&&~$e.indexOf(o)&&(a(!1),s())},revert:function(t){var o=t.fromSortable,a=t.rootEl,s=t.sortable,r=t.dragRect;$e.length>1&&($e.forEach(function(l){s.addAnimationState({target:l,rect:Et?We(l):r}),xr(l),l.fromRect=r,o.removeAnimationState(l)}),Et=!1,my(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(t){var o=t.sortable,a=t.isOwner,s=t.insertion,r=t.activeSortable,l=t.parentEl,i=t.putSortable,u=this.options;if(s){if(a&&r._hideClone(),zn=!1,u.animation&&$e.length>1&&(Et||!a&&!r.options.sort&&!i)){var d=We(_e,!1,!0,!0);$e.forEach(function(f){f!==_e&&(Ja(f,d),l.appendChild(f))}),Et=!0}if(!a)if(Et||Oo(),$e.length>1){var c=Po;r._showClone(o),r.options.animation&&!Po&&c&&Pt.forEach(function(f){r.addAnimationState({target:f,rect:Un}),f.fromRect=Un,f.thisAnimationDuration=null})}else r._showClone(o)}},dragOverAnimationCapture:function(t){var o=t.dragRect,a=t.isOwner,s=t.activeSortable;if($e.forEach(function(l){l.thisAnimationDuration=null}),s.options.animation&&!a&&s.multiDrag.isMultiDrag){Un=kt({},o);var r=hn(_e,!0);Un.top-=r.f,Un.left-=r.e}},dragOverAnimationComplete:function(){Et&&(Et=!1,Oo())},drop:function(t){var o=t.originalEvent,a=t.rootEl,s=t.parentEl,r=t.sortable,l=t.dispatchSortableEvent,i=t.oldIndex,u=t.putSortable,d=u||this.sortable;if(o){var c=this.options,f=s.children;if(!En)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Qe(_e,c.selectedClass,!~$e.indexOf(_e)),~$e.indexOf(_e))$e.splice($e.indexOf(_e),1),jn=null,Hn({sortable:r,rootEl:a,name:"deselect",targetEl:_e});else{if($e.push(_e),Hn({sortable:r,rootEl:a,name:"select",targetEl:_e}),o.shiftKey&&jn&&r.el.contains(jn)){var p=tt(jn),m=tt(_e);if(~p&&~m&&p!==m){var h,y;for(m>p?(y=p,h=m):(y=m,h=p+1);y<h;y++)~$e.indexOf(f[y])||(Qe(f[y],c.selectedClass,!0),$e.push(f[y]),Hn({sortable:r,rootEl:a,name:"select",targetEl:f[y]}))}}else jn=_e;Nt=d}if(En&&this.isMultiDrag){if(Et=!1,(s[vt].options.sort||s!==a)&&$e.length>1){var b=We(_e),w=tt(_e,":not(."+this.options.selectedClass+")");if(!zn&&c.animation&&(_e.thisAnimationDuration=null),d.captureAnimationState(),!zn&&(c.animation&&(_e.fromRect=b,$e.forEach(function(O){if(O.thisAnimationDuration=null,O!==_e){var M=Et?We(O):b;O.fromRect=M,d.addAnimationState({target:O,rect:M})}})),Oo(),$e.forEach(function(O){f[w]?s.insertBefore(O,f[w]):s.appendChild(O),w++}),i===tt(_e))){var E=!1;$e.forEach(function(O){if(O.sortableIndex!==tt(O)){E=!0;return}}),E&&l("update")}$e.forEach(function(O){xr(O)}),d.animateAll()}Nt=d}(a===s||u&&u.lastPutMode!=="clone")&&Pt.forEach(function(O){O.parentNode&&O.parentNode.removeChild(O)})}},nullingGlobal:function(){this.isMultiDrag=En=!1,Pt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Me(document,"pointerup",this._deselectMultiDrag),Me(document,"mouseup",this._deselectMultiDrag),Me(document,"touchend",this._deselectMultiDrag),Me(document,"keydown",this._checkKeyDown),Me(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(typeof En<"u"&&En)&&Nt===this.sortable&&!(t&&Vt(t.target,this.options.draggable,this.sortable.el,!1))&&!(t&&t.button!==0))for(;$e.length;){var o=$e[0];Qe(o,this.options.selectedClass,!1),$e.shift(),Hn({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},kt(e,{pluginName:"multiDrag",utils:{select:function(t){var o=t.parentNode[vt];!o||!o.options.multiDrag||~$e.indexOf(t)||(Nt&&Nt!==o&&(Nt.multiDrag._deselectMultiDrag(),Nt=o),Qe(t,o.options.selectedClass,!0),$e.push(t))},deselect:function(t){var o=t.parentNode[vt],a=$e.indexOf(t);!o||!o.options.multiDrag||!~a||(Qe(t,o.options.selectedClass,!1),$e.splice(a,1))}},eventProperties:function(){var t=this,o=[],a=[];return $e.forEach(function(s){o.push({multiDragElement:s,index:s.sortableIndex});var r;Et&&s!==_e?r=-1:Et?r=tt(s,":not(."+t.options.selectedClass+")"):r=tt(s),a.push({multiDragElement:s,index:r})}),{items:Nh($e),clones:[].concat(Pt),oldIndicies:o,newIndicies:a}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),t==="ctrl"?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function my(e,n){$e.forEach(function(t,o){var a=n.children[t.sortableIndex+(e?Number(o):0)];a?n.insertBefore(t,a):n.appendChild(t)})}function os(e,n){Pt.forEach(function(t,o){var a=n.children[t.sortableIndex+(e?Number(o):0)];a?n.insertBefore(t,a):n.appendChild(t)})}function Oo(){$e.forEach(function(e){e!==_e&&e.parentNode&&e.parentNode.removeChild(e)})}ye.mount(new cy);ye.mount($a,Ea);const vy=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:gy,Sortable:ye,Swap:fy,default:ye},Symbol.toStringTag,{value:"Module"})),hy=jl(vy);(function(e,n){(function(o,a){e.exports=a(Fh,hy)})(typeof self<"u"?self:Th,function(t,o){return function(a){var s={};function r(l){if(s[l])return s[l].exports;var i=s[l]={i:l,l:!1,exports:{}};return a[l].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=a,r.c=s,r.d=function(l,i,u){r.o(l,i)||Object.defineProperty(l,i,{enumerable:!0,get:u})},r.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},r.t=function(l,i){if(i&1&&(l=r(l)),i&8||i&4&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),i&2&&typeof l!="string")for(var d in l)r.d(u,d,(function(c){return l[c]}).bind(null,d));return u},r.n=function(l){var i=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(i,"a",i),i},r.o=function(l,i){return Object.prototype.hasOwnProperty.call(l,i)},r.p="",r(r.s="fb15")}({"00ee":function(a,s,r){var l=r("b622"),i=l("toStringTag"),u={};u[i]="z",a.exports=String(u)==="[object z]"},"0366":function(a,s,r){var l=r("1c0b");a.exports=function(i,u,d){if(l(i),u===void 0)return i;switch(d){case 0:return function(){return i.call(u)};case 1:return function(c){return i.call(u,c)};case 2:return function(c,f){return i.call(u,c,f)};case 3:return function(c,f,p){return i.call(u,c,f,p)}}return function(){return i.apply(u,arguments)}}},"057f":function(a,s,r){var l=r("fc6a"),i=r("241c").f,u={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(f){try{return i(f)}catch{return d.slice()}};a.exports.f=function(p){return d&&u.call(p)=="[object Window]"?c(p):i(l(p))}},"06cf":function(a,s,r){var l=r("83ab"),i=r("d1e7"),u=r("5c6c"),d=r("fc6a"),c=r("c04e"),f=r("5135"),p=r("0cfb"),m=Object.getOwnPropertyDescriptor;s.f=l?m:function(y,b){if(y=d(y),b=c(b,!0),p)try{return m(y,b)}catch{}if(f(y,b))return u(!i.f.call(y,b),y[b])}},"0cfb":function(a,s,r){var l=r("83ab"),i=r("d039"),u=r("cc12");a.exports=!l&&!i(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,s,r){var l=r("23e7"),i=r("d58f").left,u=r("a640"),d=r("ae40"),c=u("reduce"),f=d("reduce",{1:0});l({target:"Array",proto:!0,forced:!c||!f},{reduce:function(m){return i(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,s,r){var l=r("c6b6"),i=r("9263");a.exports=function(u,d){var c=u.exec;if(typeof c=="function"){var f=c.call(u,d);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(l(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return i.call(u,d)}},"159b":function(a,s,r){var l=r("da84"),i=r("fdbc"),u=r("17c2"),d=r("9112");for(var c in i){var f=l[c],p=f&&f.prototype;if(p&&p.forEach!==u)try{d(p,"forEach",u)}catch{p.forEach=u}}},"17c2":function(a,s,r){var l=r("b727").forEach,i=r("a640"),u=r("ae40"),d=i("forEach"),c=u("forEach");a.exports=!d||!c?function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,s,r){var l=r("d066");a.exports=l("document","documentElement")},"1c0b":function(a,s){a.exports=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r}},"1c7e":function(a,s,r){var l=r("b622"),i=l("iterator"),u=!1;try{var d=0,c={next:function(){return{done:!!d++}},return:function(){u=!0}};c[i]=function(){return this},Array.from(c,function(){throw 2})}catch{}a.exports=function(f,p){if(!p&&!u)return!1;var m=!1;try{var h={};h[i]=function(){return{next:function(){return{done:m=!0}}}},f(h)}catch{}return m}},"1d80":function(a,s){a.exports=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r}},"1dde":function(a,s,r){var l=r("d039"),i=r("b622"),u=r("2d00"),d=i("species");a.exports=function(c){return u>=51||!l(function(){var f=[],p=f.constructor={};return p[d]=function(){return{foo:1}},f[c](Boolean).foo!==1})}},"23cb":function(a,s,r){var l=r("a691"),i=Math.max,u=Math.min;a.exports=function(d,c){var f=l(d);return f<0?i(f+c,0):u(f,c)}},"23e7":function(a,s,r){var l=r("da84"),i=r("06cf").f,u=r("9112"),d=r("6eeb"),c=r("ce4e"),f=r("e893"),p=r("94ca");a.exports=function(m,h){var y=m.target,b=m.global,w=m.stat,E,O,M,R,W,T;if(b?O=l:w?O=l[y]||c(y,{}):O=(l[y]||{}).prototype,O)for(M in h){if(W=h[M],m.noTargetGet?(T=i(O,M),R=T&&T.value):R=O[M],E=p(b?M:y+(w?".":"#")+M,m.forced),!E&&R!==void 0){if(typeof W==typeof R)continue;f(W,R)}(m.sham||R&&R.sham)&&u(W,"sham",!0),d(O,M,W,m)}}},"241c":function(a,s,r){var l=r("ca84"),i=r("7839"),u=i.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return l(c,u)}},"25f0":function(a,s,r){var l=r("6eeb"),i=r("825a"),u=r("d039"),d=r("ad6d"),c="toString",f=RegExp.prototype,p=f[c],m=u(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),h=p.name!=c;(m||h)&&l(RegExp.prototype,c,function(){var b=i(this),w=String(b.source),E=b.flags,O=String(E===void 0&&b instanceof RegExp&&!("flags"in f)?d.call(b):E);return"/"+w+"/"+O},{unsafe:!0})},"2ca0":function(a,s,r){var l=r("23e7"),i=r("06cf").f,u=r("50c4"),d=r("5a34"),c=r("1d80"),f=r("ab13"),p=r("c430"),m="".startsWith,h=Math.min,y=f("startsWith"),b=!p&&!y&&!!function(){var w=i(String.prototype,"startsWith");return w&&!w.writable}();l({target:"String",proto:!0,forced:!b&&!y},{startsWith:function(E){var O=String(c(this));d(E);var M=u(h(arguments.length>1?arguments[1]:void 0,O.length)),R=String(E);return m?m.call(O,R,M):O.slice(M,M+R.length)===R}})},"2d00":function(a,s,r){var l=r("da84"),i=r("342f"),u=l.process,d=u&&u.versions,c=d&&d.v8,f,p;c?(f=c.split("."),p=f[0]+f[1]):i&&(f=i.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=i.match(/Chrome\/(\d+)/),f&&(p=f[1]))),a.exports=p&&+p},"342f":function(a,s,r){var l=r("d066");a.exports=l("navigator","userAgent")||""},"35a1":function(a,s,r){var l=r("f5df"),i=r("3f8c"),u=r("b622"),d=u("iterator");a.exports=function(c){if(c!=null)return c[d]||c["@@iterator"]||i[l(c)]}},"37e8":function(a,s,r){var l=r("83ab"),i=r("9bf2"),u=r("825a"),d=r("df75");a.exports=l?Object.defineProperties:function(f,p){u(f);for(var m=d(p),h=m.length,y=0,b;h>y;)i.f(f,b=m[y++],p[b]);return f}},"3bbe":function(a,s,r){var l=r("861d");a.exports=function(i){if(!l(i)&&i!==null)throw TypeError("Can't set "+String(i)+" as a prototype");return i}},"3ca3":function(a,s,r){var l=r("6547").charAt,i=r("69f3"),u=r("7dd0"),d="String Iterator",c=i.set,f=i.getterFor(d);u(String,"String",function(p){c(this,{type:d,string:String(p),index:0})},function(){var m=f(this),h=m.string,y=m.index,b;return y>=h.length?{value:void 0,done:!0}:(b=l(h,y),m.index+=b.length,{value:b,done:!1})})},"3f8c":function(a,s){a.exports={}},4160:function(a,s,r){var l=r("23e7"),i=r("17c2");l({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(a,s,r){var l=r("da84");a.exports=l},"44ad":function(a,s,r){var l=r("d039"),i=r("c6b6"),u="".split;a.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return i(d)=="String"?u.call(d,""):Object(d)}:Object},"44d2":function(a,s,r){var l=r("b622"),i=r("7c73"),u=r("9bf2"),d=l("unscopables"),c=Array.prototype;c[d]==null&&u.f(c,d,{configurable:!0,value:i(null)}),a.exports=function(f){c[d][f]=!0}},"44e7":function(a,s,r){var l=r("861d"),i=r("c6b6"),u=r("b622"),d=u("match");a.exports=function(c){var f;return l(c)&&((f=c[d])!==void 0?!!f:i(c)=="RegExp")}},4930:function(a,s,r){var l=r("d039");a.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})},"4d64":function(a,s,r){var l=r("fc6a"),i=r("50c4"),u=r("23cb"),d=function(c){return function(f,p,m){var h=l(f),y=i(h.length),b=u(m,y),w;if(c&&p!=p){for(;y>b;)if(w=h[b++],w!=w)return!0}else for(;y>b;b++)if((c||b in h)&&h[b]===p)return c||b||0;return!c&&-1}};a.exports={includes:d(!0),indexOf:d(!1)}},"4de4":function(a,s,r){var l=r("23e7"),i=r("b727").filter,u=r("1dde"),d=r("ae40"),c=u("filter"),f=d("filter");l({target:"Array",proto:!0,forced:!c||!f},{filter:function(m){return i(this,m,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,s,r){var l=r("0366"),i=r("7b0b"),u=r("9bdd"),d=r("e95a"),c=r("50c4"),f=r("8418"),p=r("35a1");a.exports=function(h){var y=i(h),b=typeof this=="function"?this:Array,w=arguments.length,E=w>1?arguments[1]:void 0,O=E!==void 0,M=p(y),R=0,W,T,x,P,z,Z;if(O&&(E=l(E,w>2?arguments[2]:void 0,2)),M!=null&&!(b==Array&&d(M)))for(P=M.call(y),z=P.next,T=new b;!(x=z.call(P)).done;R++)Z=O?u(P,E,[x.value,R],!0):x.value,f(T,R,Z);else for(W=c(y.length),T=new b(W);W>R;R++)Z=O?E(y[R],R):y[R],f(T,R,Z);return T.length=R,T}},"4fad":function(a,s,r){var l=r("23e7"),i=r("6f53").entries;l({target:"Object",stat:!0},{entries:function(d){return i(d)}})},"50c4":function(a,s,r){var l=r("a691"),i=Math.min;a.exports=function(u){return u>0?i(l(u),9007199254740991):0}},5135:function(a,s){var r={}.hasOwnProperty;a.exports=function(l,i){return r.call(l,i)}},5319:function(a,s,r){var l=r("d784"),i=r("825a"),u=r("7b0b"),d=r("50c4"),c=r("a691"),f=r("1d80"),p=r("8aa5"),m=r("14c3"),h=Math.max,y=Math.min,b=Math.floor,w=/\$([$&'`]|\d\d?|<[^>]*>)/g,E=/\$([$&'`]|\d\d?)/g,O=function(M){return M===void 0?M:String(M)};l("replace",2,function(M,R,W,T){var x=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=T.REPLACE_KEEPS_$0,z=x?"$":"$0";return[function(j,U){var F=f(this),J=j==null?void 0:j[M];return J!==void 0?J.call(j,F,U):R.call(String(F),j,U)},function(B,j){if(!x&&P||typeof j=="string"&&j.indexOf(z)===-1){var U=W(R,B,this,j);if(U.done)return U.value}var F=i(B),J=String(this),_=typeof j=="function";_||(j=String(j));var Ee=F.global;if(Ee){var te=F.unicode;F.lastIndex=0}for(var ee=[];;){var ge=m(F,J);if(ge===null||(ee.push(ge),!Ee))break;var pe=String(ge[0]);pe===""&&(F.lastIndex=p(J,d(F.lastIndex),te))}for(var me="",Ae=0,Re=0;Re<ee.length;Re++){ge=ee[Re];for(var ue=String(ge[0]),He=h(y(c(ge.index),J.length),0),ne=[],I=1;I<ge.length;I++)ne.push(O(ge[I]));var H=ge.groups;if(_){var je=[ue].concat(ne,He,J);H!==void 0&&je.push(H);var Je=String(j.apply(void 0,je))}else Je=Z(ue,J,He,ne,H,j);He>=Ae&&(me+=J.slice(Ae,He)+Je,Ae=He+ue.length)}return me+J.slice(Ae)}];function Z(B,j,U,F,J,_){var Ee=U+B.length,te=F.length,ee=E;return J!==void 0&&(J=u(J),ee=w),R.call(_,ee,function(ge,pe){var me;switch(pe.charAt(0)){case"$":return"$";case"&":return B;case"`":return j.slice(0,U);case"'":return j.slice(Ee);case"<":me=J[pe.slice(1,-1)];break;default:var Ae=+pe;if(Ae===0)return ge;if(Ae>te){var Re=b(Ae/10);return Re===0?ge:Re<=te?F[Re-1]===void 0?pe.charAt(1):F[Re-1]+pe.charAt(1):ge}me=F[Ae-1]}return me===void 0?"":me})}})},5692:function(a,s,r){var l=r("c430"),i=r("c6cd");(a.exports=function(u,d){return i[u]||(i[u]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,s,r){var l=r("d066"),i=r("241c"),u=r("7418"),d=r("825a");a.exports=l("Reflect","ownKeys")||function(f){var p=i.f(d(f)),m=u.f;return m?p.concat(m(f)):p}},"5a34":function(a,s,r){var l=r("44e7");a.exports=function(i){if(l(i))throw TypeError("The method doesn't accept regular expressions");return i}},"5c6c":function(a,s){a.exports=function(r,l){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:l}}},"5db7":function(a,s,r){var l=r("23e7"),i=r("a2bf"),u=r("7b0b"),d=r("50c4"),c=r("1c0b"),f=r("65f0");l({target:"Array",proto:!0},{flatMap:function(m){var h=u(this),y=d(h.length),b;return c(m),b=f(h,0),b.length=i(b,h,h,y,0,1,m,arguments.length>1?arguments[1]:void 0),b}})},6547:function(a,s,r){var l=r("a691"),i=r("1d80"),u=function(d){return function(c,f){var p=String(i(c)),m=l(f),h=p.length,y,b;return m<0||m>=h?d?"":void 0:(y=p.charCodeAt(m),y<55296||y>56319||m+1===h||(b=p.charCodeAt(m+1))<56320||b>57343?d?p.charAt(m):y:d?p.slice(m,m+2):(y-55296<<10)+(b-56320)+65536)}};a.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(a,s,r){var l=r("861d"),i=r("e8b5"),u=r("b622"),d=u("species");a.exports=function(c,f){var p;return i(c)&&(p=c.constructor,typeof p=="function"&&(p===Array||i(p.prototype))?p=void 0:l(p)&&(p=p[d],p===null&&(p=void 0))),new(p===void 0?Array:p)(f===0?0:f)}},"69f3":function(a,s,r){var l=r("7f9a"),i=r("da84"),u=r("861d"),d=r("9112"),c=r("5135"),f=r("f772"),p=r("d012"),m=i.WeakMap,h,y,b,w=function(x){return b(x)?y(x):h(x,{})},E=function(x){return function(P){var z;if(!u(P)||(z=y(P)).type!==x)throw TypeError("Incompatible receiver, "+x+" required");return z}};if(l){var O=new m,M=O.get,R=O.has,W=O.set;h=function(x,P){return W.call(O,x,P),P},y=function(x){return M.call(O,x)||{}},b=function(x){return R.call(O,x)}}else{var T=f("state");p[T]=!0,h=function(x,P){return d(x,T,P),P},y=function(x){return c(x,T)?x[T]:{}},b=function(x){return c(x,T)}}a.exports={set:h,get:y,has:b,enforce:w,getterFor:E}},"6eeb":function(a,s,r){var l=r("da84"),i=r("9112"),u=r("5135"),d=r("ce4e"),c=r("8925"),f=r("69f3"),p=f.get,m=f.enforce,h=String(String).split("String");(a.exports=function(y,b,w,E){var O=E?!!E.unsafe:!1,M=E?!!E.enumerable:!1,R=E?!!E.noTargetGet:!1;if(typeof w=="function"&&(typeof b=="string"&&!u(w,"name")&&i(w,"name",b),m(w).source=h.join(typeof b=="string"?b:"")),y===l){M?y[b]=w:d(b,w);return}else O?!R&&y[b]&&(M=!0):delete y[b];M?y[b]=w:i(y,b,w)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||c(this)})},"6f53":function(a,s,r){var l=r("83ab"),i=r("df75"),u=r("fc6a"),d=r("d1e7").f,c=function(f){return function(p){for(var m=u(p),h=i(m),y=h.length,b=0,w=[],E;y>b;)E=h[b++],(!l||d.call(m,E))&&w.push(f?[E,m[E]]:m[E]);return w}};a.exports={entries:c(!0),values:c(!1)}},"73d9":function(a,s,r){var l=r("44d2");l("flatMap")},7418:function(a,s){s.f=Object.getOwnPropertySymbols},"746f":function(a,s,r){var l=r("428f"),i=r("5135"),u=r("e538"),d=r("9bf2").f;a.exports=function(c){var f=l.Symbol||(l.Symbol={});i(f,c)||d(f,c,{value:u.f(c)})}},7839:function(a,s){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,s,r){var l=r("1d80");a.exports=function(i){return Object(l(i))}},"7c73":function(a,s,r){var l=r("825a"),i=r("37e8"),u=r("7839"),d=r("d012"),c=r("1be4"),f=r("cc12"),p=r("f772"),m=">",h="<",y="prototype",b="script",w=p("IE_PROTO"),E=function(){},O=function(x){return h+b+m+x+h+"/"+b+m},M=function(x){x.write(O("")),x.close();var P=x.parentWindow.Object;return x=null,P},R=function(){var x=f("iframe"),P="java"+b+":",z;return x.style.display="none",c.appendChild(x),x.src=String(P),z=x.contentWindow.document,z.open(),z.write(O("document.F=Object")),z.close(),z.F},W,T=function(){try{W=document.domain&&new ActiveXObject("htmlfile")}catch{}T=W?M(W):R();for(var x=u.length;x--;)delete T[y][u[x]];return T()};d[w]=!0,a.exports=Object.create||function(P,z){var Z;return P!==null?(E[y]=l(P),Z=new E,E[y]=null,Z[w]=P):Z=T(),z===void 0?Z:i(Z,z)}},"7dd0":function(a,s,r){var l=r("23e7"),i=r("9ed3"),u=r("e163"),d=r("d2bb"),c=r("d44e"),f=r("9112"),p=r("6eeb"),m=r("b622"),h=r("c430"),y=r("3f8c"),b=r("ae93"),w=b.IteratorPrototype,E=b.BUGGY_SAFARI_ITERATORS,O=m("iterator"),M="keys",R="values",W="entries",T=function(){return this};a.exports=function(x,P,z,Z,B,j,U){i(z,P,Z);var F=function(Re){if(Re===B&&ee)return ee;if(!E&&Re in Ee)return Ee[Re];switch(Re){case M:return function(){return new z(this,Re)};case R:return function(){return new z(this,Re)};case W:return function(){return new z(this,Re)}}return function(){return new z(this)}},J=P+" Iterator",_=!1,Ee=x.prototype,te=Ee[O]||Ee["@@iterator"]||B&&Ee[B],ee=!E&&te||F(B),ge=P=="Array"&&Ee.entries||te,pe,me,Ae;if(ge&&(pe=u(ge.call(new x)),w!==Object.prototype&&pe.next&&(!h&&u(pe)!==w&&(d?d(pe,w):typeof pe[O]!="function"&&f(pe,O,T)),c(pe,J,!0,!0),h&&(y[J]=T))),B==R&&te&&te.name!==R&&(_=!0,ee=function(){return te.call(this)}),(!h||U)&&Ee[O]!==ee&&f(Ee,O,ee),y[P]=ee,B)if(me={values:F(R),keys:j?ee:F(M),entries:F(W)},U)for(Ae in me)(E||_||!(Ae in Ee))&&p(Ee,Ae,me[Ae]);else l({target:P,proto:!0,forced:E||_},me);return me}},"7f9a":function(a,s,r){var l=r("da84"),i=r("8925"),u=l.WeakMap;a.exports=typeof u=="function"&&/native code/.test(i(u))},"825a":function(a,s,r){var l=r("861d");a.exports=function(i){if(!l(i))throw TypeError(String(i)+" is not an object");return i}},"83ab":function(a,s,r){var l=r("d039");a.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,s,r){var l=r("c04e"),i=r("9bf2"),u=r("5c6c");a.exports=function(d,c,f){var p=l(c);p in d?i.f(d,p,u(0,f)):d[p]=f}},"861d":function(a,s){a.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},8875:function(a,s,r){var l,i,u;(function(d,c){i=[],l=c,u=typeof l=="function"?l.apply(s,i):l,u!==void 0&&(a.exports=u)})(typeof self<"u"?self:this,function(){function d(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==d&&document.currentScript)return document.currentScript;try{throw new Error}catch(W){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,m=f.exec(W.stack)||p.exec(W.stack),h=m&&m[1]||!1,y=m&&m[2]||!1,b=document.location.href.replace(document.location.hash,""),w,E,O,M=document.getElementsByTagName("script");h===b&&(w=document.documentElement.outerHTML,E=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),O=w.replace(E,"$1").trim());for(var R=0;R<M.length;R++)if(M[R].readyState==="interactive"||M[R].src===h||h===b&&M[R].innerHTML&&M[R].innerHTML.trim()===O)return M[R];return null}}return d})},8925:function(a,s,r){var l=r("c6cd"),i=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(u){return i.call(u)}),a.exports=l.inspectSource},"8aa5":function(a,s,r){var l=r("6547").charAt;a.exports=function(i,u,d){return u+(d?l(i,u).length:1)}},"8bbf":function(a,s){a.exports=t},"90e3":function(a,s){var r=0,l=Math.random();a.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++r+l).toString(36)}},9112:function(a,s,r){var l=r("83ab"),i=r("9bf2"),u=r("5c6c");a.exports=l?function(d,c,f){return i.f(d,c,u(1,f))}:function(d,c,f){return d[c]=f,d}},9263:function(a,s,r){var l=r("ad6d"),i=r("9f7f"),u=RegExp.prototype.exec,d=String.prototype.replace,c=u,f=function(){var y=/a/,b=/b*/g;return u.call(y,"a"),u.call(b,"a"),y.lastIndex!==0||b.lastIndex!==0}(),p=i.UNSUPPORTED_Y||i.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,h=f||m||p;h&&(c=function(b){var w=this,E,O,M,R,W=p&&w.sticky,T=l.call(w),x=w.source,P=0,z=b;return W&&(T=T.replace("y",""),T.indexOf("g")===-1&&(T+="g"),z=String(b).slice(w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&b[w.lastIndex-1]!==`
`)&&(x="(?: "+x+")",z=" "+z,P++),O=new RegExp("^(?:"+x+")",T)),m&&(O=new RegExp("^"+x+"$(?!\\s)",T)),f&&(E=w.lastIndex),M=u.call(W?O:w,z),W?M?(M.input=M.input.slice(P),M[0]=M[0].slice(P),M.index=w.lastIndex,w.lastIndex+=M[0].length):w.lastIndex=0:f&&M&&(w.lastIndex=w.global?M.index+M[0].length:E),m&&M&&M.length>1&&d.call(M[0],O,function(){for(R=1;R<arguments.length-2;R++)arguments[R]===void 0&&(M[R]=void 0)}),M}),a.exports=c},"94ca":function(a,s,r){var l=r("d039"),i=/#|\.prototype\./,u=function(m,h){var y=c[d(m)];return y==p?!0:y==f?!1:typeof h=="function"?l(h):!!h},d=u.normalize=function(m){return String(m).replace(i,".").toLowerCase()},c=u.data={},f=u.NATIVE="N",p=u.POLYFILL="P";a.exports=u},"99af":function(a,s,r){var l=r("23e7"),i=r("d039"),u=r("e8b5"),d=r("861d"),c=r("7b0b"),f=r("50c4"),p=r("8418"),m=r("65f0"),h=r("1dde"),y=r("b622"),b=r("2d00"),w=y("isConcatSpreadable"),E=9007199254740991,O="Maximum allowed index exceeded",M=b>=51||!i(function(){var x=[];return x[w]=!1,x.concat()[0]!==x}),R=h("concat"),W=function(x){if(!d(x))return!1;var P=x[w];return P!==void 0?!!P:u(x)},T=!M||!R;l({target:"Array",proto:!0,forced:T},{concat:function(P){var z=c(this),Z=m(z,0),B=0,j,U,F,J,_;for(j=-1,F=arguments.length;j<F;j++)if(_=j===-1?z:arguments[j],W(_)){if(J=f(_.length),B+J>E)throw TypeError(O);for(U=0;U<J;U++,B++)U in _&&p(Z,B,_[U])}else{if(B>=E)throw TypeError(O);p(Z,B++,_)}return Z.length=B,Z}})},"9bdd":function(a,s,r){var l=r("825a");a.exports=function(i,u,d,c){try{return c?u(l(d)[0],d[1]):u(d)}catch(p){var f=i.return;throw f!==void 0&&l(f.call(i)),p}}},"9bf2":function(a,s,r){var l=r("83ab"),i=r("0cfb"),u=r("825a"),d=r("c04e"),c=Object.defineProperty;s.f=l?c:function(p,m,h){if(u(p),m=d(m,!0),u(h),i)try{return c(p,m,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(p[m]=h.value),p}},"9ed3":function(a,s,r){var l=r("ae93").IteratorPrototype,i=r("7c73"),u=r("5c6c"),d=r("d44e"),c=r("3f8c"),f=function(){return this};a.exports=function(p,m,h){var y=m+" Iterator";return p.prototype=i(l,{next:u(1,h)}),d(p,y,!1,!0),c[y]=f,p}},"9f7f":function(a,s,r){var l=r("d039");function i(u,d){return RegExp(u,d)}s.UNSUPPORTED_Y=l(function(){var u=i("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=l(function(){var u=i("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(a,s,r){var l=r("e8b5"),i=r("50c4"),u=r("0366"),d=function(c,f,p,m,h,y,b,w){for(var E=h,O=0,M=b?u(b,w,3):!1,R;O<m;){if(O in p){if(R=M?M(p[O],O,f):p[O],y>0&&l(R))E=d(c,f,R,i(R.length),E,y-1)-1;else{if(E>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[E]=R}E++}O++}return E};a.exports=d},a352:function(a,s){a.exports=o},a434:function(a,s,r){var l=r("23e7"),i=r("23cb"),u=r("a691"),d=r("50c4"),c=r("7b0b"),f=r("65f0"),p=r("8418"),m=r("1dde"),h=r("ae40"),y=m("splice"),b=h("splice",{ACCESSORS:!0,0:0,1:2}),w=Math.max,E=Math.min,O=9007199254740991,M="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!y||!b},{splice:function(W,T){var x=c(this),P=d(x.length),z=i(W,P),Z=arguments.length,B,j,U,F,J,_;if(Z===0?B=j=0:Z===1?(B=0,j=P-z):(B=Z-2,j=E(w(u(T),0),P-z)),P+B-j>O)throw TypeError(M);for(U=f(x,j),F=0;F<j;F++)J=z+F,J in x&&p(U,F,x[J]);if(U.length=j,B<j){for(F=z;F<P-j;F++)J=F+j,_=F+B,J in x?x[_]=x[J]:delete x[_];for(F=P;F>P-j+B;F--)delete x[F-1]}else if(B>j)for(F=P-j;F>z;F--)J=F+j-1,_=F+B-1,J in x?x[_]=x[J]:delete x[_];for(F=0;F<B;F++)x[F+z]=arguments[F+2];return x.length=P-j+B,U}})},a4d3:function(a,s,r){var l=r("23e7"),i=r("da84"),u=r("d066"),d=r("c430"),c=r("83ab"),f=r("4930"),p=r("fdbf"),m=r("d039"),h=r("5135"),y=r("e8b5"),b=r("861d"),w=r("825a"),E=r("7b0b"),O=r("fc6a"),M=r("c04e"),R=r("5c6c"),W=r("7c73"),T=r("df75"),x=r("241c"),P=r("057f"),z=r("7418"),Z=r("06cf"),B=r("9bf2"),j=r("d1e7"),U=r("9112"),F=r("6eeb"),J=r("5692"),_=r("f772"),Ee=r("d012"),te=r("90e3"),ee=r("b622"),ge=r("e538"),pe=r("746f"),me=r("d44e"),Ae=r("69f3"),Re=r("b727").forEach,ue=_("hidden"),He="Symbol",ne="prototype",I=ee("toPrimitive"),H=Ae.set,je=Ae.getterFor(He),Je=Object[ne],ke=i.Symbol,rt=u("JSON","stringify"),L=Z.f,G=B.f,Q=P.f,we=j.f,Be=J("symbols"),it=J("op-symbols"),wt=J("string-to-symbol-registry"),pt=J("symbol-to-string-registry"),Bt=J("wks"),tn=i.QObject,nn=!tn||!tn[ne]||!tn[ne].findChild,Bn=c&&m(function(){return W(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a!=7})?function(Ce,fe,he){var Ve=L(Je,fe);Ve&&delete Je[fe],G(Ce,fe,he),Ve&&Ce!==Je&&G(Je,fe,Ve)}:G,Ln=function(Ce,fe){var he=Be[Ce]=W(ke[ne]);return H(he,{type:He,tag:Ce,description:fe}),c||(he.description=fe),he},A=p?function(Ce){return typeof Ce=="symbol"}:function(Ce){return Object(Ce)instanceof ke},D=function(fe,he,Ve){fe===Je&&D(it,he,Ve),w(fe);var ze=M(he,!0);return w(Ve),h(Be,ze)?(Ve.enumerable?(h(fe,ue)&&fe[ue][ze]&&(fe[ue][ze]=!1),Ve=W(Ve,{enumerable:R(0,!1)})):(h(fe,ue)||G(fe,ue,R(1,{})),fe[ue][ze]=!0),Bn(fe,ze,Ve)):G(fe,ze,Ve)},V=function(fe,he){w(fe);var Ve=O(he),ze=T(Ve).concat(Ue(Ve));return Re(ze,function(St){(!c||de.call(Ve,St))&&D(fe,St,Ve[St])}),fe},X=function(fe,he){return he===void 0?W(fe):V(W(fe),he)},de=function(fe){var he=M(fe,!0),Ve=we.call(this,he);return this===Je&&h(Be,he)&&!h(it,he)?!1:Ve||!h(this,he)||!h(Be,he)||h(this,ue)&&this[ue][he]?Ve:!0},Se=function(fe,he){var Ve=O(fe),ze=M(he,!0);if(!(Ve===Je&&h(Be,ze)&&!h(it,ze))){var St=L(Ve,ze);return St&&h(Be,ze)&&!(h(Ve,ue)&&Ve[ue][ze])&&(St.enumerable=!0),St}},Ie=function(fe){var he=Q(O(fe)),Ve=[];return Re(he,function(ze){!h(Be,ze)&&!h(Ee,ze)&&Ve.push(ze)}),Ve},Ue=function(fe){var he=fe===Je,Ve=Q(he?it:O(fe)),ze=[];return Re(Ve,function(St){h(Be,St)&&(!he||h(Je,St))&&ze.push(Be[St])}),ze};if(f||(ke=function(){if(this instanceof ke)throw TypeError("Symbol is not a constructor");var fe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),he=te(fe),Ve=function(ze){this===Je&&Ve.call(it,ze),h(this,ue)&&h(this[ue],he)&&(this[ue][he]=!1),Bn(this,he,R(1,ze))};return c&&nn&&Bn(Je,he,{configurable:!0,set:Ve}),Ln(he,fe)},F(ke[ne],"toString",function(){return je(this).tag}),F(ke,"withoutSetter",function(Ce){return Ln(te(Ce),Ce)}),j.f=de,B.f=D,Z.f=Se,x.f=P.f=Ie,z.f=Ue,ge.f=function(Ce){return Ln(ee(Ce),Ce)},c&&(G(ke[ne],"description",{configurable:!0,get:function(){return je(this).description}}),d||F(Je,"propertyIsEnumerable",de,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:ke}),Re(T(Bt),function(Ce){pe(Ce)}),l({target:He,stat:!0,forced:!f},{for:function(Ce){var fe=String(Ce);if(h(wt,fe))return wt[fe];var he=ke(fe);return wt[fe]=he,pt[he]=fe,he},keyFor:function(fe){if(!A(fe))throw TypeError(fe+" is not a symbol");if(h(pt,fe))return pt[fe]},useSetter:function(){nn=!0},useSimple:function(){nn=!1}}),l({target:"Object",stat:!0,forced:!f,sham:!c},{create:X,defineProperty:D,defineProperties:V,getOwnPropertyDescriptor:Se}),l({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ie,getOwnPropertySymbols:Ue}),l({target:"Object",stat:!0,forced:m(function(){z.f(1)})},{getOwnPropertySymbols:function(fe){return z.f(E(fe))}}),rt){var at=!f||m(function(){var Ce=ke();return rt([Ce])!="[null]"||rt({a:Ce})!="{}"||rt(Object(Ce))!="{}"});l({target:"JSON",stat:!0,forced:at},{stringify:function(fe,he,Ve){for(var ze=[fe],St=1,er;arguments.length>St;)ze.push(arguments[St++]);if(er=he,!(!b(he)&&fe===void 0||A(fe)))return y(he)||(he=function(ei,fo){if(typeof er=="function"&&(fo=er.call(this,ei,fo)),!A(fo))return fo}),ze[1]=he,rt.apply(null,ze)}})}ke[ne][I]||U(ke[ne],I,ke[ne].valueOf),me(ke,He),Ee[ue]=!0},a630:function(a,s,r){var l=r("23e7"),i=r("4df4"),u=r("1c7e"),d=!u(function(c){Array.from(c)});l({target:"Array",stat:!0,forced:d},{from:i})},a640:function(a,s,r){var l=r("d039");a.exports=function(i,u){var d=[][i];return!!d&&l(function(){d.call(null,u||function(){throw 1},1)})}},a691:function(a,s){var r=Math.ceil,l=Math.floor;a.exports=function(i){return isNaN(i=+i)?0:(i>0?l:r)(i)}},ab13:function(a,s,r){var l=r("b622"),i=l("match");a.exports=function(u){var d=/./;try{"/./"[u](d)}catch{try{return d[i]=!1,"/./"[u](d)}catch{}}return!1}},ac1f:function(a,s,r){var l=r("23e7"),i=r("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(a,s,r){var l=r("825a");a.exports=function(){var i=l(this),u="";return i.global&&(u+="g"),i.ignoreCase&&(u+="i"),i.multiline&&(u+="m"),i.dotAll&&(u+="s"),i.unicode&&(u+="u"),i.sticky&&(u+="y"),u}},ae40:function(a,s,r){var l=r("83ab"),i=r("d039"),u=r("5135"),d=Object.defineProperty,c={},f=function(p){throw p};a.exports=function(p,m){if(u(c,p))return c[p];m||(m={});var h=[][p],y=u(m,"ACCESSORS")?m.ACCESSORS:!1,b=u(m,0)?m[0]:f,w=u(m,1)?m[1]:void 0;return c[p]=!!h&&!i(function(){if(y&&!l)return!0;var E={length:-1};y?d(E,1,{enumerable:!0,get:f}):E[1]=1,h.call(E,b,w)})}},ae93:function(a,s,r){var l=r("e163"),i=r("9112"),u=r("5135"),d=r("b622"),c=r("c430"),f=d("iterator"),p=!1,m=function(){return this},h,y,b;[].keys&&(b=[].keys(),"next"in b?(y=l(l(b)),y!==Object.prototype&&(h=y)):p=!0),h==null&&(h={}),!c&&!u(h,f)&&i(h,f,m),a.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:p}},b041:function(a,s,r){var l=r("00ee"),i=r("f5df");a.exports=l?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(a,s,r){var l=r("83ab"),i=r("9bf2").f,u=Function.prototype,d=u.toString,c=/^\s*function ([^ (]*)/,f="name";l&&!(f in u)&&i(u,f,{configurable:!0,get:function(){try{return d.call(this).match(c)[1]}catch{return""}}})},b622:function(a,s,r){var l=r("da84"),i=r("5692"),u=r("5135"),d=r("90e3"),c=r("4930"),f=r("fdbf"),p=i("wks"),m=l.Symbol,h=f?m:m&&m.withoutSetter||d;a.exports=function(y){return u(p,y)||(c&&u(m,y)?p[y]=m[y]:p[y]=h("Symbol."+y)),p[y]}},b64b:function(a,s,r){var l=r("23e7"),i=r("7b0b"),u=r("df75"),d=r("d039"),c=d(function(){u(1)});l({target:"Object",stat:!0,forced:c},{keys:function(p){return u(i(p))}})},b727:function(a,s,r){var l=r("0366"),i=r("44ad"),u=r("7b0b"),d=r("50c4"),c=r("65f0"),f=[].push,p=function(m){var h=m==1,y=m==2,b=m==3,w=m==4,E=m==6,O=m==5||E;return function(M,R,W,T){for(var x=u(M),P=i(x),z=l(R,W,3),Z=d(P.length),B=0,j=T||c,U=h?j(M,Z):y?j(M,0):void 0,F,J;Z>B;B++)if((O||B in P)&&(F=P[B],J=z(F,B,x),m)){if(h)U[B]=J;else if(J)switch(m){case 3:return!0;case 5:return F;case 6:return B;case 2:f.call(U,F)}else if(w)return!1}return E?-1:b||w?w:U}};a.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(a,s,r){var l=r("861d");a.exports=function(i,u){if(!l(i))return i;var d,c;if(u&&typeof(d=i.toString)=="function"&&!l(c=d.call(i))||typeof(d=i.valueOf)=="function"&&!l(c=d.call(i))||!u&&typeof(d=i.toString)=="function"&&!l(c=d.call(i)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(a,s){a.exports=!1},c6b6:function(a,s){var r={}.toString;a.exports=function(l){return r.call(l).slice(8,-1)}},c6cd:function(a,s,r){var l=r("da84"),i=r("ce4e"),u="__core-js_shared__",d=l[u]||i(u,{});a.exports=d},c740:function(a,s,r){var l=r("23e7"),i=r("b727").findIndex,u=r("44d2"),d=r("ae40"),c="findIndex",f=!0,p=d(c);c in[]&&Array(1)[c](function(){f=!1}),l({target:"Array",proto:!0,forced:f||!p},{findIndex:function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}}),u(c)},c8ba:function(a,s){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}a.exports=r},c975:function(a,s,r){var l=r("23e7"),i=r("4d64").indexOf,u=r("a640"),d=r("ae40"),c=[].indexOf,f=!!c&&1/[1].indexOf(1,-0)<0,p=u("indexOf"),m=d("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:f||!p||!m},{indexOf:function(y){return f?c.apply(this,arguments)||0:i(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,s,r){var l=r("5135"),i=r("fc6a"),u=r("4d64").indexOf,d=r("d012");a.exports=function(c,f){var p=i(c),m=0,h=[],y;for(y in p)!l(d,y)&&l(p,y)&&h.push(y);for(;f.length>m;)l(p,y=f[m++])&&(~u(h,y)||h.push(y));return h}},caad:function(a,s,r){var l=r("23e7"),i=r("4d64").includes,u=r("44d2"),d=r("ae40"),c=d("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!c},{includes:function(p){return i(this,p,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(a,s,r){var l=r("da84"),i=r("861d"),u=l.document,d=i(u)&&i(u.createElement);a.exports=function(c){return d?u.createElement(c):{}}},ce4e:function(a,s,r){var l=r("da84"),i=r("9112");a.exports=function(u,d){try{i(l,u,d)}catch{l[u]=d}return d}},d012:function(a,s){a.exports={}},d039:function(a,s){a.exports=function(r){try{return!!r()}catch{return!0}}},d066:function(a,s,r){var l=r("428f"),i=r("da84"),u=function(d){return typeof d=="function"?d:void 0};a.exports=function(d,c){return arguments.length<2?u(l[d])||u(i[d]):l[d]&&l[d][c]||i[d]&&i[d][c]}},d1e7:function(a,s,r){var l={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,u=i&&!l.call({1:2},1);s.f=u?function(c){var f=i(this,c);return!!f&&f.enumerable}:l},d28b:function(a,s,r){var l=r("746f");l("iterator")},d2bb:function(a,s,r){var l=r("825a"),i=r("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,d={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(d,[]),u=d instanceof Array}catch{}return function(p,m){return l(p),i(m),u?c.call(p,m):p.__proto__=m,p}}():void 0)},d3b7:function(a,s,r){var l=r("00ee"),i=r("6eeb"),u=r("b041");l||i(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(a,s,r){var l=r("9bf2").f,i=r("5135"),u=r("b622"),d=u("toStringTag");a.exports=function(c,f,p){c&&!i(c=p?c:c.prototype,d)&&l(c,d,{configurable:!0,value:f})}},d58f:function(a,s,r){var l=r("1c0b"),i=r("7b0b"),u=r("44ad"),d=r("50c4"),c=function(f){return function(p,m,h,y){l(m);var b=i(p),w=u(b),E=d(b.length),O=f?E-1:0,M=f?-1:1;if(h<2)for(;;){if(O in w){y=w[O],O+=M;break}if(O+=M,f?O<0:E<=O)throw TypeError("Reduce of empty array with no initial value")}for(;f?O>=0:E>O;O+=M)O in w&&(y=m(y,w[O],O,b));return y}};a.exports={left:c(!1),right:c(!0)}},d784:function(a,s,r){r("ac1f");var l=r("6eeb"),i=r("d039"),u=r("b622"),d=r("9263"),c=r("9112"),f=u("species"),p=!i(function(){var w=/./;return w.exec=function(){var E=[];return E.groups={a:"7"},E},"".replace(w,"$<a>")!=="7"}),m=function(){return"a".replace(/./,"$0")==="$0"}(),h=u("replace"),y=function(){return/./[h]?/./[h]("a","$0")==="":!1}(),b=!i(function(){var w=/(?:)/,E=w.exec;w.exec=function(){return E.apply(this,arguments)};var O="ab".split(w);return O.length!==2||O[0]!=="a"||O[1]!=="b"});a.exports=function(w,E,O,M){var R=u(w),W=!i(function(){var B={};return B[R]=function(){return 7},""[w](B)!=7}),T=W&&!i(function(){var B=!1,j=/a/;return w==="split"&&(j={},j.constructor={},j.constructor[f]=function(){return j},j.flags="",j[R]=/./[R]),j.exec=function(){return B=!0,null},j[R](""),!B});if(!W||!T||w==="replace"&&!(p&&m&&!y)||w==="split"&&!b){var x=/./[R],P=O(R,""[w],function(B,j,U,F,J){return j.exec===d?W&&!J?{done:!0,value:x.call(j,U,F)}:{done:!0,value:B.call(U,j,F)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),z=P[0],Z=P[1];l(String.prototype,w,z),l(RegExp.prototype,R,E==2?function(B,j){return Z.call(B,this,j)}:function(B){return Z.call(B,this)})}M&&c(RegExp.prototype[R],"sham",!0)}},d81d:function(a,s,r){var l=r("23e7"),i=r("b727").map,u=r("1dde"),d=r("ae40"),c=u("map"),f=d("map");l({target:"Array",proto:!0,forced:!c||!f},{map:function(m){return i(this,m,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,s,r){(function(l){var i=function(u){return u&&u.Math==Math&&u};a.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof l=="object"&&l)||Function("return this")()}).call(this,r("c8ba"))},dbb4:function(a,s,r){var l=r("23e7"),i=r("83ab"),u=r("56ef"),d=r("fc6a"),c=r("06cf"),f=r("8418");l({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(m){for(var h=d(m),y=c.f,b=u(h),w={},E=0,O,M;b.length>E;)M=y(h,O=b[E++]),M!==void 0&&f(w,O,M);return w}})},dbf1:function(a,s,r){(function(l){r.d(s,"a",function(){return u});function i(){return typeof window<"u"?window.console:globalThis.console}var u=i()}).call(this,r("c8ba"))},ddb0:function(a,s,r){var l=r("da84"),i=r("fdbc"),u=r("e260"),d=r("9112"),c=r("b622"),f=c("iterator"),p=c("toStringTag"),m=u.values;for(var h in i){var y=l[h],b=y&&y.prototype;if(b){if(b[f]!==m)try{d(b,f,m)}catch{b[f]=m}if(b[p]||d(b,p,h),i[h]){for(var w in u)if(b[w]!==u[w])try{d(b,w,u[w])}catch{b[w]=u[w]}}}}},df75:function(a,s,r){var l=r("ca84"),i=r("7839");a.exports=Object.keys||function(d){return l(d,i)}},e01a:function(a,s,r){var l=r("23e7"),i=r("83ab"),u=r("da84"),d=r("5135"),c=r("861d"),f=r("9bf2").f,p=r("e893"),m=u.Symbol;if(i&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var h={},y=function(){var R=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),W=this instanceof y?new m(R):R===void 0?m():m(R);return R===""&&(h[W]=!0),W};p(y,m);var b=y.prototype=m.prototype;b.constructor=y;var w=b.toString,E=String(m("test"))=="Symbol(test)",O=/^Symbol\((.*)\)[^)]+$/;f(b,"description",{configurable:!0,get:function(){var R=c(this)?this.valueOf():this,W=w.call(R);if(d(h,R))return"";var T=E?W.slice(7,-1):W.replace(O,"$1");return T===""?void 0:T}}),l({global:!0,forced:!0},{Symbol:y})}},e163:function(a,s,r){var l=r("5135"),i=r("7b0b"),u=r("f772"),d=r("e177"),c=u("IE_PROTO"),f=Object.prototype;a.exports=d?Object.getPrototypeOf:function(p){return p=i(p),l(p,c)?p[c]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?f:null}},e177:function(a,s,r){var l=r("d039");a.exports=!l(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},e260:function(a,s,r){var l=r("fc6a"),i=r("44d2"),u=r("3f8c"),d=r("69f3"),c=r("7dd0"),f="Array Iterator",p=d.set,m=d.getterFor(f);a.exports=c(Array,"Array",function(h,y){p(this,{type:f,target:l(h),index:0,kind:y})},function(){var h=m(this),y=h.target,b=h.kind,w=h.index++;return!y||w>=y.length?(h.target=void 0,{value:void 0,done:!0}):b=="keys"?{value:w,done:!1}:b=="values"?{value:y[w],done:!1}:{value:[w,y[w]],done:!1}},"values"),u.Arguments=u.Array,i("keys"),i("values"),i("entries")},e439:function(a,s,r){var l=r("23e7"),i=r("d039"),u=r("fc6a"),d=r("06cf").f,c=r("83ab"),f=i(function(){d(1)}),p=!c||f;l({target:"Object",stat:!0,forced:p,sham:!c},{getOwnPropertyDescriptor:function(h,y){return d(u(h),y)}})},e538:function(a,s,r){var l=r("b622");s.f=l},e893:function(a,s,r){var l=r("5135"),i=r("56ef"),u=r("06cf"),d=r("9bf2");a.exports=function(c,f){for(var p=i(f),m=d.f,h=u.f,y=0;y<p.length;y++){var b=p[y];l(c,b)||m(c,b,h(f,b))}}},e8b5:function(a,s,r){var l=r("c6b6");a.exports=Array.isArray||function(u){return l(u)=="Array"}},e95a:function(a,s,r){var l=r("b622"),i=r("3f8c"),u=l("iterator"),d=Array.prototype;a.exports=function(c){return c!==void 0&&(i.Array===c||d[u]===c)}},f5df:function(a,s,r){var l=r("00ee"),i=r("c6b6"),u=r("b622"),d=u("toStringTag"),c=i(function(){return arguments}())=="Arguments",f=function(p,m){try{return p[m]}catch{}};a.exports=l?i:function(p){var m,h,y;return p===void 0?"Undefined":p===null?"Null":typeof(h=f(m=Object(p),d))=="string"?h:c?i(m):(y=i(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},f772:function(a,s,r){var l=r("5692"),i=r("90e3"),u=l("keys");a.exports=function(d){return u[d]||(u[d]=i(d))}},fb15:function(a,s,r){if(r.r(s),typeof window<"u"){var l=window.document.currentScript;{var i=r("8875");l=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i})}var u=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(r.p=u[1])}r("99af"),r("4de4"),r("4160"),r("c975"),r("d81d"),r("a434"),r("159b"),r("a4d3"),r("e439"),r("dbb4"),r("b64b");function d(A,D,V){return D in A?Object.defineProperty(A,D,{value:V,enumerable:!0,configurable:!0,writable:!0}):A[D]=V,A}function c(A,D){var V=Object.keys(A);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(A);D&&(X=X.filter(function(de){return Object.getOwnPropertyDescriptor(A,de).enumerable})),V.push.apply(V,X)}return V}function f(A){for(var D=1;D<arguments.length;D++){var V=arguments[D]!=null?arguments[D]:{};D%2?c(Object(V),!0).forEach(function(X){d(A,X,V[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(V)):c(Object(V)).forEach(function(X){Object.defineProperty(A,X,Object.getOwnPropertyDescriptor(V,X))})}return A}function p(A){if(Array.isArray(A))return A}r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function m(A,D){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(A)))){var V=[],X=!0,de=!1,Se=void 0;try{for(var Ie=A[Symbol.iterator](),Ue;!(X=(Ue=Ie.next()).done)&&(V.push(Ue.value),!(D&&V.length===D));X=!0);}catch(at){de=!0,Se=at}finally{try{!X&&Ie.return!=null&&Ie.return()}finally{if(de)throw Se}}return V}}r("a630"),r("fb6a"),r("b0c0"),r("25f0");function h(A,D){(D==null||D>A.length)&&(D=A.length);for(var V=0,X=new Array(D);V<D;V++)X[V]=A[V];return X}function y(A,D){if(A){if(typeof A=="string")return h(A,D);var V=Object.prototype.toString.call(A).slice(8,-1);if(V==="Object"&&A.constructor&&(V=A.constructor.name),V==="Map"||V==="Set")return Array.from(A);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return h(A,D)}}function b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(A,D){return p(A)||m(A,D)||y(A,D)||b()}function E(A){if(Array.isArray(A))return h(A)}function O(A){if(typeof Symbol<"u"&&Symbol.iterator in Object(A))return Array.from(A)}function M(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(A){return E(A)||O(A)||y(A)||M()}var W=r("a352"),T=r.n(W);function x(A){A.parentElement!==null&&A.parentElement.removeChild(A)}function P(A,D,V){var X=V===0?A.children[0]:A.children[V-1].nextSibling;A.insertBefore(D,X)}var z=r("dbf1");r("13d5"),r("4fad"),r("ac1f"),r("5319");function Z(A){var D=Object.create(null);return function(X){var de=D[X];return de||(D[X]=A(X))}}var B=/-(\w)/g,j=Z(function(A){return A.replace(B,function(D,V){return V.toUpperCase()})});r("5db7"),r("73d9");var U=["Start","Add","Remove","Update","End"],F=["Choose","Unchoose","Sort","Filter","Clone"],J=["Move"],_=[J,U,F].flatMap(function(A){return A}).map(function(A){return"on".concat(A)}),Ee={manage:J,manageAndEmit:U,emit:F};function te(A){return _.indexOf(A)!==-1}r("caad"),r("2ca0");var ee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ge(A){return ee.includes(A)}function pe(A){return["transition-group","TransitionGroup"].includes(A)}function me(A){return["id","class","role","style"].includes(A)||A.startsWith("data-")||A.startsWith("aria-")||A.startsWith("on")}function Ae(A){return A.reduce(function(D,V){var X=w(V,2),de=X[0],Se=X[1];return D[de]=Se,D},{})}function Re(A){var D=A.$attrs,V=A.componentData,X=V===void 0?{}:V,de=Ae(Object.entries(D).filter(function(Se){var Ie=w(Se,2),Ue=Ie[0];return Ie[1],me(Ue)}));return f(f({},de),X)}function ue(A){var D=A.$attrs,V=A.callBackBuilder,X=Ae(He(D));Object.entries(V).forEach(function(Se){var Ie=w(Se,2),Ue=Ie[0],at=Ie[1];Ee[Ue].forEach(function(Ce){X["on".concat(Ce)]=at(Ce)})});var de="[data-draggable]".concat(X.draggable||"");return f(f({},X),{},{draggable:de})}function He(A){return Object.entries(A).filter(function(D){var V=w(D,2),X=V[0];return V[1],!me(X)}).map(function(D){var V=w(D,2),X=V[0],de=V[1];return[j(X),de]}).filter(function(D){var V=w(D,2),X=V[0];return V[1],!te(X)})}r("c740");function ne(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function I(A,D){for(var V=0;V<D.length;V++){var X=D[V];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(A,X.key,X)}}function H(A,D,V){return D&&I(A.prototype,D),A}var je=function(D){var V=D.el;return V},Je=function(D,V){return D.__draggable_context=V},ke=function(D){return D.__draggable_context},rt=function(){function A(D){var V=D.nodes,X=V.header,de=V.default,Se=V.footer,Ie=D.root,Ue=D.realList;ne(this,A),this.defaultNodes=de,this.children=[].concat(R(X),R(de),R(Se)),this.externalComponent=Ie.externalComponent,this.rootTransition=Ie.transition,this.tag=Ie.tag,this.realList=Ue}return H(A,[{key:"render",value:function(V,X){var de=this.tag,Se=this.children,Ie=this._isRootComponent,Ue=Ie?{default:function(){return Se}}:Se;return V(de,X,Ue)}},{key:"updated",value:function(){var V=this.defaultNodes,X=this.realList;V.forEach(function(de,Se){Je(je(de),{element:X[Se],index:Se})})}},{key:"getUnderlyingVm",value:function(V){return ke(V)}},{key:"getVmIndexFromDomIndex",value:function(V,X){var de=this.defaultNodes,Se=de.length,Ie=X.children,Ue=Ie.item(V);if(Ue===null)return Se;var at=ke(Ue);if(at)return at.index;if(Se===0)return 0;var Ce=je(de[0]),fe=R(Ie).findIndex(function(he){return he===Ce});return V<fe?0:Se}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),A}(),L=r("8bbf");function G(A,D){var V=A[D];return V?V():[]}function Q(A){var D=A.$slots,V=A.realList,X=A.getKey,de=V||[],Se=["header","footer"].map(function(he){return G(D,he)}),Ie=w(Se,2),Ue=Ie[0],at=Ie[1],Ce=D.item;if(!Ce)throw new Error("draggable element must have an item slot");var fe=de.flatMap(function(he,Ve){return Ce({element:he,index:Ve}).map(function(ze){return ze.key=X(he),ze.props=f(f({},ze.props||{}),{},{"data-draggable":!0}),ze})});if(fe.length!==de.length)throw new Error("Item slot must have only one child");return{header:Ue,footer:at,default:fe}}function we(A){var D=pe(A),V=!ge(A)&&!D;return{transition:D,externalComponent:V,tag:V?Object(L.resolveComponent)(A):D?L.TransitionGroup:A}}function Be(A){var D=A.$slots,V=A.tag,X=A.realList,de=A.getKey,Se=Q({$slots:D,realList:X,getKey:de}),Ie=we(V);return new rt({nodes:Se,root:Ie,realList:X})}function it(A,D){var V=this;Object(L.nextTick)(function(){return V.$emit(A.toLowerCase(),D)})}function wt(A){var D=this;return function(V,X){if(D.realList!==null)return D["onDrag".concat(A)](V,X)}}function pt(A){var D=this,V=wt.call(this,A);return function(X,de){V.call(D,X,de),it.call(D,A,X)}}var Bt=null,tn={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(D){return D}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},nn=["update:modelValue","change"].concat(R([].concat(R(Ee.manageAndEmit),R(Ee.emit)).map(function(A){return A.toLowerCase()}))),Bn=Object(L.defineComponent)({name:"draggable",inheritAttrs:!1,props:tn,emits:nn,data:function(){return{error:!1}},render:function(){try{this.error=!1;var D=this.$slots,V=this.$attrs,X=this.tag,de=this.componentData,Se=this.realList,Ie=this.getKey,Ue=Be({$slots:D,tag:X,realList:Se,getKey:Ie});this.componentStructure=Ue;var at=Re({$attrs:V,componentData:de});return Ue.render(L.h,at)}catch(Ce){return this.error=!0,Object(L.h)("pre",{style:{color:"red"}},Ce.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&z.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var D=this;if(!this.error){var V=this.$attrs,X=this.$el,de=this.componentStructure;de.updated();var Se=ue({$attrs:V,callBackBuilder:{manageAndEmit:function(at){return pt.call(D,at)},emit:function(at){return it.bind(D,at)},manage:function(at){return wt.call(D,at)}}}),Ie=X.nodeType===1?X:X.parentElement;this._sortable=new T.a(Ie,Se),this.targetDomElement=Ie,Ie.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var D=this.list;return D||this.modelValue},getKey:function(){var D=this.itemKey;return typeof D=="function"?D:function(V){return V[D]}}},watch:{$attrs:{handler:function(D){var V=this._sortable;V&&He(D).forEach(function(X){var de=w(X,2),Se=de[0],Ie=de[1];V.option(Se,Ie)})},deep:!0}},methods:{getUnderlyingVm:function(D){return this.componentStructure.getUnderlyingVm(D)||null},getUnderlyingPotencialDraggableComponent:function(D){return D.__draggable_component__},emitChanges:function(D){var V=this;Object(L.nextTick)(function(){return V.$emit("change",D)})},alterList:function(D){if(this.list){D(this.list);return}var V=R(this.modelValue);D(V),this.$emit("update:modelValue",V)},spliceList:function(){var D=arguments,V=function(de){return de.splice.apply(de,R(D))};this.alterList(V)},updatePosition:function(D,V){var X=function(Se){return Se.splice(V,0,Se.splice(D,1)[0])};this.alterList(X)},getRelatedContextFromMoveEvent:function(D){var V=D.to,X=D.related,de=this.getUnderlyingPotencialDraggableComponent(V);if(!de)return{component:de};var Se=de.realList,Ie={list:Se,component:de};if(V!==X&&Se){var Ue=de.getUnderlyingVm(X)||{};return f(f({},Ue),Ie)}return Ie},getVmIndexFromDomIndex:function(D){return this.componentStructure.getVmIndexFromDomIndex(D,this.targetDomElement)},onDragStart:function(D){this.context=this.getUnderlyingVm(D.item),D.item._underlying_vm_=this.clone(this.context.element),Bt=D.item},onDragAdd:function(D){var V=D.item._underlying_vm_;if(V!==void 0){x(D.item);var X=this.getVmIndexFromDomIndex(D.newIndex);this.spliceList(X,0,V);var de={element:V,newIndex:X};this.emitChanges({added:de})}},onDragRemove:function(D){if(P(this.$el,D.item,D.oldIndex),D.pullMode==="clone"){x(D.clone);return}var V=this.context,X=V.index,de=V.element;this.spliceList(X,1);var Se={element:de,oldIndex:X};this.emitChanges({removed:Se})},onDragUpdate:function(D){x(D.item),P(D.from,D.item,D.oldIndex);var V=this.context.index,X=this.getVmIndexFromDomIndex(D.newIndex);this.updatePosition(V,X);var de={element:this.context.element,oldIndex:V,newIndex:X};this.emitChanges({moved:de})},computeFutureIndex:function(D,V){if(!D.element)return 0;var X=R(V.to.children).filter(function(Ue){return Ue.style.display!=="none"}),de=X.indexOf(V.related),Se=D.component.getVmIndexFromDomIndex(de),Ie=X.indexOf(Bt)!==-1;return Ie||!V.willInsertAfter?Se:Se+1},onDragMove:function(D,V){var X=this.move,de=this.realList;if(!X||!de)return!0;var Se=this.getRelatedContextFromMoveEvent(D),Ie=this.computeFutureIndex(Se,D),Ue=f(f({},this.context),{},{futureIndex:Ie}),at=f(f({},D),{},{relatedContext:Se,draggedContext:Ue});return X(at,V)},onDragEnd:function(){Bt=null}}}),Ln=Bn;s.default=Ln},fb6a:function(a,s,r){var l=r("23e7"),i=r("861d"),u=r("e8b5"),d=r("23cb"),c=r("50c4"),f=r("fc6a"),p=r("8418"),m=r("b622"),h=r("1dde"),y=r("ae40"),b=h("slice"),w=y("slice",{ACCESSORS:!0,0:0,1:2}),E=m("species"),O=[].slice,M=Math.max;l({target:"Array",proto:!0,forced:!b||!w},{slice:function(W,T){var x=f(this),P=c(x.length),z=d(W,P),Z=d(T===void 0?P:T,P),B,j,U;if(u(x)&&(B=x.constructor,typeof B=="function"&&(B===Array||u(B.prototype))?B=void 0:i(B)&&(B=B[E],B===null&&(B=void 0)),B===Array||B===void 0))return O.call(x,z,Z);for(j=new(B===void 0?Array:B)(M(Z-z,0)),U=0;z<Z;z++,U++)z in x&&p(j,U,x[z]);return j.length=U,j}})},fc6a:function(a,s,r){var l=r("44ad"),i=r("1d80");a.exports=function(u){return l(i(u))}},fdbc:function(a,s){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,s,r){var l=r("4930");a.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(zl);var yy=zl.exports;const by=Mh(yy),xy={class:"space-y-3"},wy={key:0,class:"rounded-lg border border-slate-200 overflow-hidden"},Sy={class:"border-b border-slate-100 last:border-b-0"},Cy={class:"grid grid-cols-[1fr_1fr_120px_52px_52px_68px] gap-0 items-center px-2 py-1.5 hover:bg-slate-50/50 transition-colors"},Ey={class:"px-1"},$y=["onUpdate:modelValue","onInput"],Py={class:"px-1"},Oy=["onUpdate:modelValue"],Ry={class:"px-1"},Iy=["onUpdate:modelValue"],Dy={class:"flex items-center justify-center"},Ay=["onUpdate:modelValue"],Ty={class:"flex items-center justify-center"},My=["onUpdate:modelValue"],Fy={class:"flex items-center justify-end gap-0.5 pr-1"},ky={type:"button",class:"drag-handle p-1.5 text-slate-300 hover:text-slate-500 cursor-grab rounded transition-colors"},By=["onClick","disabled"],Ly={key:0,class:"px-4 pb-2"},Ny={key:0,class:"text-[11px] text-red-500"},Vy={key:1,class:"text-[11px] text-red-500"},jy={key:1,class:"text-center py-6 bg-slate-50 rounded-lg border border-dashed border-slate-200"},zy=["disabled"],Uy={key:2,class:"text-xs text-slate-400 text-center"},Gy=K({__name:"ColumnEditor",props:{modelValue:{},maxColumns:{}},emits:["update:modelValue"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=o.maxColumns||15,r=N([]);Ge(()=>o.modelValue,h=>{h&&h.length>0&&(r.value=h.map(y=>({...y,id:y.id||l()})))},{immediate:!0});const l=()=>Math.random().toString(36).substring(2,9),i=h=>{if(!h.label){h.name="";return}h.name=ba(h.label)},u=h=>Ur(h),d=(h,y)=>h?r.value.some((b,w)=>w!==y&&b.name===h):!1,c=()=>{r.value.length>=s||(r.value.push({id:l(),name:"",label:"",type:"text",required:!1,searchable:!1}),p())},f=h=>{r.value.length<=1||(r.value.splice(h,1),p())},p=()=>{const h=r.value.map(({id:y,...b})=>b);a("update:modelValue",h)};return n({isValid:()=>r.value.length===0?!1:r.value.every(h=>h.name&&h.label&&u(h.name)&&!d(h.name,r.value.indexOf(h)))}),(h,y)=>($(),k("div",xy,[r.value.length>0?($(),k("div",wy,[y[2]||(y[2]=ta('<div class="grid grid-cols-[1fr_1fr_120px_52px_52px_68px] gap-0 bg-slate-50 border-b border-slate-200 px-2 py-2 text-xs font-medium text-slate-500" data-v-4918d16c><div class="px-2" data-v-4918d16c>Название</div><div class="px-2" data-v-4918d16c>Код</div><div class="px-2" data-v-4918d16c>Тип</div><div class="text-center" data-v-4918d16c>Обяз.</div><div class="text-center" data-v-4918d16c>Поиск</div><div data-v-4918d16c></div></div>',1)),S(g(by),{modelValue:r.value,"onUpdate:modelValue":y[0]||(y[0]=b=>r.value=b),"item-key":"id",handle:".drag-handle","ghost-class":"opacity-50",onChange:p,tag:"div"},{item:C(({element:b,index:w})=>[v("div",Sy,[v("div",Cy,[v("div",Ey,[Ne(v("input",{"onUpdate:modelValue":E=>b.label=E,type:"text",placeholder:"Название",class:"w-full px-2.5 py-1.5 text-sm border border-slate-200 rounded-md bg-white focus:bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all",onInput:E=>{i(b),p()}},null,40,$y),[[st,b.label]])]),v("div",Py,[Ne(v("input",{"onUpdate:modelValue":E=>b.name=E,type:"text",placeholder:"slug",class:Oe(["w-full px-2.5 py-1.5 text-sm font-mono border border-slate-200 rounded-md bg-white focus:bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all",{"border-red-300 bg-red-50":b.name&&!u(b.name)||d(b.name,w)}]),onInput:p},null,42,Oy),[[st,b.name]])]),v("div",Ry,[Ne(v("select",{"onUpdate:modelValue":E=>b.type=E,class:"w-full px-2 py-1.5 text-sm border border-slate-200 rounded-md bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all appearance-none cursor-pointer",onChange:p},[...y[1]||(y[1]=[v("option",{value:"text"},"Текст",-1),v("option",{value:"number"},"Число",-1),v("option",{value:"date"},"Дата",-1),v("option",{value:"bool"},"Да/Нет",-1)])],40,Iy),[[yn,b.type]])]),v("div",Dy,[Ne(v("input",{"onUpdate:modelValue":E=>b.required=E,type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",onChange:p},null,40,Ay),[[Qt,b.required]])]),v("div",Ty,[Ne(v("input",{"onUpdate:modelValue":E=>b.searchable=E,type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",onChange:p},null,40,My),[[Qt,b.searchable]])]),v("div",Fy,[v("button",ky,[S(g(Is),{class:"w-3.5 h-3.5"})]),v("button",{type:"button",onClick:E=>f(w),class:Oe(["p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded transition-colors",{"opacity-30 cursor-not-allowed":r.value.length<=1}]),disabled:r.value.length<=1},[S(g(lo),{class:"w-3.5 h-3.5"})],10,By)])]),b.name&&!u(b.name)||d(b.name,w)?($(),k("div",Ly,[b.name&&!u(b.name)?($(),k("p",Ny," Код: только a-z, 0-9, _ начиная с буквы ")):ve("",!0),d(b.name,w)?($(),k("p",Vy," Код колонки должен быть уникальным ")):ve("",!0)])):ve("",!0)])]),_:1},8,["modelValue"])])):($(),k("div",jy,[...y[3]||(y[3]=[v("p",{class:"text-sm text-slate-500"},"Добавьте хотя бы одну колонку",-1)])])),v("button",{type:"button",onClick:c,class:Oe(["w-full flex items-center justify-center gap-1.5 px-3 py-2.5 text-sm font-medium text-slate-500 hover:text-indigo-600 border border-dashed border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/50 rounded-lg transition-all",{"opacity-50 cursor-not-allowed":r.value.length>=g(s)}]),disabled:r.value.length>=g(s)},[S(g(qo),{class:"w-4 h-4"}),y[4]||(y[4]=se(" Добавить колонку ",-1))],10,zy),r.value.length>0?($(),k("p",Uy,q(r.value.length)+" из "+q(g(s))+" колонок ",1)):ve("",!0)]))}}),Zl=ys(Gy,[["__scopeId","data-v-4918d16c"]]),Hy={key:0,class:"p-6"},_y={class:"flex items-center justify-between"},Ky={class:"grid grid-cols-2 gap-3"},qy=["onClick","disabled"],Wy={class:"font-bold text-slate-900 text-sm"},Xy={class:"text-xs text-slate-500 mt-1"},Yy={key:0,class:"text-[10px] text-slate-400 mt-1"},Qy=["disabled"],Jy={key:1,class:"p-6"},Zy={class:"flex items-center justify-between"},e0={class:"flex items-center gap-3"},t0={class:"relative mt-1"},n0={key:0,class:"mt-1 text-xs text-red-600"},o0={key:1,class:"mt-1 text-xs text-slate-500"},r0=["placeholder"],a0={key:0,class:"bg-slate-50 rounded-md p-4 border border-slate-100"},s0={class:"flex flex-wrap gap-2"},l0={class:"text-slate-400 ml-1"},i0={key:0,class:"text-red-400"},u0={key:1,class:"text-sm text-red-600"},d0=["disabled"],c0={key:2,class:"flex flex-col max-h-[85vh]"},f0={class:"flex items-center justify-between p-6 border-b border-slate-100"},p0={class:"flex items-center gap-3"},g0={class:"flex-1 overflow-y-auto p-6"},m0={class:"flex items-center justify-end gap-3 p-6 border-t border-slate-100 bg-slate-50"},v0=["disabled"],h0=K({__name:"CreateDirectoryModal",props:{isOpen:{type:Boolean},existingToolNames:{}},emits:["close","submit"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=[{id:"qa",label:"Вопрос-ответ",description:"Пары вопросов и ответов",icon:Ds,columns:[{name:"question",label:"Вопрос",type:"text",required:!0,searchable:!0},{name:"answer",label:"Ответ",type:"text",required:!0,searchable:!1}],defaultDescription:"Найти ответ на часто задаваемый вопрос"},{id:"service_catalog",label:"Каталог услуг",description:"Название, описание, цена",icon:Cs,columns:[{name:"name",label:"Название",type:"text",required:!0,searchable:!0},{name:"description",label:"Описание",type:"text",required:!1,searchable:!0},{name:"price",label:"Цена",type:"number",required:!1,searchable:!1}],defaultDescription:"Найти услугу по названию или описанию"},{id:"product_catalog",label:"Каталог товаров",description:"С ценами и характеристиками",icon:As,columns:[{name:"name",label:"Название",type:"text",required:!0,searchable:!0},{name:"description",label:"Описание",type:"text",required:!1,searchable:!0},{name:"price",label:"Цена",type:"number",required:!1,searchable:!1},{name:"specs",label:"Характеристики",type:"text",required:!1,searchable:!0}],defaultDescription:"Найти товар по названию, описанию или характеристикам"},{id:"company_info",label:"О компании",description:"Тема → информация",icon:Rs,columns:[{name:"topic",label:"Тема",type:"text",required:!0,searchable:!0},{name:"info",label:"Информация",type:"text",required:!0,searchable:!0}],defaultDescription:"Получить информацию о компании по теме"},{id:"custom",label:"Произвольный",description:"Задайте свои колонки",icon:Mr,columns:[],defaultDescription:"Поиск по справочнику"},{id:"ai_generate",label:"Создать с ИИ",description:"Опишите — ИИ сгенерирует",icon:Od,columns:[],defaultDescription:""}],r=N("template"),l=N(null),i=N(!1),u=N(""),d=N(""),c=N({name:"",tool_name:"",tool_description:""}),f=N([{id:"1",name:"",label:"",type:"text",required:!0,searchable:!0}]),p=N(null),m=ae(()=>s.find(x=>x.id===l.value)),h=ae(()=>c.value.name.trim()&&c.value.tool_name.trim()&&/^[a-z][a-z0-9_]*$/.test(c.value.tool_name)&&!d.value),y=ae(()=>f.value.length===0?!1:f.value.every(x=>x.name&&x.label&&/^[a-z][a-z0-9_]*$/.test(x.name))),b=x=>{x!=="ai_generate"&&(l.value=x)},w=()=>{l.value&&(r.value="details")},E=()=>{c.value.tool_name=tv(c.value.name,"get_"),O()},O=()=>{d.value=_s(c.value.tool_name,o.existingToolNames||[])},M=()=>{h.value&&(l.value==="custom"?r.value="columns":T())},R=()=>{r.value="template",l.value=null,c.value={name:"",tool_name:"",tool_description:""},f.value=[{id:"1",name:"",label:"",type:"text",required:!0,searchable:!0}],u.value="",d.value="",i.value=!1},W=()=>{R(),a("close")},T=()=>{var P,z;if(!l.value)return;u.value="",i.value=!0;let x;if(l.value==="custom"){if(!y.value){u.value="Заполните все колонки корректно",i.value=!1;return}x=f.value.map(({id:Z,...B})=>B)}else x=(((P=m.value)==null?void 0:P.columns)||[]).map(Z=>({...Z,searchable:Z.searchable??!1}));a("submit",{name:c.value.name,tool_name:c.value.tool_name,tool_description:c.value.tool_description||((z=m.value)==null?void 0:z.defaultDescription)||"",template:l.value,columns:x})};return Ge(()=>o.isOpen,x=>{x&&R()}),Ge(()=>c.value.tool_name,()=>{O()}),n({setSubmitting:x=>{i.value=x},setError:x=>{u.value=x},close:W}),(x,P)=>($(),Y(g(xa),{open:e.isOpen,"onUpdate:open":P[7]||(P[7]=z=>!z&&W())},{default:C(()=>[S(g(wa),{"class-name":r.value==="columns"?"max-w-3xl":"max-w-xl",onEscapeKeyDown:P[6]||(P[6]=At(()=>{},["prevent"]))},{default:C(()=>{var z,Z;return[r.value==="template"?($(),k("div",Hy,[S(g(Vo),{class:"mb-6"},{default:C(()=>[v("div",_y,[v("div",null,[S(g(Yn),null,{default:C(()=>[...P[8]||(P[8]=[se("Создать справочник",-1)])]),_:1}),S(g(Qn),null,{default:C(()=>[...P[9]||(P[9]=[se("Выберите тип справочника",-1)])]),_:1})]),S(g(Ao))])]),_:1}),v("div",Ky,[($(),k(Ke,null,nt(s,B=>v("button",{key:B.id,onClick:j=>b(B.id),class:Oe(["flex flex-col items-start p-4 rounded-md border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/50 transition-all text-left group",[l.value===B.id?"border-indigo-400 bg-indigo-50":"",B.id==="ai_generate"?"opacity-50 cursor-not-allowed":""]]),disabled:B.id==="ai_generate"},[v("div",{class:Oe(["w-10 h-10 rounded-lg flex items-center justify-center mb-3",[l.value===B.id?"bg-indigo-600 text-white":"bg-slate-100 text-slate-500 group-hover:bg-indigo-100 group-hover:text-indigo-600"]])},[($(),Y(so(B.icon),{class:"w-5 h-5"}))],2),v("span",Wy,q(B.label),1),v("span",Xy,q(B.description),1),B.id==="ai_generate"?($(),k("span",Yy,"Скоро")):ve("",!0)],10,qy)),64))]),S(g(Wr),{class:"mt-6"},{default:C(()=>[v("button",{disabled:!l.value,onClick:w,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," Далее ",8,Qy)]),_:1})])):r.value==="details"?($(),k("div",Jy,[S(g(Vo),{class:"mb-6"},{default:C(()=>[v("div",Zy,[v("div",e0,[v("button",{onClick:P[0]||(P[0]=B=>r.value="template"),class:"p-1 text-slate-400 hover:text-slate-600"},[S(g(Tr),{class:"h-5 w-5"})]),v("div",null,[S(g(Yn),null,{default:C(()=>[...P[10]||(P[10]=[se("Настройка справочника",-1)])]),_:1}),S(g(Qn),null,{default:C(()=>{var B;return[se(q((B=m.value)==null?void 0:B.label),1)]}),_:1})])]),S(g(Ao))])]),_:1}),v("form",{onSubmit:At(M,["prevent"]),class:"space-y-5"},[v("div",null,[P[11]||(P[11]=v("label",{class:"text-sm font-medium text-slate-700"},[se(" Название справочника "),v("span",{class:"text-red-500"},"*")],-1)),Ne(v("input",{"onUpdate:modelValue":P[1]||(P[1]=B=>c.value.name=B),type:"text",required:"",placeholder:"Услуги клиники",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",onInput:E},null,544),[[st,c.value.name,void 0,{trim:!0}]])]),v("div",null,[P[12]||(P[12]=v("label",{class:"text-sm font-medium text-slate-700"},[se(" Имя функции для агента "),v("span",{class:"text-red-500"},"*")],-1)),v("div",t0,[Ne(v("input",{"onUpdate:modelValue":P[2]||(P[2]=B=>c.value.tool_name=B),type:"text",required:"",placeholder:"get_services",pattern:"^[a-z][a-z0-9_]*$",class:Oe(["w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",{"border-red-300 bg-red-50":d.value}])},null,2),[[st,c.value.tool_name,void 0,{trim:!0}]])]),d.value?($(),k("p",n0,q(d.value),1)):($(),k("p",o0," Латиница, цифры и _ • Уникальное в рамках агента "))]),v("div",null,[P[13]||(P[13]=v("label",{class:"text-sm font-medium text-slate-700"},"Описание для агента",-1)),Ne(v("textarea",{"onUpdate:modelValue":P[3]||(P[3]=B=>c.value.tool_description=B),rows:"3",placeholder:(z=m.value)==null?void 0:z.defaultDescription,class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,8,r0),[[st,c.value.tool_description,void 0,{trim:!0}]]),P[14]||(P[14]=v("p",{class:"mt-1 text-xs text-slate-500"}," Помогает агенту понять когда использовать этот справочник ",-1))]),l.value!=="custom"?($(),k("div",a0,[P[15]||(P[15]=v("p",{class:"text-xs font-bold text-slate-600 uppercase tracking-wider mb-2"},"Колонки справочника",-1)),v("div",s0,[($(!0),k(Ke,null,nt((Z=m.value)==null?void 0:Z.columns,B=>($(),k("span",{key:B.name,class:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-xs text-slate-600"},[se(q(B.label)+" ",1),v("span",l0,"("+q(B.type)+")",1),B.required?($(),k("span",i0,"*")):ve("",!0)]))),128))])])):ve("",!0),u.value?($(),k("p",u0,q(u.value),1)):ve("",!0),S(g(Wr),null,{default:C(()=>[v("button",{type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:W}," Отмена "),v("button",{type:"submit",class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:!h.value},[v("span",null,q(l.value==="custom"?"Далее":"Создать"),1)],8,d0)]),_:1})],32)])):r.value==="columns"?($(),k("div",c0,[v("div",f0,[v("div",p0,[v("button",{onClick:P[4]||(P[4]=B=>r.value="details"),class:"p-1 text-slate-400 hover:text-slate-600"},[S(g(Tr),{class:"h-5 w-5"})]),v("div",null,[S(g(Yn),null,{default:C(()=>[...P[16]||(P[16]=[se("Настройка колонок",-1)])]),_:1}),S(g(Qn),null,{default:C(()=>[se(q(c.value.name||"Произвольный справочник"),1)]),_:1})])]),S(g(Ao))]),v("div",g0,[S(Zl,{modelValue:f.value,"onUpdate:modelValue":P[5]||(P[5]=B=>f.value=B),"max-columns":15,ref_key:"columnEditorRef",ref:p},null,8,["modelValue"])]),v("div",m0,[v("button",{type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 bg-white text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:W}," Отмена "),v("button",{onClick:T,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:i.value||!y.value},[i.value?($(),Y(g(bn),{key:0,class:"w-4 h-4 animate-spin"})):ve("",!0),v("span",null,q(i.value?"Создание...":"Создать"),1)],8,v0)])])):ve("",!0)]}),_:1},8,["class-name"])]),_:1},8,["open"]))}}),y0={class:"flex items-center justify-between p-6 border-b border-slate-100"},b0={class:"flex-1 overflow-y-auto p-6"},x0={key:0},w0={key:0,class:"mt-4 text-sm text-red-600"},S0={key:1,class:"space-y-5"},C0={class:"flex items-center justify-between bg-slate-50 rounded-md p-4"},E0={class:"flex items-center gap-3"},$0={class:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-slate-200"},P0={class:"font-medium text-slate-900 text-sm"},O0={class:"text-xs text-slate-500"},R0={class:"space-y-3"},I0={class:"flex-1 px-4 py-2.5 bg-slate-50 rounded-lg text-sm text-slate-700 truncate border border-slate-100"},D0=["onUpdate:modelValue"],A0=["value","disabled"],T0={class:"space-y-3 pt-2"},M0={class:"flex items-center gap-3 cursor-pointer"},F0={class:"flex items-center gap-3 cursor-pointer"},k0={key:0,class:"pt-2"},B0={class:"overflow-x-auto rounded-lg border border-slate-200"},L0={class:"w-full text-sm"},N0={class:"bg-slate-50 border-b border-slate-200"},V0={class:"divide-y divide-slate-100"},j0={key:1,class:"text-sm text-red-600"},z0={key:2,class:"text-center py-6"},U0={class:"text-lg font-bold text-slate-900"},G0={class:"text-slate-500 mt-2"},H0={class:"font-bold text-slate-700"},_0={key:0,class:"text-slate-500"},K0={class:"font-bold text-yellow-600"},q0=["disabled"],W0=K({__name:"ImportCsvModal",props:{isOpen:{type:Boolean},directoryName:{},columns:{}},emits:["close","import"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=N("upload"),r=N(!1),l=N(null),i=N(null),u=N(""),d=N(""),c=N(!1),f=N(null),p=N({}),m=N(!0),h=N(!1),y=N(null),b=ae(()=>{const j=Object.values(p.value).filter(F=>F!==null);return o.columns.filter(F=>F.required).map(F=>F.name).every(F=>j.includes(F))}),w=(j,U)=>Object.entries(p.value).some(([F,J])=>J===j&&F!==U),E=j=>{const U=p.value[j];if(!U)return null;const F=o.columns.find(J=>J.name===U);return F==null?void 0:F.label},O=()=>{var j;(j=i.value)==null||j.click()},M=j=>{var F;const U=j.target;(F=U.files)!=null&&F[0]&&W(U.files[0])},R=j=>{var F;r.value=!1;const U=(F=j.dataTransfer)==null?void 0:F.files[0];U&&W(U)},W=async j=>{var J;u.value="";const U=[".csv",".xlsx",".xls"],F=j.name.substring(j.name.lastIndexOf(".")).toLowerCase();if(!U.includes(F)){u.value="Поддерживаются только файлы .csv и .xlsx";return}if(j.size>10*1024*1024){u.value="Файл слишком большой. Максимум 10 МБ";return}l.value=j;try{const _=await j.text(),Ee=_.split(`
`).filter(me=>me.trim()),te=_.includes(";")?";":",",ee=((J=Ee[0])==null?void 0:J.split(te).map(me=>me.trim().replace(/^"|"$/g,"")))||[],ge=Ee.slice(1,4).map(me=>me.split(te).map(Ae=>Ae.trim().replace(/^"|"$/g,"")));f.value={columns:ee,rows_count:Ee.length-1,preview:ge};const pe={};for(const me of ee){const Ae=me.toLowerCase(),Re=o.columns.find(ue=>ue.label.toLowerCase()===Ae||ue.name.toLowerCase()===Ae);pe[me]=(Re==null?void 0:Re.name)||null}p.value=pe,s.value="mapping"}catch{u.value="Не удалось прочитать файл"}},T=()=>{l.value=null,f.value=null,p.value={},s.value="upload"},x=()=>{!l.value||!b.value||(d.value="",c.value=!0,a("import",l.value,p.value,{hasHeader:m.value,replaceAll:h.value}))},P=()=>{var _,Ee;if(!((Ee=(_=y.value)==null?void 0:_.errors)!=null&&Ee.length))return;const j=y.value.errors.map(te=>`Строка ${te.row}: ${te.error}`).join(`
`),U=new Blob([j],{type:"text/plain"}),F=URL.createObjectURL(U),J=document.createElement("a");J.href=F,J.download="import-errors.txt",J.click(),URL.revokeObjectURL(F)},z=()=>{s.value="upload",l.value=null,f.value=null,p.value={},u.value="",d.value="",c.value=!1,y.value=null,m.value=!0,h.value=!1,a("close")},Z=j=>{y.value=j,c.value=!1,s.value="result"},B=j=>{d.value=j,c.value=!1};return Ge(()=>o.isOpen,j=>{j||z()}),n({setResult:Z,setError:B}),(j,U)=>($(),Y(g(xa),{open:e.isOpen,"onUpdate:open":U[4]||(U[4]=F=>!F&&z())},{default:C(()=>[S(g(wa),{"class-name":"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},{default:C(()=>{var F,J,_,Ee,te,ee,ge,pe,me,Ae,Re,ue,He,ne,I,H,je,Je;return[v("div",y0,[S(g(Vo),null,{default:C(()=>[S(g(Yn),null,{default:C(()=>[...U[5]||(U[5]=[se("Импорт из CSV",-1)])]),_:1}),S(g(Qn),null,{default:C(()=>[se(q(e.directoryName),1)]),_:1})]),_:1}),S(g(Ao))]),v("div",b0,[s.value==="upload"?($(),k("div",x0,[v("div",{class:Oe(["border-2 border-dashed border-slate-200 rounded-md p-8 text-center hover:border-indigo-300 hover:bg-indigo-50/30 transition-all cursor-pointer",{"border-indigo-400 bg-indigo-50":r.value}]),onDragover:U[0]||(U[0]=At(ke=>r.value=!0,["prevent"])),onDragleave:U[1]||(U[1]=At(ke=>r.value=!1,["prevent"])),onDrop:At(R,["prevent"]),onClick:O},[v("input",{ref_key:"fileInputRef",ref:i,type:"file",accept:".csv,.xlsx,.xls",class:"hidden",onChange:M},null,544),S(g(Ts),{class:"w-12 h-12 text-slate-400 mx-auto mb-4"}),U[6]||(U[6]=v("p",{class:"text-slate-700 font-medium"},"Перетащите файл сюда",-1)),U[7]||(U[7]=v("p",{class:"text-slate-500 text-sm mt-1"},"или нажмите для выбора",-1)),U[8]||(U[8]=v("p",{class:"text-slate-400 text-xs mt-3"},"Поддерживаются .csv и .xlsx до 10 МБ",-1))],34),u.value?($(),k("p",w0,q(u.value),1)):ve("",!0)])):s.value==="mapping"?($(),k("div",S0,[v("div",C0,[v("div",E0,[v("div",$0,[S(g(zd),{class:"w-5 h-5 text-emerald-600"})]),v("div",null,[v("p",P0,q((F=l.value)==null?void 0:F.name),1),v("p",O0,q((J=f.value)==null?void 0:J.rows_count)+" строк",1)])]),v("button",{onClick:T,class:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Удалить файл"},[S(g(In),{class:"w-4 h-4"})])]),v("div",null,[U[10]||(U[10]=v("p",{class:"text-sm font-medium text-slate-700 mb-3"},"Сопоставьте колонки файла с полями справочника",-1)),v("div",R0,[($(!0),k(Ke,null,nt((_=f.value)==null?void 0:_.columns,ke=>($(),k("div",{key:ke,class:"flex items-center gap-3"},[v("div",I0,' "'+q(ke)+'" ',1),S(g(Nd),{class:"w-4 h-4 text-slate-400 flex-shrink-0"}),Ne(v("select",{"onUpdate:modelValue":rt=>p.value[ke]=rt,class:"flex-1 px-4 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"},[U[9]||(U[9]=v("option",{value:null},"— Пропустить —",-1)),($(!0),k(Ke,null,nt(e.columns,rt=>($(),k("option",{key:rt.name,value:rt.name,disabled:w(rt.name,ke)},q(rt.label),9,A0))),128))],8,D0),[[yn,p.value[ke]]])]))),128))])]),v("div",T0,[v("label",M0,[Ne(v("input",{"onUpdate:modelValue":U[2]||(U[2]=ke=>m.value=ke),type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Qt,m.value]]),U[11]||(U[11]=v("span",{class:"text-sm text-slate-700"},"Первая строка — заголовки",-1))]),v("label",F0,[Ne(v("input",{"onUpdate:modelValue":U[3]||(U[3]=ke=>h.value=ke),type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[Qt,h.value]]),U[12]||(U[12]=v("span",{class:"text-sm text-slate-700"},"Заменить все существующие записи",-1))])]),(te=(Ee=f.value)==null?void 0:Ee.preview)!=null&&te.length?($(),k("div",k0,[U[13]||(U[13]=v("p",{class:"text-sm font-medium text-slate-700 mb-3"},"Превью (первые 3 записи)",-1)),v("div",B0,[v("table",L0,[v("thead",null,[v("tr",N0,[($(!0),k(Ke,null,nt(f.value.columns,(ke,rt)=>($(),k("th",{key:rt,class:"px-3 py-2 text-left text-xs font-bold text-slate-500 uppercase whitespace-nowrap"},q(E(ke)||ke),1))),128))])]),v("tbody",V0,[($(!0),k(Ke,null,nt(f.value.preview,(ke,rt)=>($(),k("tr",{key:rt},[($(!0),k(Ke,null,nt(ke,(L,G)=>($(),k("td",{key:G,class:"px-3 py-2 text-slate-600 truncate max-w-[200px]"},q(L||"—"),1))),128))]))),128))])])])])):ve("",!0),d.value?($(),k("p",j0,q(d.value),1)):ve("",!0)])):s.value==="result"?($(),k("div",z0,[v("div",{class:Oe(["w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",[(ge=(ee=y.value)==null?void 0:ee.errors)!=null&&ge.length?"bg-yellow-100":"bg-emerald-100"]])},[($(),Y(so((me=(pe=y.value)==null?void 0:pe.errors)!=null&&me.length?g(Es):g(Ad)),{class:Oe(["w-8 h-8",[(Re=(Ae=y.value)==null?void 0:Ae.errors)!=null&&Re.length?"text-yellow-600":"text-emerald-600"]])},null,8,["class"]))],2),v("h3",U0,q((He=(ue=y.value)==null?void 0:ue.errors)!=null&&He.length?"Импорт завершён с предупреждениями":"Импорт успешно завершён"),1),v("p",G0,[U[14]||(U[14]=se(" Добавлено записей: ",-1)),v("span",H0,q((ne=y.value)==null?void 0:ne.created),1)]),(H=(I=y.value)==null?void 0:I.errors)!=null&&H.length?($(),k("p",_0,[U[15]||(U[15]=se(" Пропущено (ошибки): ",-1)),v("span",K0,q(y.value.errors.length),1)])):ve("",!0),(Je=(je=y.value)==null?void 0:je.errors)!=null&&Je.length?($(),k("button",{key:1,onClick:P,class:"mt-4 px-4 py-2 text-sm text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors"}," Скачать лог ошибок ")):ve("",!0)])):ve("",!0)]),S(g(Wr),{"class-name":"p-6 border-t border-slate-100 bg-slate-50"},{default:C(()=>[s.value!=="result"?($(),k("button",{key:0,type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 bg-white text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:z}," Отмена ")):ve("",!0),s.value==="mapping"?($(),k("button",{key:1,onClick:x,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:c.value||!b.value},[c.value?($(),Y(g(bn),{key:0,class:"w-4 h-4 animate-spin"})):ve("",!0),v("span",null,q(c.value?"Импорт...":"Импортировать"),1)],8,q0)):ve("",!0),s.value==="result"?($(),k("button",{key:2,onClick:z,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Готово ")):ve("",!0)]),_:1})]}),_:1})]),_:1},8,["open"]))}}),X0={class:"flex items-center justify-between"},Y0={class:"flex-1 overflow-y-auto p-6 space-y-6"},Q0={class:"grid grid-cols-2 gap-4"},J0={key:0,class:"mt-1 text-xs text-yellow-600"},Z0={key:1,class:"mt-1 text-xs text-red-600"},eb={class:"border-t border-slate-100 pt-5"},tb={class:"flex items-center justify-between mb-3"},nb={key:0,class:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded-lg"},ob={key:0,class:"mt-2 text-xs text-amber-600 bg-amber-50 p-3 rounded-lg"},rb={class:"border-t border-slate-100 pt-5"},ab={class:"flex items-start gap-6"},sb={class:"flex-1"},lb={class:"mt-1 text-xs text-slate-400"},ib={class:"flex-1"},ub={class:"w-40 shrink-0"},db={class:"flex items-center gap-3 cursor-pointer px-3 py-2 rounded-md border border-slate-200 hover:border-slate-300 transition-all"},cb={class:"text-sm text-slate-700"},fb={key:0,class:"text-sm text-red-600"},pb={class:"flex-shrink-0 border-t border-slate-200 bg-white px-6 py-3"},gb={class:"flex items-center justify-between"},mb={class:"flex items-center gap-2"},vb=["disabled"],hb={class:"p-6"},yb={class:"flex items-center gap-3 mt-6"},bb=["disabled"],xb=K({__name:"DirectorySettingsSheet",props:{isOpen:{type:Boolean},directory:{},existingToolNames:{}},emits:["close","save","delete"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=N({name:"",tool_name:"",tool_description:"",response_mode:"function_result",search_type:"fuzzy",is_enabled:!0,columns:[]}),r=N(!1),l=N(!1),i=N(""),u=N(""),d=N(!1),c=N(""),f=N([]),p=ae(()=>s.value.tool_name!==c.value),m=ae(()=>JSON.stringify(s.value.columns)!==JSON.stringify(f.value)),h=ae(()=>{if(!m.value)return"";const T=s.value.columns.map(P=>P.name),x=f.value.filter(P=>!T.includes(P.name));return x.length>0&&o.directory&&o.directory.items_count>0?`Удаление колонок (${x.map(P=>P.label).join(", ")}) приведёт к потере данных в ${o.directory.items_count} записях`:""}),y=ae(()=>{if(!s.value.name.trim()||!s.value.tool_name.trim()||!Ur(s.value.tool_name)||u.value||s.value.columns.length===0)return!1;if(E.value)return E.value.isValid();const T=s.value.columns.map(z=>z.name),x=s.value.columns.some(z=>!z.name||!z.label||!Ur(z.name)),P=T.length!==new Set(T).size;return!x&&!P}),b=()=>{if(o.directory){const T=(o.directory.columns||[]).map(x=>({name:x.name,label:x.label,type:x.type||"text",required:x.required??!1,searchable:x.searchable??!1}));s.value={name:o.directory.name,tool_name:o.directory.tool_name,tool_description:o.directory.tool_description||"",response_mode:o.directory.response_mode||"function_result",search_type:o.directory.search_type||"fuzzy",is_enabled:o.directory.is_enabled,columns:T},c.value=o.directory.tool_name,f.value=JSON.parse(JSON.stringify(T))}},w=()=>{u.value=_s(s.value.tool_name,o.existingToolNames||[],c.value)},E=N(null),O=ae({get:()=>s.value.columns.map((T,x)=>({id:String(x),name:T.name,label:T.label,type:T.type,required:T.required,searchable:T.searchable??!1})),set:T=>{s.value.columns=T.map(({id:x,...P})=>P)}}),M=()=>{i.value="",u.value="",d.value=!1,r.value=!1,l.value=!1,a("close")},R=()=>{!y.value||!o.directory||(i.value="",r.value=!0,a("save",{id:o.directory.id,name:s.value.name,tool_name:s.value.tool_name,tool_description:s.value.tool_description,response_mode:s.value.response_mode,search_type:s.value.search_type,is_enabled:s.value.is_enabled,columns:s.value.columns}))},W=()=>{o.directory&&(l.value=!0,a("delete",o.directory.id))};return Ge(()=>o.isOpen,T=>{T&&(b(),i.value="",u.value="",d.value=!1)}),Ge(()=>s.value.tool_name,()=>{w()}),n({setSaving:T=>{r.value=T},setDeleting:T=>{l.value=T},setError:T=>{i.value=T},close:M}),(T,x)=>($(),Y(g(aa),{open:e.isOpen,"onUpdate:open":x[10]||(x[10]=P=>!P&&M())},{default:C(()=>[S(g(sa),{side:"right","class-name":"max-w-4xl flex flex-col"},{default:C(()=>[S(g(la),null,{default:C(()=>[v("div",X0,[S(g(ia),null,{default:C(()=>[...x[11]||(x[11]=[se("Настройки справочника",-1)])]),_:1}),S(g(Tv))])]),_:1}),v("div",Y0,[v("div",Q0,[v("div",null,[x[12]||(x[12]=v("label",{class:"text-sm font-medium text-slate-700"},"Название",-1)),Ne(v("input",{"onUpdate:modelValue":x[0]||(x[0]=P=>s.value.name=P),type:"text",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,512),[[st,s.value.name,void 0,{trim:!0}]])]),v("div",null,[x[13]||(x[13]=v("label",{class:"text-sm font-medium text-slate-700"},"Имя функции",-1)),Ne(v("input",{"onUpdate:modelValue":x[1]||(x[1]=P=>s.value.tool_name=P),type:"text",class:Oe(["mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",{"border-yellow-300 bg-yellow-50":p.value}])},null,2),[[st,s.value.tool_name,void 0,{trim:!0}]]),p.value?($(),k("p",J0," Изменение повлияет на промпт агента ")):ve("",!0),u.value?($(),k("p",Z0,q(u.value),1)):ve("",!0)])]),v("div",null,[x[14]||(x[14]=v("label",{class:"text-sm font-medium text-slate-700"},"Описание для агента",-1)),Ne(v("textarea",{"onUpdate:modelValue":x[2]||(x[2]=P=>s.value.tool_description=P),rows:"2",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,512),[[st,s.value.tool_description,void 0,{trim:!0}]])]),v("div",eb,[v("div",tb,[x[15]||(x[15]=v("label",{class:"text-sm font-medium text-slate-700"},"Колонки справочника",-1)),m.value?($(),k("span",nb," Изменения не сохранены ")):ve("",!0)]),S(Zl,{modelValue:O.value,"onUpdate:modelValue":x[3]||(x[3]=P=>O.value=P),"max-columns":15,ref_key:"columnEditorRef",ref:E},null,8,["modelValue"]),h.value?($(),k("p",ob,q(h.value),1)):ve("",!0)]),v("div",rb,[v("div",ab,[v("div",sb,[x[17]||(x[17]=v("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Режим ответа",-1)),Ne(v("select",{"onUpdate:modelValue":x[4]||(x[4]=P=>s.value.response_mode=P),class:"w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},[...x[16]||(x[16]=[v("option",{value:"function_result"},"Результат функции",-1),v("option",{value:"direct_message"},"Прямое сообщение",-1)])],512),[[yn,s.value.response_mode]]),v("p",lb,q(s.value.response_mode==="function_result"?"Агент сформулирует ответ сам":"Без обработки агентом"),1)]),v("div",ib,[x[19]||(x[19]=v("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Тип поиска",-1)),Ne(v("select",{"onUpdate:modelValue":x[5]||(x[5]=P=>s.value.search_type=P),class:"w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},[...x[18]||(x[18]=[v("option",{value:"exact"},"Точный",-1),v("option",{value:"fuzzy"},"Нечёткий",-1),v("option",{value:"semantic"},"Семантический",-1)])],512),[[yn,s.value.search_type]])]),v("div",ub,[x[20]||(x[20]=v("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Статус",-1)),v("label",db,[S(g(Ms),{modelValue:s.value.is_enabled,"onUpdate:modelValue":x[6]||(x[6]=P=>s.value.is_enabled=P)},null,8,["modelValue"]),v("span",cb,q(s.value.is_enabled?"Активен":"Выключен"),1)])])])]),i.value?($(),k("p",fb,q(i.value),1)):ve("",!0)]),v("div",pb,[v("div",gb,[v("button",{onClick:x[7]||(x[7]=P=>d.value=!0),class:"px-3 py-1.5 text-sm text-red-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors"}," Удалить "),v("div",mb,[v("button",{onClick:M,class:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-md transition-colors"}," Отмена "),v("button",{onClick:R,class:"px-5 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5",disabled:r.value||!y.value},[r.value?($(),Y(g(bn),{key:0,class:"w-3.5 h-3.5 animate-spin"})):ve("",!0),se(" "+q(r.value?"Сохранение...":"Сохранить"),1)],8,vb)])])]),S(g(xa),{open:d.value,"onUpdate:open":x[9]||(x[9]=P=>d.value=P)},{default:C(()=>[S(g(wa),{"class-name":"max-w-sm"},{default:C(()=>[v("div",hb,[S(g(Vo),{class:"mb-4"},{default:C(()=>[S(g(Yn),null,{default:C(()=>[...x[21]||(x[21]=[se("Удалить справочник?",-1)])]),_:1}),S(g(Qn),null,{default:C(()=>{var P,z;return[se(' Справочник "'+q((P=e.directory)==null?void 0:P.name)+'" и все его записи ('+q((z=e.directory)==null?void 0:z.items_count)+") будут удалены безвозвратно. ",1)]}),_:1})]),_:1}),v("div",yb,[v("button",{onClick:x[8]||(x[8]=P=>d.value=!1),class:"flex-1 px-4 py-2.5 rounded-md border border-slate-200 text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors"}," Отмена "),v("button",{onClick:W,class:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-md text-sm font-bold hover:bg-red-700 transition-colors",disabled:l.value},q(l.value?"Удаление...":"Удалить"),9,bb)])])]),_:1})]),_:1},8,["open"])]),_:1})]),_:1},8,["open"]))}}),Pa=Symbol("tabs-context"),wb=K({__name:"Tabs",props:{value:{},defaultValue:{},className:{}},emits:["update:value"],setup(e,{emit:n}){const t=e,o=n,a=Ut(),s=N(t.value??t.defaultValue??"services");return Ge(()=>t.value,i=>{i&&(s.value=i)}),_o(Pa,{value:s,setValue:i=>{s.value!==i&&(s.value=i,o("update:value",i))}}),(i,u)=>($(),k("div",De({class:["space-y-4",e.className]},g(a)),[re(i.$slots,"default")],16))}}),Sb=K({__name:"TabsList",props:{className:{}},setup(e){const n=Ut();return(t,o)=>($(),k("div",De({class:["flex gap-2 flex-wrap",e.className]},g(n)),[re(t.$slots,"default")],16))}}),Ir=K({__name:"TabsTrigger",props:{value:{}},setup(e){const n=e,t=Ut(),o=ao(Pa);if(!o)throw new Error("TabsTrigger must be used inside Tabs");const{value:a,setValue:s}=o,r=ae(()=>a.value===n.value),l=n.value;return(i,u)=>($(),k("button",De({type:"button",class:["px-4 py-2 rounded-xl text-sm font-bold transition-colors",r.value?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"],onClick:u[0]||(u[0]=d=>g(s)(g(l)))},g(t)),[re(i.$slots,"default")],16))}}),Dr=K({__name:"TabsContent",props:{value:{}},setup(e){const n=e,t=Ut(),o=ao(Pa);if(!o)throw new Error("TabsContent must be used inside Tabs");const{value:a}=o,s=ae(()=>a.value===n.value);return(r,l)=>Ne(($(),k("div",Xe(ot(g(t))),[re(r.$slots,"default")],16)),[[hs,s.value]])}}),Cb={class:"space-y-6"},Eb={class:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm space-y-5"},$b={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},Pb={class:"flex items-center gap-4"},Ob={class:"flex items-center gap-2"},Rb={class:"text-sm text-slate-500 mt-0.5"},Ib={class:"flex items-center gap-3"},Db=["disabled"],Ab={key:0,class:"mt-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-start gap-3"},Tb={class:"flex-1"},Mb={class:"text-sm text-yellow-700 mt-0.5"},Fb={class:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm space-y-6"},kb={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},Bb={class:"p-6 border-b border-slate-100 space-y-4"},Lb={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},Nb={class:"flex flex-wrap items-center gap-3"},Vb={class:"relative"},jb=["value"],zb={class:"flex items-center gap-2 cursor-pointer"},Ub={key:0,class:"bg-indigo-50 px-6 py-3 border-b border-indigo-100 flex items-center justify-between"},Gb={class:"flex items-center gap-4"},Hb={class:"text-sm font-bold text-indigo-700"},_b={class:"flex items-center gap-2"},Kb={class:"overflow-x-auto bg-white"},qb=["checked"],Wb=["checked","onChange"],Xb={class:"text-sm font-bold text-slate-900"},Yb={key:0,class:"text-[10px] text-slate-500 mt-0.5 line-clamp-1"},Qb={class:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-slate-100 text-slate-600"},Jb={class:"text-sm font-mono text-slate-600"},Zb={class:"text-sm text-slate-600"},ex=["onClick"],tx=["onUpdate:modelValue","onBlur","onKeyup"],nx={class:"p-4 border-t border-slate-100 bg-slate-50/30 flex items-center justify-between"},ox={class:"text-xs text-slate-500"},rx={class:"flex items-center gap-2"},ax=["disabled"],sx={class:"text-xs font-bold text-slate-700"},lx=["disabled"],ix={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},ux={class:"p-6 border-b border-slate-100 space-y-4"},dx={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},cx={class:"flex flex-wrap items-center gap-3"},fx={class:"relative"},px={class:"text-sm text-slate-500"},gx={class:"overflow-x-auto bg-white"},mx={class:"text-sm font-bold text-slate-900"},vx={class:"text-[10px] text-slate-500 mt-0.5"},hx={class:"text-sm text-slate-600 capitalize"},yx={class:"text-sm text-slate-600"},bx={class:"p-4 border-t border-slate-100 bg-slate-50/30 text-xs text-slate-500"},xx={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},wx={class:"p-6 border-b border-slate-100 space-y-4"},Sx={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},Cx={class:"flex flex-wrap items-center gap-3"},Ex={class:"relative"},$x={class:"flex items-center gap-2 cursor-pointer"},Px={class:"overflow-x-auto bg-white"},Ox={class:"text-sm font-bold text-slate-900"},Rx={key:0,class:"text-[10px] text-slate-500 mt-0.5 line-clamp-1"},Ix={class:"text-sm text-slate-600"},Dx=["onClick"],Ax=["onUpdate:modelValue","onBlur"],Tx={class:"p-4 border-t border-slate-100 bg-slate-50/30 text-xs text-slate-500"},Mx=K({__name:"SQNSIntegrationManager",props:{agentId:{},status:{},lastSyncAt:{},warning:{}},emits:["close-warning","sync-complete"],setup(e,{emit:n}){const t=e,o=n,{syncSqns:a,fetchSqnsServicesCached:s,updateSqnsService:r,bulkUpdateSqnsServices:l,fetchSqnsCategories:i,updateSqnsCategory:u}=Td(),{success:d,error:c}=bs(),f=N(!1),p=N(!1),m=N([]),h=N(0),y=N([]),b=N([]),w=N(!1),E=N(""),O=N(!1),M=N("services"),R=N([]),W=N(!1),T=N(""),x=N({search:"",category:null,is_enabled:null}),P=N({limit:50,offset:0}),z=ae(()=>Math.floor(P.value.offset/P.value.limit)+1),Z=ae(()=>m.value.length>0&&m.value.every(ne=>b.value.includes(ne.id))),B=ae(()=>t.lastSyncAt?new Date(t.lastSyncAt).toLocaleString("ru-RU",{dateStyle:"medium",timeStyle:"short"}):"нет данных"),j=ae(()=>{const ne=E.value.trim().toLowerCase();return y.value.filter(I=>{var H;return O.value&&!I.is_enabled?!1:ne?((H=I.name)==null?void 0:H.toLowerCase().includes(ne))??!1:!0})}),U=ae(()=>{const ne=T.value.trim().toLowerCase();return ne?R.value.filter(I=>`${I.name??""} ${I.role??""}`.toLowerCase().includes(ne)):R.value}),F=async(ne=!1)=>{try{ne||(p.value=!0);const I=await s(t.agentId,{...x.value,...P.value,category:x.value.category??void 0,is_enabled:x.value.is_enabled??void 0});m.value=I.services,h.value=I.total}catch(I){console.error("Failed to load services:",I)}finally{ne||(p.value=!1)}},J=async(ne=!1)=>{try{ne||(w.value=!0),y.value=await i(t.agentId)}catch(I){console.error("Failed to load categories:",I)}finally{ne||(w.value=!1)}},_=async()=>{try{W.value=!0,R.value=[]}catch(ne){console.error("Failed to load specialists:",ne)}finally{W.value=!1}},Ee=async()=>{try{f.value=!0;const ne=await a(t.agentId);d("Синхронизация завершена",`Обновлено: ${ne.services_synced} услуг, ${ne.categories_synced} категорий`),o("sync-complete"),F(),J(),await _()}catch(ne){c("Ошибка синхронизации",ne.message)}finally{f.value=!1}},te=async ne=>{const I=!!ne.is_enabled,H=!I;ne.is_enabled=H,console.log("🔧 Toggle service:",{serviceId:ne.id,serviceIdType:typeof ne.id,serviceName:ne.name,originalState:I,nextState:H,payload:{is_enabled:H}});try{await r(t.agentId,ne.id,{is_enabled:H}),console.log("✅ Toggle успешно, перезагружаем список..."),await F(!0),d("Статус обновлен",`Услуга "${ne.name}" ${H?"включена":"отключена"}`)}catch(je){ne.is_enabled=I,c("Ошибка",je.message),console.error("❌ Toggle error:",je),await F()}},ee=async ne=>{const I=Number(ne.priority);if(!Number.isFinite(I)||I<0){c("Ошибка","Приоритет должен быть числом >= 0"),F();return}try{await r(t.agentId,ne.id,{priority:I}),await F(!0),d("Приоритет обновлен",`Для услуги "${ne.name}" установлен приоритет ${I}`)}catch(H){c("Ошибка",H.message),await F(!0)}},ge=async ne=>{if(confirm(`Вы уверены? ${b.value.length} услуг будут ${ne?"включены":"отключены"}`))try{await l(t.agentId,{ids:b.value,is_enabled:ne}),b.value=[],await F(!0),d("Массовое обновление",`Успешно обновлено ${b.value.length} услуг`)}catch(I){c("Ошибка",I.message),await F(!0)}},pe=async ne=>{const I=ne.is_enabled,H=!I;ne.is_enabled=H;try{await u(t.agentId,ne.id,{is_enabled:H}),await J(!0),d("Статус категории обновлен",`Категория "${ne.name}" ${H?"включена":"отключена"}`)}catch(je){ne.is_enabled=I,c("Ошибка",je.message),await J(!0)}},me=async ne=>{const I=Number(ne.priority);if(!Number.isFinite(I)||I<0){c("Ошибка","Приоритет должен быть числом >= 0"),await J(!0);return}try{await u(t.agentId,ne.id,{priority:I}),await J(!0),d("Приоритет категории обновлен",`Для категории "${ne.name}" установлен приоритет ${I}`)}catch(H){c("Ошибка",H.message),await J(!0)}},Ae=ne=>{const I=b.value.indexOf(ne);I===-1?b.value.push(ne):b.value.splice(I,1)},Re=()=>{Z.value?b.value=b.value.filter(ne=>!m.value.some(I=>I.id===ne)):m.value.forEach(ne=>{b.value.includes(ne.id)||b.value.push(ne.id)})},ue=ne=>{P.value.offset+=ne*P.value.limit,F()};let He=null;return Ge(()=>x.value.search,()=>{clearTimeout(He),He=setTimeout(()=>{P.value.offset=0,F()},300)}),Ge([()=>x.value.category,()=>x.value.is_enabled],()=>{P.value.offset=0,F()}),Ge(M,ne=>{ne==="specialists"&&R.value.length===0&&_(),ne==="categories"&&y.value.length===0&&J()}),Kt(()=>{F(),J(),_()}),(ne,I)=>($(),k("div",Cb,[v("div",Eb,[v("div",$b,[v("div",Pb,[v("div",{class:Oe(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",[e.status==="error"?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"]])},[S(g(Md),{class:"w-6 h-6"})],2),v("div",null,[v("div",Ob,[I[13]||(I[13]=v("h3",{class:"text-lg font-bold text-slate-900"},"SQNS Интеграция",-1)),v("span",{class:Oe(["text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded-full",[e.status==="error"?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"]])},q(e.status==="error"?"Ошибка":"Активна"),3)]),v("p",Rb," Последняя синхронизация: "+q(B.value),1)])]),v("div",Ib,[v("button",{onClick:Ee,disabled:f.value,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 text-slate-700 border border-slate-200 rounded-lg text-sm font-medium hover:bg-slate-100 transition-all disabled:opacity-50"},[S(g(Hd),{class:Oe(["h-4 w-4",{"animate-spin":f.value}])},null,8,["class"]),se(" "+q(f.value?"Синхронизация...":"Обновить данные"),1)],8,Db)])]),e.warning?($(),k("div",Ab,[S(g(Ld),{class:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),v("div",Tb,[I[14]||(I[14]=v("p",{class:"text-sm text-yellow-800 font-medium"},"Внимание",-1)),v("p",Mb,q(e.warning),1)]),v("button",{onClick:I[0]||(I[0]=H=>ne.$emit("close-warning")),class:"text-yellow-500 hover:text-yellow-600"},[S(g(lo),{class:"h-4 w-4"})])])):ve("",!0)]),v("div",Fb,[S(g(wb),{value:M.value,"onUpdate:value":I[12]||(I[12]=H=>M.value=H)},{default:C(()=>[S(g(Sb),{className:"bg-slate-50/70 p-1 rounded-xl"},{default:C(()=>[S(g(Ir),{value:"services"},{default:C(()=>[...I[15]||(I[15]=[se("Услуги",-1)])]),_:1}),S(g(Ir),{value:"specialists"},{default:C(()=>[...I[16]||(I[16]=[se("Специалисты",-1)])]),_:1}),S(g(Ir),{value:"categories"},{default:C(()=>[...I[17]||(I[17]=[se("Категории",-1)])]),_:1})]),_:1}),S(g(Dr),{value:"services"},{default:C(()=>[v("div",kb,[v("div",Bb,[v("div",Lb,[I[20]||(I[20]=v("h3",{class:"text-lg font-bold text-slate-900"},"Управление услугами",-1)),v("div",Nb,[v("div",Vb,[S(g(Wn),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Ne(v("input",{"onUpdate:modelValue":I[1]||(I[1]=H=>x.value.search=H),type:"text",placeholder:"Поиск услуг...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[st,x.value.search]])]),Ne(v("select",{"onUpdate:modelValue":I[2]||(I[2]=H=>x.value.category=H),class:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all"},[I[18]||(I[18]=v("option",{value:null},"Все категории",-1)),($(!0),k(Ke,null,nt(y.value,H=>($(),k("option",{key:H.id,value:H.name},q(H.name),9,jb))),128))],512),[[yn,x.value.category]]),v("label",zb,[Ne(v("input",{"onUpdate:modelValue":I[3]||(I[3]=H=>x.value.is_enabled=H),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,512),[[Qt,x.value.is_enabled]]),I[19]||(I[19]=v("span",{class:"text-sm text-slate-600"},"Только включенные",-1))])])])]),S(ss,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform -translate-y-2 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-2 opacity-0"},{default:C(()=>[b.value.length>0?($(),k("div",Ub,[v("div",Gb,[v("span",Hb,"Выбрано: "+q(b.value.length),1),I[21]||(I[21]=v("div",{class:"h-4 w-px bg-indigo-200"},null,-1)),v("div",_b,[v("button",{onClick:I[4]||(I[4]=H=>ge(!0)),class:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors"}," Включить выбранные "),v("button",{onClick:I[5]||(I[5]=H=>ge(!1)),class:"text-xs font-bold text-red-600 hover:text-red-800 transition-colors"}," Отключить выбранные ")])]),v("button",{onClick:I[6]||(I[6]=H=>b.value=[]),class:"text-xs font-medium text-slate-500 hover:text-slate-700"}," Сбросить выбор ")])):ve("",!0)]),_:1}),v("div",Kb,[S(g(Ro),null,{default:C(()=>[S(g(Io),null,{default:C(()=>[S(g($t),null,{default:C(()=>[S(g(ct),{className:"w-10"},{default:C(()=>[v("input",{type:"checkbox",checked:Z.value,onChange:Re,class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,40,qb)]),_:1}),S(g(ct),null,{default:C(()=>[...I[22]||(I[22]=[se("Услуга",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[23]||(I[23]=[se("Категория",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[24]||(I[24]=[se("Цена",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[25]||(I[25]=[se("Длительность",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[26]||(I[26]=[se("Статус",-1)])]),_:1}),S(g(ct),{className:"w-24"},{default:C(()=>[...I[27]||(I[27]=[se("Приоритет",-1)])]),_:1})]),_:1})]),_:1}),S(g(Do),null,{default:C(()=>[p.value?($(),k(Ke,{key:0},nt(5,H=>S(g($t),{key:`skeleton-${H}`,class:"animate-pulse"},{default:C(()=>[S(g(Fe),null,{default:C(()=>[...I[28]||(I[28]=[v("div",{class:"h-4 w-4 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[29]||(I[29]=[v("div",{class:"h-4 w-48 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[30]||(I[30]=[v("div",{class:"h-4 w-24 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[31]||(I[31]=[v("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[32]||(I[32]=[v("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[33]||(I[33]=[v("div",{class:"h-6 w-10 bg-slate-100 rounded-full"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[34]||(I[34]=[v("div",{class:"h-8 w-16 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):m.value.length===0?($(),Y(g($t),{key:1},{default:C(()=>[S(g(Fe),{colspan:7,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...I[35]||(I[35]=[se(" Услуги не найдены ",-1)])]),_:1})]),_:1})):($(!0),k(Ke,{key:2},nt(m.value,H=>($(),Y(g($t),{key:H.id,class:Oe(["hover:bg-slate-50/50 transition-colors",b.value.includes(H.id)?"bg-indigo-50/20":""])},{default:C(()=>[S(g(Fe),null,{default:C(()=>[v("input",{type:"checkbox",checked:b.value.includes(H.id),onChange:je=>Ae(H.id),class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,40,Wb)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("p",Xb,q(H.name),1),H.description?($(),k("p",Yb,q(H.description),1)):ve("",!0)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("span",Qb,q(H.category||"Без категории"),1)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("span",Jb,q(H.price_range||"—")+" ₽",1)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("span",Zb,q(H.duration)+" мин",1)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("button",{onClick:je=>te(H),class:Oe(["relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",[H.is_enabled?"bg-emerald-500":"bg-slate-200"]])},[v("span",{"aria-hidden":"true",class:Oe(["pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow transition duration-200 ease-in-out",[H.is_enabled?"translate-x-4":"translate-x-0"]])},null,2)],10,ex)]),_:2},1024),S(g(Fe),null,{default:C(()=>[Ne(v("input",{type:"number","onUpdate:modelValue":je=>H.priority=je,onBlur:je=>ee(H),onKeyup:Rn(je=>ee(H),["enter"]),class:"w-16 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-xs font-mono focus:ring-1 focus:ring-indigo-500 focus:bg-white transition-all",min:"0",max:"100"},null,40,tx),[[st,H.priority,void 0,{number:!0}]])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),v("div",nx,[v("p",ox," Показано "+q(P.value.offset+1)+"-"+q(Math.min(P.value.offset+P.value.limit,h.value))+" из "+q(h.value)+" услуг ",1),v("div",rx,[v("button",{onClick:I[7]||(I[7]=H=>ue(-1)),disabled:P.value.offset===0,class:"p-2 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-30 transition-all"},[S(g(Ps),{class:"h-4 w-4"})],8,ax),v("span",sx,"Страница "+q(z.value),1),v("button",{onClick:I[8]||(I[8]=H=>ue(1)),disabled:P.value.offset+P.value.limit>=h.value,class:"p-2 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-30 transition-all"},[S(g(Os),{class:"h-4 w-4"})],8,lx)])])])]),_:1}),S(g(Dr),{value:"specialists"},{default:C(()=>[v("div",ix,[v("div",ux,[v("div",dx,[I[36]||(I[36]=v("h3",{class:"text-lg font-bold text-slate-900"},"Специалисты",-1)),v("div",cx,[v("div",fx,[S(g(Wn),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Ne(v("input",{"onUpdate:modelValue":I[9]||(I[9]=H=>T.value=H),type:"text",placeholder:"Поиск специалистов...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[st,T.value]])]),v("span",px,"Всего: "+q(R.value.length),1)])])]),v("div",gx,[S(g(Ro),null,{default:C(()=>[S(g(Io),null,{default:C(()=>[S(g($t),null,{default:C(()=>[S(g(ct),null,{default:C(()=>[...I[37]||(I[37]=[se("Имя",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[38]||(I[38]=[se("Роль",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[39]||(I[39]=[se("Услуг",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[40]||(I[40]=[se("Статус",-1)])]),_:1})]),_:1})]),_:1}),S(g(Do),null,{default:C(()=>[W.value?($(),k(Ke,{key:0},nt(5,H=>S(g($t),{key:`spec-skel-${H}`,class:"animate-pulse"},{default:C(()=>[S(g(Fe),null,{default:C(()=>[...I[41]||(I[41]=[v("div",{class:"h-4 w-24 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[42]||(I[42]=[v("div",{class:"h-4 w-32 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[43]||(I[43]=[v("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[44]||(I[44]=[v("div",{class:"h-4 w-12 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):U.value.length===0?($(),Y(g($t),{key:1},{default:C(()=>[S(g(Fe),{colspan:4,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...I[45]||(I[45]=[se(" Специалисты не найдены ",-1)])]),_:1})]),_:1})):($(!0),k(Ke,{key:2},nt(U.value,H=>($(),Y(g($t),{key:H.id,class:Oe(["hover:bg-slate-50/50 transition-colors",H.is_active?"bg-emerald-50/30":""])},{default:C(()=>[S(g(Fe),null,{default:C(()=>[v("p",mx,q(H.name),1),v("p",vx,q(H.email||H.phone||""),1)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("span",hx,q(H.role||"Специалист"),1)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("span",yx,q(H.services_count??H.linked_services??"-"),1)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("span",{class:Oe(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold",H.is_active?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-500"])},q(H.is_active?"Активен":"Отключён"),3)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),v("div",bx,q(U.value.length)+" из "+q(R.value.length)+" специалистов отображаются ",1)])]),_:1}),S(g(Dr),{value:"categories"},{default:C(()=>[v("div",xx,[v("div",wx,[v("div",Sx,[I[47]||(I[47]=v("h3",{class:"text-lg font-bold text-slate-900"},"Категории",-1)),v("div",Cx,[v("div",Ex,[S(g(Wn),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Ne(v("input",{"onUpdate:modelValue":I[10]||(I[10]=H=>E.value=H),type:"text",placeholder:"Поиск категории...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[st,E.value]])]),v("label",$x,[Ne(v("input",{"onUpdate:modelValue":I[11]||(I[11]=H=>O.value=H),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,512),[[Qt,O.value]]),I[46]||(I[46]=v("span",{class:"text-sm text-slate-600"},"Только включенные",-1))])])])]),v("div",Px,[S(g(Ro),null,{default:C(()=>[S(g(Io),null,{default:C(()=>[S(g($t),null,{default:C(()=>[S(g(ct),null,{default:C(()=>[...I[48]||(I[48]=[se("Категория",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[49]||(I[49]=[se("Услуг",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[50]||(I[50]=[se("Статус",-1)])]),_:1}),S(g(ct),null,{default:C(()=>[...I[51]||(I[51]=[se("Приоритет",-1)])]),_:1})]),_:1})]),_:1}),S(g(Do),null,{default:C(()=>[w.value?($(),k(Ke,{key:0},nt(5,H=>S(g($t),{key:`cat-skel-${H}`,class:"animate-pulse"},{default:C(()=>[S(g(Fe),null,{default:C(()=>[...I[52]||(I[52]=[v("div",{class:"h-4 w-32 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[53]||(I[53]=[v("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[54]||(I[54]=[v("div",{class:"h-4 w-12 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Fe),null,{default:C(()=>[...I[55]||(I[55]=[v("div",{class:"h-4 w-10 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):j.value.length===0?($(),Y(g($t),{key:1},{default:C(()=>[S(g(Fe),{colspan:4,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...I[56]||(I[56]=[se(" Категории не найдены ",-1)])]),_:1})]),_:1})):($(!0),k(Ke,{key:2},nt(j.value,H=>($(),Y(g($t),{key:H.id,class:"hover:bg-slate-50/50 transition-colors"},{default:C(()=>[S(g(Fe),null,{default:C(()=>[v("p",Ox,q(H.name),1),H.description?($(),k("p",Rx,q(H.description),1)):ve("",!0)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("span",Ix,q(H.services_count??"—"),1)]),_:2},1024),S(g(Fe),null,{default:C(()=>[v("button",{onClick:je=>pe(H),class:Oe(["relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",[H.is_enabled?"bg-emerald-500":"bg-slate-200"]])},[v("span",{"aria-hidden":"true",class:Oe(["pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow transition duration-200 ease-in-out",[H.is_enabled?"translate-x-4":"translate-x-0"]])},null,2)],10,Dx)]),_:2},1024),S(g(Fe),null,{default:C(()=>[Ne(v("input",{type:"number","onUpdate:modelValue":je=>H.priority=je,onBlur:je=>me(H),class:"w-16 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-xs font-mono focus:ring-1 focus:ring-indigo-500 focus:bg-white transition-all",min:"0",max:"100"},null,40,Ax),[[st,H.priority,void 0,{number:!0}]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),v("div",Tx,q(j.value.length)+" из "+q(y.value.length)+" категорий отображаются ",1)])]),_:1})]),_:1},8,["value"])])]))}}),Fx={class:"space-y-6"},kx={key:0},Bx={key:0},Lx={key:1},Nx={key:1},Vx={key:0,class:"bg-background rounded-md border border-border p-6 sm:p-8 text-center"},jx={class:"max-w-md mx-auto"},zx={class:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4"},Ux={key:1},Gx=K({__name:"AgentKnowledgePanel",setup(e){const n=ad(),{agent:t,directoriesComposable:o,isSqnsEnabled:a,sqnsToolsList:s,sqnsStatus:r}=od(n),{success:l,error:i}=bs(),u=N("directories"),d=N(!1),c=N(!1),f=N(!1),p=N(null),m=ae(()=>{var te;return((te=o.value)==null?void 0:te.directories)??[]}),h=ae(()=>{var te;return((te=o.value)==null?void 0:te.isLoading)??!1}),y=ae(()=>{var te;return((te=o.value)==null?void 0:te.error)??null}),b=ae(()=>{var te;return((te=o.value)==null?void 0:te.items)??[]}),w=ae(()=>{var te;return((te=o.value)==null?void 0:te.isLoadingItems)??!1}),E=ae(()=>{var te;return((te=o.value)==null?void 0:te.currentDirectory)??null}),O=ae(()=>[{id:"directories",label:"Справочники",count:m.value.length},{id:"sqns",label:"SQNS",count:a.value?s.value.length:void 0}]),M=async()=>{await n.ensureDirectoriesLoaded()};Kt(()=>{u.value==="directories"?n.ensureDirectoriesLoaded():(n.ensureSqnsStatusLoaded(),n.ensureSqnsHints())}),Ge(t,async te=>{te&&(u.value==="directories"?await n.ensureDirectoriesLoaded():(await n.ensureSqnsStatusLoaded(),await n.ensureSqnsHints()))},{immediate:!0}),Ge(u,async te=>{te==="directories"?await n.ensureDirectoriesLoaded():(await n.ensureSqnsStatusLoaded(),await n.ensureSqnsHints())});const R=async te=>{if(o.value)try{await o.value.createDirectory(te),d.value=!1,l("Справочник создан")}catch(ee){i(ee.message||"Не удалось создать справочник")}},W=te=>{o.value&&o.value.setCurrentDirectory(te)},T=()=>{o.value&&o.value.setCurrentDirectory(null)},x=async te=>{if(!(!o.value||!E.value))try{await o.value.createItem(E.value.id,te),l("Запись добавлена")}catch(ee){i(ee.message||"Не удалось создать запись")}},P=async(te,ee)=>{if(!(!o.value||!E.value))try{await o.value.updateItem(E.value.id,te,ee)}catch(ge){i(ge.message||"Не удалось обновить запись")}},z=async te=>{if(!(!o.value||!E.value))try{await o.value.deleteItem(E.value.id,te),l("Запись удалена")}catch(ee){i(ee.message||"Не удалось удалить запись")}},Z=async te=>{if(!(!o.value||!E.value))try{await o.value.deleteItems(E.value.id,te),l("Записи удалены")}catch(ee){i(ee.message||"Не удалось удалить записи")}},B=async(te,ee,ge)=>{if(!(!o.value||!E.value))try{const pe=await o.value.importCsv(E.value.id,te,ee,ge);c.value=!1,l(`Импортировано ${pe.created} записей`)}catch(pe){i(pe.message||"Не удалось импортировать файл")}},j=async()=>{if(!(!o.value||!E.value))try{await o.value.exportCsv(E.value.id)}catch(te){i(te.message||"Не удалось экспортировать справочник")}},U=async te=>{if(!(!o.value||!E.value))try{const ee=[...E.value.columns,te];await o.value.updateDirectory(E.value.id,{columns:ee}),l("Столбец добавлен")}catch(ee){i(ee.message||"Не удалось добавить столбец")}},F=async te=>{if(!(!o.value||!E.value))try{const ee=E.value.columns.filter(ge=>ge.name!==te);if(ee.length===0){i("Нельзя удалить последний столбец");return}await o.value.updateDirectory(E.value.id,{columns:ee}),l("Столбец удалён")}catch(ee){i(ee.message||"Не удалось удалить столбец")}},J=async te=>{if(!(!o.value||!E.value))try{await o.value.updateDirectory(E.value.id,{columns:te})}catch(ee){i(ee.message||"Не удалось обновить столбцы")}},_=async te=>{var ee,ge;if(!(!o.value||!te.id))try{await o.value.updateDirectory(te.id,te),f.value=!1,l("Настройки сохранены")}catch(pe){(ee=p.value)==null||ee.setError(pe.message||"Не удалось сохранить настройки"),i(pe.message||"Не удалось сохранить настройки")}finally{(ge=p.value)==null||ge.setSaving(!1)}},Ee=async te=>{var ee,ge;if(o.value)try{await o.value.deleteDirectory(te),f.value=!1,l("Справочник удалён")}catch(pe){(ee=p.value)==null||ee.setError(pe.message||"Не удалось удалить справочник"),i(pe.message||"Не удалось удалить справочник")}finally{(ge=p.value)==null||ge.setDeleting(!1)}};return(te,ee)=>{var ge,pe,me,Ae,Re;return $(),k("div",Fx,[S(Yd,{modelValue:u.value,"onUpdate:modelValue":ee[0]||(ee[0]=ue=>u.value=ue),tabs:O.value},null,8,["modelValue","tabs"]),u.value==="directories"?($(),k("div",kx,[E.value?($(),k("div",Bx,[S(Ah,{directory:E.value,items:b.value,loading:w.value,onBack:T,onSettings:ee[1]||(ee[1]=ue=>f.value=!0),onCreate:x,onUpdate:P,onDelete:z,onDeleteSelected:Z,onImport:ee[2]||(ee[2]=ue=>c.value=!0),onExport:j,onAddColumn:U,onDeleteColumn:F,onUpdateColumns:J},null,8,["directory","items","loading"])])):($(),k("div",Lx,[S(bc,{directories:m.value,loading:h.value,error:y.value,onCreate:ee[3]||(ee[3]=ue=>d.value=!0),onSelect:W,onRetry:M},null,8,["directories","loading","error"])]))])):u.value==="sqns"?($(),k("div",Nx,[g(a)?($(),k("div",Ux,[g(t)?($(),Y(Mx,{key:0,"agent-id":g(t).id,status:((ge=g(r))==null?void 0:ge.sqnsStatus)==="error"?"error":"active","last-sync-at":(pe=g(r))==null?void 0:pe.sqnsLastSyncAt,warning:(me=g(r))==null?void 0:me.sqnsWarning,onSyncComplete:g(n).loadSqnsStatusForAgent},null,8,["agent-id","status","last-sync-at","warning","onSyncComplete"])):ve("",!0)])):($(),k("div",Vx,[v("div",jx,[v("div",zx,[S(g(Fd),{class:"h-8 w-8 text-slate-400"})]),ee[8]||(ee[8]=v("h3",{class:"text-lg font-bold text-slate-900"},"База знаний SQNS",-1)),ee[9]||(ee[9]=v("p",{class:"text-slate-500 mt-2 mb-6"}," Подключите SQNS интеграцию для управления услугами и категориями. ",-1)),v("button",{onClick:ee[4]||(ee[4]=ue=>{var He;return g(rd)(`/agents/${(He=g(t))==null?void 0:He.id}/connections`)}),class:"px-6 py-3 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Перейти к подключениям ")])]))])):ve("",!0),S(h0,{"is-open":d.value,"existing-tool-names":((Ae=g(o))==null?void 0:Ae.existingToolNames)??[],onClose:ee[5]||(ee[5]=ue=>d.value=!1),onSubmit:R},null,8,["is-open","existing-tool-names"]),E.value?($(),Y(W0,{key:2,"is-open":c.value,"directory-name":E.value.name,columns:E.value.columns,onClose:ee[6]||(ee[6]=ue=>c.value=!1),onImport:B},null,8,["is-open","directory-name","columns"])):ve("",!0),S(xb,{ref_key:"directorySettingsSheetRef",ref:p,"is-open":f.value,directory:E.value,"existing-tool-names":((Re=g(o))==null?void 0:Re.existingToolNames)??[],onClose:ee[7]||(ee[7]=ue=>f.value=!1),onSave:_,onDelete:Ee},null,8,["is-open","directory","existing-tool-names"])])}}}),y1=K({__name:"knowledge",setup(e){return(n,t)=>($(),Y(ti,{title:"База знаний","hide-actions":!0},{default:C(()=>[S(Gx)]),_:1}))}});export{y1 as default};
