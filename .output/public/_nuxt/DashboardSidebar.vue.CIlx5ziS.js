import{bY as d,m as E,B as J,n as g,w as n,u as e,k as X,o as r,a as s,t as c,v as f,bP as x,b as a,X as Y,c as p,A as u,d as v,p as G,C as Q,c4 as Z,J as ee,F as te,L as U,c0 as se,N as ae}from"./entry.CVvpXMAV.js";import{_ as oe}from"./nuxt-link.BLS_a--H.js";import{j as b,q as _,U as k,W as w,H as ne,i as ie}from"./index.DopZtmKD.js";import{a as le}from"./useAuth.Bu6P1IiJ.js";import{C as re,a as de,A as ce}from"./chevron-right.tKVFfOuR.js";import{L as he}from"./link.DE3y2oKi.js";import{D as pe}from"./database.CGsskZ8s.js";import{C as ue}from"./cpu.Du2Q-9ux.js";import{M as z}from"./message-square.0RgVcxgB.js";import{S as N}from"./settings.DWy3YrYR.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=d("ActivityIcon",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=d("BotIcon",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=d("KeyIcon",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=d("LayoutDashboardIcon",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=d("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=d("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=d("RadioIcon",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=d("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),be={class:"p-4 sm:p-6 border-b border-slate-200 overflow-hidden"},_e={class:"flex items-center justify-between"},ke={class:"flex items-center gap-3 shrink-0"},we={class:"w-10 h-10 sm:w-9 sm:h-9 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shrink-0"},Me={class:"text-white font-bold text-xs sm:text-sm"},Ce={class:"flex items-center gap-1"},Ie={class:"p-4 sm:p-3 overflow-y-auto max-h-[calc(100vh-200px)]"},je={class:"space-y-2"},Le={key:0},Ae={class:"whitespace-nowrap"},Se={class:"absolute bottom-0 left-0 right-0 border-t border-slate-200 bg-white overflow-hidden"},De={class:"p-4 sm:p-5"},$e={key:0,class:"flex justify-center mb-3"},Be={key:1,class:"flex items-center justify-between"},Ue={class:"flex items-center gap-3 shrink-0"},ze={class:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shrink-0 shadow-sm"},Ne={class:"text-white font-bold text-sm"},Re={class:"min-w-0 transition-opacity duration-300"},qe={class:"text-sm font-semibold text-slate-900 truncate"},He={class:"text-xs text-slate-600 truncate"},Ze=E({__name:"DashboardSidebar",emits:["close"],setup(Ve,{emit:q}){const{user:h,tenant:y,logout:H}=le(),M=ae(),V=se(),C=q,K=t=>({owner:"Владелец",admin:"Администратор",manager:"Менеджер",user:"Пользователь",viewer:"Наблюдатель"})[t]||t,o=X(!1),P=()=>{o.value=!o.value,localStorage.setItem("sidebar-collapsed",String(o.value))},I=()=>{H()},j=U(()=>{var t;return(t=M.name)==null?void 0:t.toString().startsWith("agents-id")}),W=()=>{V.push("/agents")};J(()=>{{const t=localStorage.getItem("sidebar-collapsed");t!==null&&(o.value=t==="true")}});const F=[{name:"Панель управления",path:"/dashboard",icon:fe},{name:"Мои агенты",path:"/agents",icon:ge},{name:"Диалоги",path:"/dialogs",icon:z},{name:"Аналитика",path:"/analytics",icon:me},{name:"Пациенты",path:"/patients",icon:ve},{name:"API Ключи",path:"/api-keys",icon:ye},{name:"Настройки",path:"/settings",icon:N}],O=[{id:"prompt",name:"Системный промпт",icon:ie,path:t=>`/agents/${t}/prompt`},{id:"channels",name:"Каналы",icon:xe,path:t=>`/agents/${t}/channels`},{id:"connections",name:"Интеграции",icon:he,path:t=>`/agents/${t}/connections`},{id:"knowledge",name:"База знаний",icon:pe,path:t=>`/agents/${t}/knowledge`},{id:"model",name:"Модель",icon:ue,path:t=>`/agents/${t}/model`},{id:"chat",name:"Чат",icon:z,path:t=>`/agents/${t}/chat`},{id:"settings",name:"Настройки",icon:N,path:t=>`/agents/${t}/settings`}],T=U(()=>{if(j.value){const t=M.params.id;return O.map(m=>({...m,path:m.path(t)}))}return F});return(t,l)=>{const m=oe;return r(),g(e(ne),{"delay-duration":0},{default:n(()=>{var L,A,S,D,$,B;return[s("aside",{class:u(["bg-white border-r border-slate-200 min-h-screen lg:relative fixed inset-y-0 left-0 z-50 transition-all duration-300 ease-in-out overflow-hidden",[o.value?"w-20":"w-64"]])},[s("div",be,[s("div",_e,[s("div",ke,[s("div",we,[s("span",Me,c((L=e(y))!=null&&L.name?e(y).name.split(" ").map(i=>i.charAt(0)).join("").toUpperCase().slice(0,2):"ОР"),1)]),f(s("span",{class:"text-slate-900 font-bold text-xl sm:text-lg whitespace-nowrap truncate"},c(((A=e(y))==null?void 0:A.name)||"Организация"),513),[[x,!o.value]])]),s("div",Ce,[s("button",{onClick:P,class:"hidden lg:flex p-1.5 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors",title:"Свернуть/Развернуть"},[o.value?(r(),g(e(de),{key:1,class:"h-5 w-5"})):(r(),g(e(re),{key:0,class:"h-5 w-5"}))]),s("button",{onClick:l[0]||(l[0]=i=>C("close")),class:"lg:hidden p-2 rounded-lg text-slate-600 hover:bg-slate-100"},[a(e(Y),{class:"h-5 w-5"})])])])]),s("nav",Ie,[s("ul",je,[j.value?(r(),p("li",Le,[a(e(w),{disabled:!o.value},{default:n(()=>[a(e(b),{"as-child":""},{default:n(()=>[s("button",{onClick:W,class:u(["w-full flex items-center text-base sm:text-sm font-medium rounded-lg transition-all duration-200 px-4 py-3 sm:py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900",[o.value?"justify-center px-3":"px-4"]])},[a(e(ce),{class:u(["w-5 h-5 shrink-0 transition-transform",[!o.value&&"mr-3"]])},null,8,["class"]),f(s("span",Ae,"Назад к агентам",512),[[x,!o.value]])],2)]),_:1}),a(e(_),null,{default:n(()=>[a(e(k),{side:"right","side-offset":8,class:"z-[9999] rounded-md bg-white border border-slate-200 px-3 py-1.5 text-sm text-slate-700 shadow-md"},{default:n(()=>[...l[2]||(l[2]=[v(" Назад к агентам ",-1)])]),_:1})]),_:1})]),_:1},8,["disabled"])])):G("",!0),(r(!0),p(te,null,Q(T.value,i=>(r(),p("li",{key:i.name},[a(e(w),{disabled:!o.value},{default:n(()=>[a(e(b),{"as-child":""},{default:n(()=>[a(m,{to:i.path,onClick:l[1]||(l[1]=Ke=>C("close")),class:u(["flex items-center text-base sm:text-sm font-medium rounded-lg transition-all duration-200",[(t._.provides[Z]||t.$route).path===i.path?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md shadow-indigo-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900",o.value?"px-3 py-3 justify-center":"px-4 py-3 sm:py-2.5"]])},{default:n(()=>[(r(),g(ee(i.icon),{class:u(["w-5 h-5 shrink-0 transition-transform",[!o.value&&"mr-3"]])},null,8,["class"])),f(s("span",{class:"whitespace-nowrap transition-opacity duration-300"},c(i.name),513),[[x,!o.value]])]),_:2},1032,["to","class"])]),_:2},1024),a(e(_),null,{default:n(()=>[a(e(k),{side:"right","side-offset":8,class:"z-[9999] rounded-md bg-white border border-slate-200 px-3 py-1.5 text-sm text-slate-700 shadow-md"},{default:n(()=>[v(c(i.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])]))),128))])]),s("div",Se,[s("div",De,[o.value?(r(),p("div",$e,[a(e(w),null,{default:n(()=>[a(e(b),{"as-child":""},{default:n(()=>[s("button",{onClick:I,class:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[a(e(R),{class:"h-5 w-5"})])]),_:1}),a(e(_),null,{default:n(()=>[a(e(k),{side:"right","side-offset":8,class:"z-[9999] rounded-md bg-white border border-slate-200 px-3 py-1.5 text-sm text-slate-700 shadow-md"},{default:n(()=>[...l[3]||(l[3]=[v(" Выйти ",-1)])]),_:1})]),_:1})]),_:1})])):(r(),p("div",Be,[s("div",Ue,[s("div",ze,[s("span",Ne,c((S=e(h))!=null&&S.full_name?e(h).full_name.split(" ").map(i=>i.charAt(0)).join("").toUpperCase():((D=e(h))==null?void 0:D.email.charAt(0).toUpperCase())||"U"),1)]),s("div",Re,[s("p",qe,c((($=e(h))==null?void 0:$.full_name)||"Пользователь"),1),s("p",He,c((B=e(h))!=null&&B.role?K(e(h).role):"Роль не указана"),1)])]),s("button",{onClick:I,class:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors shrink-0",title:"Выйти"},[a(e(R),{class:"h-5 w-5"})])]))])])],2)]}),_:1})}}});export{me as A,ge as B,ye as K,Qe as M,ve as U,Ze as _};
