import{u as i}from"./useApiFetch.DTQFO30A.js";import{k as n}from"./entry.B2IFVgKF.js";const u=s=>s&&typeof s.value=="string"&&typeof s.provider=="string"&&typeof s.model_name=="string"&&typeof s.label=="string",c=s=>Array.isArray(s)?s.filter(e=>e&&typeof e.group=="string"&&Array.isArray(e.options)).map(e=>({group:e.group,options:e.options.filter(u)})).filter(e=>e.options.length>0):[],g=()=>{const s=i(),e=n([]),l=n(!1),r=n(null);return{modelGroups:e,isLoading:l,error:r,fetchActiveModels:async()=>{l.value=!0,r.value=null;try{const t=await s("/model-pricing/active-models");e.value=c(t)}catch(t){r.value=(t==null?void 0:t.message)||"Не удалось загрузить доступные модели",e.value=[]}finally{l.value=!1}},hasModelValue:t=>e.value.some(o=>o.options.some(a=>a.value===t)),getFirstModelValue:()=>{var o;const t=e.value.find(a=>a.options.length>0);return((o=t==null?void 0:t.options[0])==null?void 0:o.value)||""}}};export{g as u};
