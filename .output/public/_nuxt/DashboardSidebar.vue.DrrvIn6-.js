import{M as w,m as J,n as U,w as a,u as e,o as h,a as s,A as y,t as l,v as f,bQ as g,b as o,X as Q,c as v,d as _,p as G,C as Y,c5 as Z,J as ee,F as te,aX as se,b$ as oe,L as D,P as ae}from"./entry.B2IFVgKF.js";import{_ as ne}from"./nuxt-link.CZIucM_4.js";import{u as re}from"./useLayoutState.sNd_KhK0.js";import{j as I,q as z,U as B,W as N,d as ie,c as de,f as le,h as R,v as V,u as ce,H as ue}from"./index.BzStbfpn.js";import{u as me}from"./useAuth.Vyp_2ZYp.js";import{A as pe}from"./arrow-left.D4qTmew4.js";import{C as he}from"./chevrons-up-down.D-QHIOia.js";import{S as P}from"./settings.CVBEhxi9.js";import{S as fe}from"./sparkles.DgfYw7vH.js";import{L as ge}from"./link.kpkGukWz.js";import{D as xe}from"./database.B9xoHuOa.js";import{C as be}from"./code.xjqaw9ju.js";import{C as ye}from"./cpu.VnXlKUPE.js";import{M as q}from"./message-square.YxiZE0Ei.js";import{B as _e}from"./bot.DgHqvI4b.js";import{A as we}from"./activity.Bk43bQJl.js";import{U as ke}from"./users.BYVY5mba.js";import{K as ve}from"./key.D7l7b_ph.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=w("LayoutDashboardIcon",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=w("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=w("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=w("RadioIcon",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),Me={class:"h-[60px] px-3 border-b border-border shrink-0 flex items-center"},$e={class:"w-8 h-8 bg-sidebar-primary rounded-lg flex items-center justify-center shrink-0"},Le={class:"text-sidebar-primary-foreground font-bold text-xs"},Se={class:"flex-1 p-3 overflow-y-auto min-h-0"},Ue={class:"flex flex-col gap-2"},De={key:0},Ie={class:"whitespace-nowrap"},ze={class:"mt-auto border-t border-border bg-sidebar shrink-0 p-3"},Be={class:"w-9 h-9 bg-sidebar-primary rounded-lg flex items-center justify-center shrink-0"},Ne={class:"text-sidebar-primary-foreground font-bold text-xs"},Re={class:"min-w-0 flex-1"},Ve={class:"text-sm font-semibold text-foreground truncate leading-tight"},Pe={class:"text-xs text-muted-foreground truncate leading-tight"},qe={class:"flex items-center gap-3 px-3 py-2.5"},Ee={class:"w-9 h-9 bg-sidebar-primary rounded-lg flex items-center justify-center shrink-0"},He={class:"text-sidebar-primary-foreground font-bold text-xs"},We={class:"min-w-0 flex-1"},Fe={class:"text-sm font-semibold text-foreground truncate"},Ke={class:"text-xs text-muted-foreground truncate"},Oe={class:"text-xs text-primary font-medium mt-0.5"},pt=J({inheritAttrs:!1,__name:"DashboardSidebar",emits:["close"],setup(Te,{emit:E}){const{user:d,tenant:k,logout:H}=me(),C=ae(),j=oe(),{isCollapsed:r}=re(),A=E,W=t=>({owner:"Владелец",admin:"Администратор",manager:"Менеджер",user:"Пользователь",viewer:"Наблюдатель"})[t]||t,F=()=>{H()},M=D(()=>{var t;return(t=C.name)==null?void 0:t.toString().startsWith("agents-id")}),K=()=>{j.push("/agents")},O=[{name:"Панель управления",path:"/dashboard",icon:Ce},{name:"Мои агенты",path:"/agents",icon:_e},{name:"Диалоги",path:"/dialogs",icon:q},{name:"Аналитика",path:"/analytics",icon:we},{name:"Пациенты",path:"/patients",icon:ke},{name:"API Ключи",path:"/api-keys",icon:ve}],T=[{id:"prompt",name:"Системный промпт",icon:fe,path:t=>`/agents/${t}/prompt`},{id:"channels",name:"Каналы",icon:Ae,path:t=>`/agents/${t}/channels`},{id:"connections",name:"Интеграции",icon:ge,path:t=>`/agents/${t}/connections`},{id:"knowledge",name:"База знаний",icon:xe,path:t=>`/agents/${t}/knowledge`},{id:"functions",name:"Функции",icon:be,path:t=>`/agents/${t}/functions`},{id:"model",name:"Модель",icon:ye,path:t=>`/agents/${t}/model`},{id:"chat",name:"Чат",icon:q,path:t=>`/agents/${t}/chat`},{id:"settings",name:"Настройки",icon:P,path:t=>`/agents/${t}/settings`}],X=D(()=>{if(M.value){const t=C.params.id;return T.map(x=>({...x,path:x.path(t)}))}return O});return(t,i)=>{const x=ne;return h(),U(e(ue),{"delay-duration":0},{default:a(()=>{var $,L;return[s("aside",se(t.$attrs,{class:["bg-sidebar border-r border-border h-screen lg:h-full lg:relative fixed inset-y-0 left-0 z-50 transition-all duration-300 ease-in-out flex flex-col overflow-hidden",[e(r)?"w-16":"w-64"]]}),[s("div",Me,[s("div",{class:y(["flex items-center",[e(r)?"justify-center":"gap-3"]])},[s("div",$e,[s("span",Le,l(($=e(k))!=null&&$.name?e(k).name.split(" ").map(n=>n.charAt(0)).join("").toUpperCase().slice(0,2):"ОР"),1)]),f(s("span",{class:"text-foreground font-bold text-lg whitespace-nowrap truncate"},l(((L=e(k))==null?void 0:L.name)||"Организация"),513),[[g,!e(r)]]),s("button",{onClick:i[0]||(i[0]=n=>A("close")),class:"lg:hidden ml-auto p-2 rounded-lg text-foreground hover:bg-muted"},[o(e(Q),{class:"h-5 w-5"})])],2)]),s("nav",Se,[s("ul",Ue,[M.value?(h(),v("li",De,[o(e(N),{disabled:!e(r)},{default:a(()=>[o(e(I),{"as-child":""},{default:a(()=>[s("button",{onClick:K,class:y(["flex items-center text-sm font-medium rounded-md transition-colors text-sidebar-foreground hover:bg-muted",[e(r)?"w-10 h-10 justify-center":"w-full px-3 py-2 gap-3"]])},[o(e(pe),{class:"w-5 h-5 shrink-0"}),f(s("span",Ie,"Назад к агентам",512),[[g,!e(r)]])],2)]),_:1}),o(e(z),null,{default:a(()=>[o(e(B),{side:"right","side-offset":12,class:"z-[9999] rounded-md bg-foreground px-2.5 py-1.5 text-xs text-background shadow-md"},{default:a(()=>[...i[3]||(i[3]=[_(" Назад к агентам ",-1)])]),_:1})]),_:1})]),_:1},8,["disabled"])])):G("",!0),(h(!0),v(te,null,Y(X.value,n=>(h(),v("li",{key:n.name},[o(e(N),{disabled:!e(r)},{default:a(()=>[o(e(I),{"as-child":""},{default:a(()=>[o(x,{to:n.path,onClick:i[1]||(i[1]=c=>A("close")),class:y(["flex items-center text-sm font-medium rounded-md transition-colors",[(t._.provides[Z]||t.$route).path===n.path?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-muted",e(r)?"w-10 h-10 justify-center":"px-3 py-2 gap-3"]])},{default:a(()=>[(h(),U(ee(n.icon),{class:"w-5 h-5 shrink-0"})),f(s("span",{class:"whitespace-nowrap"},l(n.name),513),[[g,!e(r)]])]),_:2},1032,["to","class"])]),_:2},1024),o(e(z),null,{default:a(()=>[o(e(B),{side:"right","side-offset":12,class:"z-[9999] rounded-md bg-foreground px-2.5 py-1.5 text-xs text-background shadow-md"},{default:a(()=>[_(l(n.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])]))),128))])]),s("div",ze,[o(e(ce),null,{default:a(()=>[o(e(ie),{"as-child":""},{default:a(()=>{var n,c,u,m,p;return[s("button",{class:y(["w-full flex items-center gap-3 rounded-lg p-2 text-left transition-colors hover:bg-muted focus:outline-none",[e(r)?"justify-center":""]])},[s("div",Be,[s("span",Ne,l((n=e(d))!=null&&n.full_name?e(d).full_name.split(" ").map(b=>b.charAt(0)).join("").toUpperCase():((u=(c=e(d))==null?void 0:c.email)==null?void 0:u.charAt(0).toUpperCase())||"U"),1)]),f(s("div",Re,[s("p",Ve,l(((m=e(d))==null?void 0:m.full_name)||"Пользователь"),1),s("p",Pe,l(((p=e(d))==null?void 0:p.email)||"Email не указан"),1)],512),[[g,!e(r)]]),f(o(e(he),{class:"h-4 w-4 text-muted-foreground shrink-0"},null,512),[[g,!e(r)]])],2)]}),_:1}),o(e(de),null,{default:a(()=>[o(e(le),{side:e(r)?"right":"top","side-offset":8,align:e(r)?"end":"start",class:"z-[9999] min-w-56 rounded-xl bg-background border border-border shadow-lg p-1"},{default:a(()=>{var n,c,u,m,p,b;return[s("div",qe,[s("div",Ee,[s("span",He,l((n=e(d))!=null&&n.full_name?e(d).full_name.split(" ").map(S=>S.charAt(0)).join("").toUpperCase():((u=(c=e(d))==null?void 0:c.email)==null?void 0:u.charAt(0).toUpperCase())||"U"),1)]),s("div",We,[s("p",Fe,l(((m=e(d))==null?void 0:m.full_name)||"Пользователь"),1),s("p",Ke,l(((p=e(d))==null?void 0:p.email)||"Email не указан"),1),s("p",Oe,l((b=e(d))!=null&&b.role?W(e(d).role):"Роль не указана"),1)])]),o(e(R),{class:"h-px bg-border my-1"}),o(e(V),{class:"flex items-center gap-2 px-3 py-2 text-sm text-foreground rounded-lg cursor-pointer outline-none hover:bg-muted focus:bg-muted transition-colors",onSelect:i[2]||(i[2]=S=>e(j).push("/settings"))},{default:a(()=>[o(e(P),{class:"h-4 w-4 text-muted-foreground"}),i[4]||(i[4]=_(" Настройки ",-1))]),_:1}),o(e(R),{class:"h-px bg-border my-1"}),o(e(V),{class:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 rounded-lg cursor-pointer outline-none hover:bg-red-50 focus:bg-red-50 transition-colors",onSelect:F},{default:a(()=>[o(e(je),{class:"h-4 w-4"}),i[5]||(i[5]=_(" Выйти ",-1))]),_:1})]}),_:1},8,["side","align"])]),_:1})]),_:1})])],16)]}),_:1})}}});export{mt as M,pt as _};
