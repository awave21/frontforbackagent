import{u as S}from"./useLayoutState.B8IzXTUd.js";import{m as T,y as $,B as A,c as a,b as l,A as B,u as e,n as i,w as m,q as x,T as N,a as r,p as o,K as M,o as t,F as g,d as V,t as y,k as z,Q as E}from"./entry.CBkKRCnV.js";import{_ as b,M as F}from"./DashboardSidebar.vue.CISQW3kM.js";import{_ as L}from"./DashboardTopBar.vue.r45uuTXu.js";import{u as P}from"./useAgentEditorStore.CBOc6_qs.js";import{u as q}from"./usePermissions.DJmIznYF.js";import{L as D}from"./loader-2.CrTaI3Us.js";import{C as K}from"./check.B0AA6R8j.js";import"./nuxt-link.ChvxNO41.js";import"./index.DUHHe-nk.js";import"./floating-ui.vue.D2M-ESmY.js";import"./useAuth.CHSuA4zA.js";import"./useApiFetch.B9YviUBz.js";import"./authSessionManager.BK0upO_P.js";import"./arrow-left.BVml2r7Y.js";import"./chevrons-up-down.ChXABuTd.js";import"./settings.bgzCNz6L.js";import"./sparkles.C46KeWkI.js";import"./link.DI4GcQzP.js";import"./database.rUDIiFFC.js";import"./code.BBwGSiHr.js";import"./cpu.DTGJxxT_.js";import"./message-square.G28g8bWr.js";import"./bot.DYtIoycp.js";import"./activity.DvKgEOk5.js";import"./users.bdEIwFds.js";import"./key.DnUSL3Nn.js";import"./useAgents.C6xV-JRH.js";import"./index.C5R80SqK.js";const O={class:"h-screen flex overflow-hidden bg-muted"},Q={class:"flex-1 flex flex-col min-w-0 overflow-hidden"},R={class:"text-sm text-muted-foreground font-normal"},j={key:0,class:"text-sm text-border"},G={key:1,class:"text-sm text-foreground font-medium"},H=["disabled"],I={class:"flex-1 overflow-y-auto bg-muted"},we=T({__name:"agent",setup(J){const{initSidebarState:_,breadcrumbTitle:d,breadcrumbAgentName:c}=S(),u=P(),{isPromptFullscreen:p,isSaving:f}=$(u),{canEditAgents:h}=q(),n=z(!1),k=async()=>{await u.saveAgent()},C=()=>{E("/agents")};return A(()=>{_()}),(w,s)=>(t(),a("div",O,[l(b,{class:B(e(p)?"hidden":"hidden lg:flex")},null,8,["class"]),(t(),i(N,{to:"body"},[l(x,{"enter-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:m(()=>[n.value?(t(),a("div",{key:0,class:"lg:hidden fixed inset-0 z-40 bg-black/50",onClick:s[0]||(s[0]=v=>n.value=!1)})):o("",!0)]),_:1}),l(x,{"enter-active-class":"transition-transform duration-300 ease-out","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition-transform duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full"},{default:m(()=>[n.value?(t(),i(b,{key:0,class:"lg:hidden fixed inset-y-0 left-0 z-50",onClose:s[1]||(s[1]=v=>n.value=!1)})):o("",!0)]),_:1})])),r("div",Q,[e(p)?o("",!0):(t(),i(L,{key:0},{left:m(()=>[r("button",{class:"lg:hidden p-2 -ml-2 rounded-lg text-foreground hover:bg-muted",onClick:s[2]||(s[2]=v=>n.value=!0)},[l(e(F),{class:"w-5 h-5"})]),e(d)?(t(),a(g,{key:0},[r("span",R,y(e(d)),1),e(c)?(t(),a("span",j,"/")):o("",!0),e(c)?(t(),a("span",G,y(e(c)),1)):o("",!0)],64)):o("",!0)]),right:m(()=>[e(h)&&e(d)?(t(),a(g,{key:0},[r("button",{onClick:C,class:"px-4 py-1.5 text-sm text-muted-foreground font-medium hover:text-foreground transition-colors"}," Отменить "),r("button",{onClick:k,disabled:e(f),class:"px-4 py-1.5 bg-primary text-primary-foreground rounded-md text-sm font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5"},[e(f)?(t(),i(e(D),{key:0,class:"h-3.5 w-3.5 animate-spin"})):(t(),i(e(K),{key:1,class:"h-3.5 w-3.5"})),s[3]||(s[3]=V(" Сохранить ",-1))],8,H)],64)):o("",!0)]),_:1})),r("main",I,[M(w.$slots,"default")])])]))}});export{we as default};
