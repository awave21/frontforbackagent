import{A as R,M as J,_ as O,B as Y}from"./DashboardSidebar.vue.CApj98zs.js";import{_ as G}from"./nuxt-link.Br_LdvxN.js";import{bY as K,m as B,o as l,c as a,a as t,A as w,n as C,J as Q,t as x,b as r,u as o,d as A,F as j,C as I,L as _,M as W,B as X,f as Z,p as f,w as k,q as tt,k as $,c0 as et}from"./entry.O09EqozO.js";import{S as L}from"./settings.C9le7tdi.js";import{M as st}from"./more-vertical.BSQSS7mo.js";import{U as S}from"./user-check.C60HXmPW.js";import{F as ot}from"./file-check.CIOtIdzv.js";import{_ as lt}from"./AuthModal.vue.BC9qfAFg.js";import{u as nt}from"./useAgents.YWcF2IqP.js";import{a as rt}from"./useAuth.neUI44RN.js";import{u as at}from"./usePermissions.UhNkZPD1.js";import{A as it}from"./alert-circle.Du6JAHUu.js";import{S as dt}from"./search.CWWWJTL7.js";import{P as ct}from"./plus.O__j7ujZ.js";import"./index.D3uoxhKM.js";import"./chevron-right.Dlh3V1cy.js";import"./link.DmRsociT.js";import"./database.DRXp7gyz.js";import"./cpu.CR1fSKWh.js";import"./message-square.DFkAKvgI.js";import"./eye.CLKq6yp0.js";import"./loader-2.Co8TrG4J.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=K("SlidersHorizontalIcon",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),ut={class:"flex items-start justify-between mb-6"},xt={class:"flex items-center gap-5"},pt={class:"text-2xl font-bold text-slate-900 mb-2"},gt={class:"flex items-center gap-3"},bt={class:"text-sm text-slate-600"},ft={class:"flex items-center gap-2"},yt={key:1,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-lg text-slate-900 font-medium"},vt={class:"p-3 bg-slate-50 rounded-lg"},ht={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},wt={class:"text-sm text-slate-600"},Ct=B({__name:"AgentDetailCard",props:{title:{},icon:{},avatarColor:{},borderColor:{},type:{},stats:{},statsBgColor:{},statsTextColor:{},agentId:{}},setup(c){const m=c,u=_(()=>{switch(m.icon){case"UserCheck":return S;case"Activity":return R;case"FileCheck":return ot;default:return S}}),y=()=>{m.agentId&&W(`/agents/${m.agentId}`)};return(p,d)=>(l(),a("div",{class:w(["bg-white rounded-xl border p-7",c.borderColor])},[t("div",ut,[t("div",xt,[t("div",{class:w(["flex items-center justify-center w-18 h-18 rounded-xl bg-gradient-to-br",c.avatarColor])},[(l(),C(Q(u.value),{class:"h-9 w-9 text-white"}))],2),t("div",null,[t("h3",pt,x(c.title),1),t("div",gt,[d[0]||(d[0]=t("div",{class:"flex items-center gap-1.5"},[t("div",{class:"w-2.5 h-2.5 bg-green-500 rounded-full"}),t("span",{class:"text-sm font-semibold text-green-600"},"Активен")],-1)),d[1]||(d[1]=t("div",{class:"w-1 h-1 bg-slate-300 rounded-full"},null,-1)),t("span",bt,x(c.type),1)])])]),t("div",ft,[c.agentId?(l(),a("button",{key:0,onClick:y,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-lg text-slate-900 font-medium hover:bg-slate-100 transition-colors"},[r(o(L),{class:"h-4 w-4"}),d[2]||(d[2]=A(" Настроить ",-1))])):(l(),a("button",yt,[r(o(L),{class:"h-4 w-4"}),d[3]||(d[3]=A(" Настроить ",-1))])),t("button",vt,[r(o(st),{class:"h-5 w-5 text-slate-600"})])])]),t("div",ht,[(l(!0),a(j,null,I(c.stats,g=>(l(),a("div",{key:g.label,class:w(["rounded-lg p-4",c.statsBgColor])},[t("p",{class:w(["text-3xl font-bold mb-1",c.statsTextColor])},x(g.value),3),t("p",wt,x(g.label),1)],2))),128))])],2))}}),_t={class:"min-h-screen bg-slate-50"},kt={class:"lg:hidden bg-white border-b border-slate-200 px-4 py-3"},At={class:"flex items-center justify-between"},$t={class:"flex"},Lt={key:0,class:"lg:hidden fixed inset-0 z-50 w-full"},St={class:"flex-1 bg-slate-50 p-4 sm:p-6 lg:p-10"},Bt={class:"max-w-7xl mx-auto"},jt={key:0,class:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},It={class:"flex items-center justify-between"},Mt={class:"flex items-center"},Tt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 lg:mb-8"},Dt={class:"flex items-center gap-3"},Ft={class:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg border border-slate-200"},zt={class:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg border border-slate-200 text-slate-900 font-medium"},Nt={class:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8"},Ut={class:"bg-white rounded-xl border border-slate-200 p-5"},Vt={class:"text-3xl font-bold text-green-600"},Pt={class:"bg-white rounded-xl border border-slate-200 p-5"},qt={class:"text-3xl font-bold text-slate-900"},Et={class:"bg-white rounded-xl border border-slate-200 p-5"},Ht={class:"text-3xl font-bold text-indigo-600"},Rt={key:1,class:"flex justify-center py-8"},Jt={key:2,class:"text-center py-12"},Ot={key:3,class:"space-y-4"},ge=B({__name:"index",setup(c){const m=$(!1);et();const{isAuthenticated:u}=rt(),{canEditAgents:y}=at(),{agents:p,fetchAgents:d,isLoading:g}=nt(),M=_(()=>p.value.length),T=_(()=>p.value.filter(s=>s.status==="published").length),D=_(()=>p.value.filter(s=>s.status==="draft").length),v=$(!1);X(async()=>{if(u.value)try{await d()}catch(s){console.error("Failed to load agents:",s)}}),Z(u,async s=>{s&&await d()});const F=()=>{v.value=!1},z=s=>s.name.toLowerCase().includes("запис")?"UserCheck":s.name.toLowerCase().includes("диагностик")?"Activity":s.name.toLowerCase().includes("документац")?"FileCheck":"Bot",N=s=>{const e=["from-sky-500 to-cyan-500","from-purple-500 to-pink-500","from-emerald-500 to-cyan-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500"],i=s.id.charCodeAt(0)%e.length;return e[i]},U=s=>{const e=["border-sky-100","border-purple-100","border-emerald-100","border-orange-100","border-indigo-100"],i=s.id.charCodeAt(0)%e.length;return e[i]},V=s=>s.system_prompt.toLowerCase().includes("пациент")?"Управление пациентами":s.system_prompt.toLowerCase().includes("диагностик")||s.system_prompt.toLowerCase().includes("анализ")?"Медицинский анализ":s.system_prompt.toLowerCase().includes("документ")?"Документооборот":"Общий помощник",P=s=>{const e=["bg-sky-50","bg-purple-50","bg-emerald-50","bg-orange-50","bg-indigo-50"],i=s.id.charCodeAt(0)%e.length;return e[i]},q=s=>{const e=["text-sky-600","text-purple-600","text-emerald-600","text-orange-600","text-indigo-600"],i=s.id.charCodeAt(0)%e.length;return e[i]},E=s=>{var b,h;const e=s.status==="published"?"Опубликован":"Черновик",i=((b=s.model)==null?void 0:b.split(":")[1])||s.model||"Не указана";return[{value:e,label:"Статус"},{value:i,label:"Модель"},{value:((h=s.version)==null?void 0:h.toString())||"1",label:"Версия"},{value:new Date(s.updated_at).toLocaleDateString("ru-RU"),label:"Обновлен"}]};return(s,e)=>{const i=O,b=G,h=Ct,H=lt;return l(),a("div",_t,[t("div",kt,[t("div",At,[e[5]||(e[5]=t("div",{class:"flex items-center gap-2"},[t("div",{class:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center"},[t("span",{class:"text-white font-bold text-xs"},"М")]),t("span",{class:"text-slate-900 font-bold"},"МедиАИ")],-1)),t("button",{onClick:e[0]||(e[0]=n=>m.value=!m.value),class:"p-2 rounded-lg text-slate-600 hover:bg-slate-100"},[r(o(J),{class:"h-5 w-5"})])])]),t("div",$t,[r(i,{class:"hidden lg:block"}),m.value?(l(),a("div",{key:0,class:"lg:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:e[1]||(e[1]=n=>m.value=!1)})):f("",!0),r(tt,{"enter-active-class":"transition-all duration-500 cubic-bezier(0.34, 1.56, 0.64, 1)","enter-from-class":"-translate-x-full opacity-0 scale-95","enter-to-class":"translate-x-0 opacity-100 scale-100","leave-active-class":"transition-all duration-400 ease-in","leave-from-class":"translate-x-0 opacity-100 scale-100","leave-to-class":"-translate-x-full opacity-0 scale-95"},{default:k(()=>[m.value?(l(),a("div",Lt,[r(i,{onClose:e[2]||(e[2]=n=>m.value=!1)})])):f("",!0)]),_:1}),t("main",St,[t("div",Bt,[o(u)?f("",!0):(l(),a("div",jt,[t("div",It,[t("div",Mt,[r(o(it),{class:"h-5 w-5 text-yellow-400 mr-3"}),e[6]||(e[6]=t("div",null,[t("h3",{class:"text-sm font-medium text-yellow-800"}," Требуется аутентификация "),t("p",{class:"text-sm text-yellow-700 mt-1"}," Войдите в систему, чтобы получить доступ к управлению агентами ")],-1))]),t("button",{onClick:e[3]||(e[3]=n=>v.value=!0),class:"px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-lg hover:bg-yellow-700 transition-colors"}," Войти ")])])),t("div",Tt,[e[11]||(e[11]=t("div",{class:"mb-4 sm:mb-0"},[t("h1",{class:"text-2xl sm:text-3xl font-bold text-slate-900"}," Мои агенты "),t("p",{class:"text-slate-600 mt-1 sm:mt-2 text-sm sm:text-base"}," Управляйте вашими AI-агентами и настраивайте их работу ")],-1)),t("div",Dt,[t("div",Ft,[r(o(dt),{class:"h-4 w-4 text-slate-400"}),e[7]||(e[7]=t("span",{class:"text-sm text-slate-400"},"Поиск агентов...",-1))]),t("button",zt,[r(o(mt),{class:"h-4 w-4"}),e[8]||(e[8]=t("span",{class:"hidden sm:inline"},"Фильтры",-1))]),o(u)&&o(y)?(l(),C(b,{key:0,to:"/agents/new",class:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-purple-700 transition-colors shadow-sm shadow-indigo-100"},{default:k(()=>[r(o(ct),{class:"h-4 w-4"}),e[9]||(e[9]=t("span",{class:"hidden sm:inline"},"Новый агент",-1)),e[10]||(e[10]=t("span",{class:"sm:hidden"},"Новый",-1))]),_:1})):f("",!0)])]),t("div",Nt,[t("div",Ut,[e[12]||(e[12]=t("div",{class:"flex items-center justify-between mb-3"},[t("p",{class:"text-sm font-normal text-slate-600"},"Активные")],-1)),t("p",Vt,x(T.value),1)]),t("div",Pt,[e[13]||(e[13]=t("div",{class:"flex items-center justify-between mb-3"},[t("p",{class:"text-sm font-normal text-slate-600"},"Всего агентов")],-1)),t("p",qt,x(M.value),1)]),t("div",Et,[e[14]||(e[14]=t("div",{class:"flex items-center justify-between mb-3"},[t("p",{class:"text-sm font-normal text-slate-600"}," Черновики ")],-1)),t("p",Ht,x(D.value),1)])]),o(g)?(l(),a("div",Rt,[...e[15]||(e[15]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1)])])):o(p).length===0?(l(),a("div",Jt,[r(o(Y),{class:"h-12 w-12 text-slate-400 mx-auto mb-4"}),e[17]||(e[17]=t("h3",{class:"text-lg font-medium text-slate-900 mb-2"},"Нет агентов",-1)),e[18]||(e[18]=t("p",{class:"text-slate-600 mb-4"},"Создайте своего первого AI-агента",-1)),o(u)&&o(y)?(l(),C(b,{key:0,to:"/agents/new",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"},{default:k(()=>[...e[16]||(e[16]=[A(" Создать агента ",-1)])]),_:1})):f("",!0)])):(l(),a("div",Ot,[(l(!0),a(j,null,I(o(p),n=>(l(),C(h,{key:n.id,"agent-id":n.id,title:n.name,icon:z(n),"avatar-color":N(n),"border-color":U(n),type:V(n),"stats-bg-color":P(n),"stats-text-color":q(n),stats:E(n)},null,8,["agent-id","title","icon","avatar-color","border-color","type","stats-bg-color","stats-text-color","stats"]))),128))]))])])]),r(H,{"is-open":v.value,onClose:e[4]||(e[4]=n=>v.value=!1),onAuthenticated:F},null,8,["is-open"])])}}});export{ge as default};
