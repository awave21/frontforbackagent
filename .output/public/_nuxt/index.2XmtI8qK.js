import{S as L,A as R,M as E,_ as G,B as J}from"./DashboardSidebar.vue.e80HtcW-.js";import{_ as K}from"./nuxt-link.DQuDe9in.js";import{m as $,n as B,o,c as a,a as e,A as h,p as w,B as Q,t as g,b as r,u as n,d as A,H as I,I as T,D as k,O as W,G as X,f as Y,x as f,w as _,T as Z,r as S,F as ee}from"./entry.d9x2jNom.js";import{U as j}from"./user-check.ClkNiPrj.js";import{F as te}from"./file-check.CM7OnI1R.js";import{_ as se}from"./AuthModal.vue.D9f4qKrQ.js";import{u as oe}from"./useAgents.B_eBphx0.js";import{u as le}from"./useAuth.Dtl-sXO9.js";import{A as ne}from"./alert-circle.DEP-E7rT.js";import{P as re}from"./plus.CWWrb3xr.js";/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=$("MoreVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=$("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=$("SlidersHorizontalIcon",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),ce={class:"flex items-start justify-between mb-6"},ue={class:"flex items-center gap-5"},me={class:"text-2xl font-bold text-slate-900 mb-2"},xe={class:"flex items-center gap-3"},ge={class:"text-sm text-slate-600"},pe={class:"flex items-center gap-2"},be={key:1,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-lg text-slate-900 font-medium"},fe={class:"p-3 bg-slate-50 rounded-lg"},ye={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},ve={class:"text-sm text-slate-600"},he=B({__name:"AgentDetailCard",props:{title:{},icon:{},avatarColor:{},borderColor:{},type:{},stats:{},statsBgColor:{},statsTextColor:{},agentId:{}},setup(d){const c=d,m=k(()=>{switch(c.icon){case"UserCheck":return j;case"Activity":return R;case"FileCheck":return te;default:return j}}),x=()=>{c.agentId&&W(`/agents/${c.agentId}`)};return(C,u)=>(o(),a("div",{class:h(["bg-white rounded-xl border p-7",d.borderColor])},[e("div",ce,[e("div",ue,[e("div",{class:h(["flex items-center justify-center w-18 h-18 rounded-xl bg-gradient-to-br",d.avatarColor])},[(o(),w(Q(m.value),{class:"h-9 w-9 text-white"}))],2),e("div",null,[e("h3",me,g(d.title),1),e("div",xe,[u[0]||(u[0]=e("div",{class:"flex items-center gap-1.5"},[e("div",{class:"w-2.5 h-2.5 bg-green-500 rounded-full"}),e("span",{class:"text-sm font-semibold text-green-600"},"Активен")],-1)),u[1]||(u[1]=e("div",{class:"w-1 h-1 bg-slate-300 rounded-full"},null,-1)),e("span",ge,g(d.type),1)])])]),e("div",pe,[d.agentId?(o(),a("button",{key:0,onClick:x,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-lg text-slate-900 font-medium hover:bg-slate-100 transition-colors"},[r(n(L),{class:"h-4 w-4"}),u[2]||(u[2]=A(" Настроить ",-1))])):(o(),a("button",be,[r(n(L),{class:"h-4 w-4"}),u[3]||(u[3]=A(" Настроить ",-1))])),e("button",fe,[r(n(ae),{class:"h-5 w-5 text-slate-600"})])])]),e("div",ye,[(o(!0),a(I,null,T(d.stats,p=>(o(),a("div",{key:p.label,class:h(["rounded-lg p-4",d.statsBgColor])},[e("p",{class:h(["text-3xl font-bold mb-1",d.statsTextColor])},g(p.value),3),e("p",ve,g(p.label),1)],2))),128))])],2))}}),we={class:"min-h-screen bg-slate-50"},ke={class:"lg:hidden bg-white border-b border-slate-200 px-4 py-3"},Ce={class:"flex items-center justify-between"},_e={class:"flex"},Ae={key:0,class:"lg:hidden fixed inset-0 z-50 w-full"},$e={class:"flex-1 bg-slate-50 p-4 sm:p-6 lg:p-10"},Le={class:"max-w-7xl mx-auto"},Se={key:0,class:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},je={class:"flex items-center justify-between"},Be={class:"flex items-center"},Ie={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 lg:mb-8"},Te={class:"flex items-center gap-3"},De={class:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg border border-slate-200"},Fe={class:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg border border-slate-200 text-slate-900 font-medium"},Me={class:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8"},ze={class:"bg-white rounded-xl border border-slate-200 p-5"},Ne={class:"text-3xl font-bold text-green-600"},Ve={class:"bg-white rounded-xl border border-slate-200 p-5"},Ue={class:"text-3xl font-bold text-slate-900"},qe={class:"bg-white rounded-xl border border-slate-200 p-5"},He={class:"text-3xl font-bold text-indigo-600"},Oe={key:1,class:"flex justify-center py-8"},Pe={key:2,class:"text-center py-12"},Re={key:3,class:"space-y-4"},tt=B({__name:"index",setup(d){const c=S(!1);ee();const{isAuthenticated:m}=le(),{agents:x,fetchAgents:C,isLoading:u}=oe(),p=k(()=>x.value.length),D=k(()=>x.value.filter(s=>s.status==="published").length),F=k(()=>x.value.filter(s=>s.status==="draft").length),y=S(!1);X(async()=>{if(m.value)try{await C()}catch(s){console.error("Failed to load agents:",s)}}),Y(m,async s=>{s&&await C()});const M=()=>{y.value=!1},z=s=>s.name.toLowerCase().includes("запис")?"UserCheck":s.name.toLowerCase().includes("диагностик")?"Activity":s.name.toLowerCase().includes("документац")?"FileCheck":"Bot",N=s=>{const t=["from-sky-500 to-cyan-500","from-purple-500 to-pink-500","from-emerald-500 to-cyan-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500"],i=s.id.charCodeAt(0)%t.length;return t[i]},V=s=>{const t=["border-sky-100","border-purple-100","border-emerald-100","border-orange-100","border-indigo-100"],i=s.id.charCodeAt(0)%t.length;return t[i]},U=s=>s.system_prompt.toLowerCase().includes("пациент")?"Управление пациентами":s.system_prompt.toLowerCase().includes("диагностик")||s.system_prompt.toLowerCase().includes("анализ")?"Медицинский анализ":s.system_prompt.toLowerCase().includes("документ")?"Документооборот":"Общий помощник",q=s=>{const t=["bg-sky-50","bg-purple-50","bg-emerald-50","bg-orange-50","bg-indigo-50"],i=s.id.charCodeAt(0)%t.length;return t[i]},H=s=>{const t=["text-sky-600","text-purple-600","text-emerald-600","text-orange-600","text-indigo-600"],i=s.id.charCodeAt(0)%t.length;return t[i]},O=s=>{var b,v;const t=s.status==="published"?"Опубликован":"Черновик",i=((b=s.model)==null?void 0:b.split(":")[1])||s.model||"Не указана";return[{value:t,label:"Статус"},{value:i,label:"Модель"},{value:((v=s.version)==null?void 0:v.toString())||"1",label:"Версия"},{value:new Date(s.updated_at).toLocaleDateString("ru-RU"),label:"Обновлен"}]};return(s,t)=>{const i=G,b=K,v=he,P=se;return o(),a("div",we,[e("div",ke,[e("div",Ce,[t[5]||(t[5]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center"},[e("span",{class:"text-white font-bold text-xs"},"М")]),e("span",{class:"text-slate-900 font-bold"},"МедиАИ")],-1)),e("button",{onClick:t[0]||(t[0]=l=>c.value=!c.value),class:"p-2 rounded-lg text-slate-600 hover:bg-slate-100"},[r(n(E),{class:"h-5 w-5"})])])]),e("div",_e,[r(i,{class:"hidden lg:block"}),c.value?(o(),a("div",{key:0,class:"lg:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:t[1]||(t[1]=l=>c.value=!1)})):f("",!0),r(Z,{"enter-active-class":"transition-all duration-500 cubic-bezier(0.34, 1.56, 0.64, 1)","enter-from-class":"-translate-x-full opacity-0 scale-95","enter-to-class":"translate-x-0 opacity-100 scale-100","leave-active-class":"transition-all duration-400 ease-in","leave-from-class":"translate-x-0 opacity-100 scale-100","leave-to-class":"-translate-x-full opacity-0 scale-95"},{default:_(()=>[c.value?(o(),a("div",Ae,[r(i,{onClose:t[2]||(t[2]=l=>c.value=!1)})])):f("",!0)]),_:1}),e("main",$e,[e("div",Le,[n(m)?f("",!0):(o(),a("div",Se,[e("div",je,[e("div",Be,[r(n(ne),{class:"h-5 w-5 text-yellow-400 mr-3"}),t[6]||(t[6]=e("div",null,[e("h3",{class:"text-sm font-medium text-yellow-800"}," Требуется аутентификация "),e("p",{class:"text-sm text-yellow-700 mt-1"}," Войдите в систему, чтобы получить доступ к управлению агентами ")],-1))]),e("button",{onClick:t[3]||(t[3]=l=>y.value=!0),class:"px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-lg hover:bg-yellow-700 transition-colors"}," Войти ")])])),e("div",Ie,[t[11]||(t[11]=e("div",{class:"mb-4 sm:mb-0"},[e("h1",{class:"text-2xl sm:text-3xl font-bold text-slate-900"}," Мои агенты "),e("p",{class:"text-slate-600 mt-1 sm:mt-2 text-sm sm:text-base"}," Управляйте вашими AI-агентами и настраивайте их работу ")],-1)),e("div",Te,[e("div",De,[r(n(ie),{class:"h-4 w-4 text-slate-400"}),t[7]||(t[7]=e("span",{class:"text-sm text-slate-400"},"Поиск агентов...",-1))]),e("button",Fe,[r(n(de),{class:"h-4 w-4"}),t[8]||(t[8]=e("span",{class:"hidden sm:inline"},"Фильтры",-1))]),n(m)?(o(),w(b,{key:0,to:"/agents/new",class:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-purple-700 transition-colors shadow-sm shadow-indigo-100"},{default:_(()=>[r(n(re),{class:"h-4 w-4"}),t[9]||(t[9]=e("span",{class:"hidden sm:inline"},"Новый агент",-1)),t[10]||(t[10]=e("span",{class:"sm:hidden"},"Новый",-1))]),_:1})):f("",!0)])]),e("div",Me,[e("div",ze,[t[12]||(t[12]=e("div",{class:"flex items-center justify-between mb-3"},[e("p",{class:"text-sm font-normal text-slate-600"},"Активные")],-1)),e("p",Ne,g(D.value),1)]),e("div",Ve,[t[13]||(t[13]=e("div",{class:"flex items-center justify-between mb-3"},[e("p",{class:"text-sm font-normal text-slate-600"},"Всего агентов")],-1)),e("p",Ue,g(p.value),1)]),e("div",qe,[t[14]||(t[14]=e("div",{class:"flex items-center justify-between mb-3"},[e("p",{class:"text-sm font-normal text-slate-600"}," Черновики ")],-1)),e("p",He,g(F.value),1)])]),n(u)?(o(),a("div",Oe,[...t[15]||(t[15]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1)])])):n(x).length===0?(o(),a("div",Pe,[r(n(J),{class:"h-12 w-12 text-slate-400 mx-auto mb-4"}),t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-slate-900 mb-2"},"Нет агентов",-1)),t[18]||(t[18]=e("p",{class:"text-slate-600 mb-4"},"Создайте своего первого AI-агента",-1)),n(m)?(o(),w(b,{key:0,to:"/agents/new",class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"},{default:_(()=>[...t[16]||(t[16]=[A(" Создать агента ",-1)])]),_:1})):f("",!0)])):(o(),a("div",Re,[(o(!0),a(I,null,T(n(x),l=>(o(),w(v,{key:l.id,"agent-id":l.id,title:l.name,icon:z(l),"avatar-color":N(l),"border-color":V(l),type:U(l),"stats-bg-color":q(l),"stats-text-color":H(l),stats:O(l)},null,8,["agent-id","title","icon","avatar-color","border-color","type","stats-bg-color","stats-text-color","stats"]))),128))]))])])]),r(P,{"is-open":y.value,onClose:t[4]||(t[4]=l=>y.value=!1),onAuthenticated:M},null,8,["is-open"])])}}});export{tt as default};
