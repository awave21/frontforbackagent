import{s as ne,t as ae,n as U,r as ie,g as z,S as I,c as j,e as Y,P as G,v as se}from"./utils.wJwXZMb_.js";import{k as A,L as p,e as B,B as le,aM as ue,m as _,aU as ce,aC as D,f as de,bb as fe,K as F,bT as K,o as X,n as pe,w as Z,u as y,c as he,b as me,aX as ve,a_ as ge,aV as ye}from"./entry.CBkKRCnV.js";import{u as we,a as Ae,o as xe,f as W,s as Pe,l as Ce,b as _e,c as Se,h as be}from"./floating-ui.vue.D2M-ESmY.js";function Ve(t){const r=ne({dir:A("ltr")});return p(()=>{var e;return(t==null?void 0:t.value)||((e=r.dir)==null?void 0:e.value)||"ltr"})}let $=0;function Le(){B(t=>{if(!ae)return;const r=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",r[0]??H()),document.body.insertAdjacentElement("beforeend",r[1]??H()),$++,t(()=>{$===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(e=>e.remove()),$--})})}function H(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function Ee(t){const r=A(),e=p(()=>{var o;return((o=r.value)==null?void 0:o.width)??0}),n=p(()=>{var o;return((o=r.value)==null?void 0:o.height)??0});return le(()=>{const o=U(t);if(o){r.value={width:o.offsetWidth,height:o.offsetHeight};const h=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const m=l[0];let i,c;if("borderBoxSize"in m){const d=m.borderBoxSize,s=Array.isArray(d)?d[0]:d;i=s.inlineSize,c=s.blockSize}else i=o.offsetWidth,c=o.offsetHeight;r.value={width:i,height:c}});return h.observe(o,{box:"border-box"}),()=>h.unobserve(o)}else r.value=void 0}),{width:e,height:n}}function Ue(t){const r=ie("",1e3);return{search:r,handleTypeaheadSearch:(o,h)=>{r.value=r.value+o;{const l=z(),m=h.map(u=>{var g,a;return{...u,textValue:((g=u.value)==null?void 0:g.textValue)??((a=u.ref.textContent)==null?void 0:a.trim())??""}}),i=m.find(u=>u.ref===l),c=m.map(u=>u.textValue),d=qe(c,r.value,i==null?void 0:i.textValue),s=m.find(u=>u.textValue===d);return s&&s.ref.focus(),s==null?void 0:s.ref}},resetTypeahead:()=>{r.value=""}}}function Oe(t,r){return t.map((e,n)=>t[(r+n)%t.length])}function qe(t,r,e){const o=r.length>1&&Array.from(r).every(c=>c===r[0])?r[0]:r,h=e?t.indexOf(e):-1;let l=Oe(t,Math.max(h,0));o.length===1&&(l=l.filter(c=>c!==e));const i=l.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return i!==e?i:void 0}function V(){const t=A(),r=p(()=>{var e,n;return["#text","#comment"].includes((e=t.value)==null?void 0:e.$el.nodeName)?(n=t.value)==null?void 0:n.$el.nextElementSibling:U(t)});return{primitiveElement:t,currentElement:r}}const L="data-reka-collection-item";function je(t={}){const{key:r="",isProvider:e=!1}=t,n=`${r}CollectionProvider`;let o;if(e){const d=A(new Map);o={collectionRef:A(),itemMap:d},fe(n,o)}else o=ue(n);const h=(d=!1)=>{const s=o.collectionRef.value;if(!s)return[];const u=Array.from(s.querySelectorAll(`[${L}]`)),a=Array.from(o.itemMap.value.values()).sort((v,w)=>u.indexOf(v.ref)-u.indexOf(w.ref));return d?a:a.filter(v=>v.ref.dataset.disabled!=="")},l=_({name:"CollectionSlot",inheritAttrs:!1,setup(d,{slots:s,attrs:u}){const{primitiveElement:g,currentElement:a}=V();return de(a,()=>{o.collectionRef.value=a.value}),()=>D(I,{ref:g,...u},s)}}),m=_({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(d,{slots:s,attrs:u}){const{primitiveElement:g,currentElement:a}=V();return B(v=>{if(a.value){const w=ce(a.value);o.itemMap.value.set(w,{ref:a.value,value:d.value}),v(()=>o.itemMap.value.delete(w))}}),()=>D(I,{...u,[L]:"",ref:g},s)}}),i=p(()=>Array.from(o.itemMap.value.values())),c=p(()=>o.itemMap.value.size);return{getItems:h,reactiveItems:i,itemMapSize:c,CollectionSlot:l,CollectionItem:m}}const Ye="rovingFocusGroup.onEntryFocus",Ge={bubbles:!1,cancelable:!0},Re={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $e(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ke(t,r,e){const n=$e(t.key,e);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Re[n]}function Xe(t,r=!1){const e=z();for(const n of t)if(n===e||(n.focus({preventScroll:r}),z()!==e))return}const[J,ze]=j("PopperRoot");var ke=_({inheritAttrs:!1,__name:"PopperRoot",setup(t){const r=A();return ze({anchor:r,onAnchorChange:e=>r.value=e}),(e,n)=>F(e.$slots,"default")}}),Ze=ke,Be=_({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const r=t,{forwardRef:e,currentElement:n}=Y(),o=J();return K(()=>{o.onAnchorChange(r.reference??n.value)}),(h,l)=>(X(),pe(y(G),{ref:y(e),as:h.as,"as-child":h.asChild},{default:Z(()=>[F(h.$slots,"default")]),_:3},8,["as","as-child"]))}}),Je=Be;function Fe(t){return t!==null}function Me(t){return{name:"transformOrigin",options:t,fn(r){var w,S,C;const{placement:e,rects:n,middlewareData:o}=r,l=((w=o.arrow)==null?void 0:w.centerOffset)!==0,m=l?0:t.arrowWidth,i=l?0:t.arrowHeight,[c,d]=k(e),s={start:"0%",center:"50%",end:"100%"}[d],u=(((S=o.arrow)==null?void 0:S.x)??0)+m/2,g=(((C=o.arrow)==null?void 0:C.y)??0)+i/2;let a="",v="";return c==="bottom"?(a=l?s:`${u}px`,v=`${-i}px`):c==="top"?(a=l?s:`${u}px`,v=`${n.floating.height+i}px`):c==="right"?(a=`${-i}px`,v=l?s:`${g}px`):c==="left"&&(a=`${n.floating.width+i}px`,v=l?s:`${g}px`),{data:{x:a,y:v}}}}}function k(t){const[r,e="center"]=t.split("-");return[r,e]}const Te={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,hideShiftedArrow:!0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[Qe,Ne]=j("PopperContent");var Ie=_({inheritAttrs:!1,__name:"PopperContent",props:ye({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Te}),emits:["placed"],setup(t,{emit:r}){const e=t,n=r,o=J(),{forwardRef:h,currentElement:l}=Y(),m=A(),i=A(),{width:c,height:d}=Ee(i),s=p(()=>e.side+(e.align!=="center"?`-${e.align}`:"")),u=p(()=>typeof e.collisionPadding=="number"?e.collisionPadding:{top:0,right:0,bottom:0,left:0,...e.collisionPadding}),g=p(()=>Array.isArray(e.collisionBoundary)?e.collisionBoundary:[e.collisionBoundary]),a=p(()=>({padding:u.value,boundary:g.value.filter(Fe),altBoundary:g.value.length>0})),v=p(()=>({mainAxis:e.sideFlip,crossAxis:e.alignFlip})),w=se(()=>[xe({mainAxis:e.sideOffset+d.value,alignmentAxis:e.alignOffset}),e.prioritizePosition&&e.avoidCollisions&&W({...a.value,...v.value}),e.avoidCollisions&&Pe({mainAxis:!0,crossAxis:!!e.prioritizePosition,limiter:e.sticky==="partial"?Ce():void 0,...a.value}),!e.prioritizePosition&&e.avoidCollisions&&W({...a.value,...v.value}),_e({...a.value,apply:({elements:f,rects:P,availableWidth:b,availableHeight:E})=>{const{width:O,height:oe}=P.reference,q=f.floating.style;q.setProperty("--reka-popper-available-width",`${b}px`),q.setProperty("--reka-popper-available-height",`${E}px`),q.setProperty("--reka-popper-anchor-width",`${O}px`),q.setProperty("--reka-popper-anchor-height",`${oe}px`)}}),i.value&&Se({element:i.value,padding:e.arrowPadding}),Me({arrowWidth:c.value,arrowHeight:d.value}),e.hideWhenDetached&&be({strategy:"referenceHidden",...a.value})]),S=p(()=>e.reference??o.anchor.value),{floatingStyles:C,placement:M,isPositioned:R,middlewareData:x}=we(S,m,{strategy:e.positionStrategy,placement:s,whileElementsMounted:(...f)=>Ae(...f,{layoutShift:!e.disableUpdateOnLayoutShift,animationFrame:e.updatePositionStrategy==="always"}),middleware:w}),T=p(()=>k(M.value)[0]),Q=p(()=>k(M.value)[1]);K(()=>{R.value&&n("placed")});const ee=p(()=>{var P;const f=((P=x.value.arrow)==null?void 0:P.centerOffset)!==0;return e.hideShiftedArrow&&f}),N=A("");B(()=>{l.value&&(N.value=window.getComputedStyle(l.value).zIndex)});const te=p(()=>{var f;return((f=x.value.arrow)==null?void 0:f.x)??0}),re=p(()=>{var f;return((f=x.value.arrow)==null?void 0:f.y)??0});return Ne({placedSide:T,onArrowChange:f=>i.value=f,arrowX:te,arrowY:re,shouldHideArrow:ee}),(f,P)=>{var b,E,O;return X(),he("div",{ref_key:"floatingRef",ref:m,"data-reka-popper-content-wrapper":"",style:ge({...y(C),transform:y(R)?y(C).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:N.value,"--reka-popper-transform-origin":[(b=y(x).transformOrigin)==null?void 0:b.x,(E=y(x).transformOrigin)==null?void 0:E.y].join(" "),...((O=y(x).hide)==null?void 0:O.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[me(y(G),ve({ref:y(h)},f.$attrs,{"as-child":e.asChild,as:f.as,"data-side":T.value,"data-align":Q.value,style:{animation:y(R)?void 0:"none"}}),{default:Z(()=>[F(f.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),et=Ie;export{Ye as E,Je as P,je as a,Ge as b,Ze as c,Le as d,Ue as e,Xe as f,et as g,Te as h,V as i,Ke as j,Ve as u};
