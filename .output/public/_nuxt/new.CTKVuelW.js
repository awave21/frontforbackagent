import{M,_ as G}from"./DashboardSidebar.vue.CApj98zs.js";import{_ as V}from"./AuthModal.vue.BC9qfAFg.js";import{m as $,c as u,a as t,b as s,u as n,p as c,w as N,q as S,n as w,d as y,D as h,s as j,v as f,x as _,bO as q,k as m,L as z,c0 as B,o as i,_ as D}from"./entry.O09EqozO.js";import{u as L}from"./useAgents.YWcF2IqP.js";import{a as U}from"./useAuth.neUI44RN.js";import{A as E}from"./alert-circle.Du6JAHUu.js";import{L as I}from"./loader-2.Co8TrG4J.js";import{P as O}from"./plus.O__j7ujZ.js";import{i as R}from"./index.D3uoxhKM.js";import"./nuxt-link.Br_LdvxN.js";import"./chevron-right.Dlh3V1cy.js";import"./link.DmRsociT.js";import"./database.DRXp7gyz.js";import"./cpu.CR1fSKWh.js";import"./message-square.DFkAKvgI.js";import"./settings.C9le7tdi.js";import"./eye.CLKq6yp0.js";const F={class:"min-h-screen bg-slate-50"},H={class:"lg:hidden bg-white border-b border-slate-200 px-4 py-3"},J={class:"flex items-center justify-between"},K={class:"flex"},Q={key:0,class:"lg:hidden fixed inset-0 z-50 w-full"},W={class:"flex-1 bg-slate-50 p-4 sm:p-6 lg:p-10"},X={class:"max-w-4xl mx-auto"},Y={key:0,class:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},Z={class:"flex items-center justify-between"},tt={class:"flex items-center"},et={class:"flex items-center justify-between mb-8"},ot={class:"flex items-center gap-3"},at=["disabled"],st={class:"bg-white rounded-2xl border border-slate-200 p-8 shadow-sm"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},nt={class:"pt-4 flex items-center justify-between border-t border-slate-100"},it={type:"button",class:"flex items-center gap-2 px-5 py-2.5 bg-indigo-50 text-indigo-600 rounded-lg text-sm font-medium hover:bg-indigo-100 transition-colors"},rt=$({__name:"new",setup(dt){const{isAuthenticated:k}=U(),v=B(),{createAgent:C}=L(),l=m(!1),r=m(!1),d=m(!1),o=m({name:"",model:"openai:gpt-5-mini",system_prompt:""}),b=z(()=>o.value.name.trim()!==""&&o.value.model!==""&&o.value.system_prompt.trim()!==""),g=async()=>{if(b.value)try{d.value=!0;const p=await C({...o.value,status:"draft",version:1,llm_params:{temperature:.7,max_tokens:1e3}});v.push(`/agents/${p.id}`)}catch(p){console.error("Error creating agent:",p)}finally{d.value=!1}},T=()=>{v.push("/agents")},A=()=>{r.value=!1};return(p,e)=>{const x=G,P=V;return i(),u("div",F,[t("div",H,[t("div",J,[e[8]||(e[8]=t("div",{class:"flex items-center gap-2"},[t("div",{class:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center"},[t("span",{class:"text-white font-bold text-xs"},"М")]),t("span",{class:"text-slate-900 font-bold"},"МедиАИ")],-1)),t("button",{onClick:e[0]||(e[0]=a=>l.value=!l.value),class:"p-2 rounded-lg text-slate-600 hover:bg-slate-100"},[s(n(M),{class:"h-5 w-5"})])])]),t("div",K,[s(x,{class:"hidden lg:block"}),l.value?(i(),u("div",{key:0,class:"lg:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:e[1]||(e[1]=a=>l.value=!1)})):c("",!0),s(S,{"enter-active-class":"transition-all duration-500 cubic-bezier(0.34, 1.56, 0.64, 1)","enter-from-class":"-translate-x-full opacity-0 scale-95","enter-to-class":"translate-x-0 opacity-100 scale-100","leave-active-class":"transition-all duration-400 ease-in","leave-from-class":"translate-x-0 opacity-100 scale-100","leave-to-class":"-translate-x-full opacity-0 scale-95"},{default:N(()=>[l.value?(i(),u("div",Q,[s(x,{onClose:e[2]||(e[2]=a=>l.value=!1)})])):c("",!0)]),_:1}),t("main",W,[t("div",X,[n(k)?c("",!0):(i(),u("div",Y,[t("div",Z,[t("div",tt,[s(n(E),{class:"h-5 w-5 text-yellow-400 mr-3"}),e[9]||(e[9]=t("div",null,[t("h3",{class:"text-sm font-medium text-yellow-800"}," Требуется аутентификация "),t("p",{class:"text-sm text-yellow-700 mt-1"}," Войдите в систему для создания агента ")],-1))]),t("button",{onClick:e[3]||(e[3]=a=>r.value=!0),class:"px-4 py-2 bg-yellow-600 text-white text-sm font-medium rounded-lg hover:bg-yellow-700 transition-colors"}," Войти ")])])),t("div",et,[e[11]||(e[11]=t("div",null,[t("h1",{class:"text-3xl font-bold text-slate-900"},"Создать нового агента"),t("p",{class:"text-slate-500 mt-1"},"Настройте базовые параметры вашего будущего AI-помощника")],-1)),t("div",ot,[t("button",{onClick:T,class:"px-6 py-2.5 text-slate-600 font-medium hover:text-slate-900 transition-colors"}," Отменить "),t("button",{onClick:g,disabled:d.value||!b.value,class:"px-8 py-2.5 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm shadow-indigo-200"},[d.value?(i(),w(n(I),{key:0,class:"h-4 w-4 animate-spin"})):(i(),w(n(O),{key:1,class:"h-4 w-4"})),e[10]||(e[10]=y(" Создать ",-1))],8,at)])]),e[18]||(e[18]=h('<div class="flex items-center gap-1 border-b border-slate-200 mb-8 overflow-x-auto no-scrollbar" data-v-88141aaf><button class="px-5 py-3 text-sm font-medium transition-all relative whitespace-nowrap text-indigo-600 bg-indigo-50 rounded-t-lg" data-v-88141aaf> Основная настройка <div class="absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600" data-v-88141aaf></div></button><button disabled class="px-5 py-3 text-sm font-medium text-slate-300 cursor-not-allowed whitespace-nowrap" data-v-88141aaf> Подключения </button><button disabled class="px-5 py-3 text-sm font-medium text-slate-300 cursor-not-allowed whitespace-nowrap" data-v-88141aaf> База знаний </button><button disabled class="px-5 py-3 text-sm font-medium text-slate-300 cursor-not-allowed whitespace-nowrap" data-v-88141aaf> Модель </button></div>',1)),t("div",st,[t("form",{onSubmit:j(g,["prevent"]),class:"space-y-8"},[t("div",lt,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-bold text-slate-900 mb-2"},"Название агента *",-1)),f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.name=a),type:"text",required:"",placeholder:"Например: Агент поддержки",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},null,512),[[_,o.value.name]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-bold text-slate-900 mb-2"},"Модель ИИ *",-1)),f(t("select",{"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.model=a),required:"",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},[...e[13]||(e[13]=[h('<option value="" data-v-88141aaf>Выберите модель</option><optgroup label="GPT-5 (Рекомендуемые - 2026)" data-v-88141aaf><option value="openai:gpt-5.2" data-v-88141aaf>GPT-5.2 (Лучшая)</option><option value="openai:gpt-5-mini" data-v-88141aaf>GPT-5 Mini (Быстрая)</option><option value="openai:gpt-5-nano" data-v-88141aaf>GPT-5 Nano (Экономная)</option></optgroup><optgroup label="GPT-4.1" data-v-88141aaf><option value="openai:gpt-4.1" data-v-88141aaf>GPT-4.1 (Умная)</option><option value="openai:gpt-4.1-mini" data-v-88141aaf>GPT-4.1 Mini (Быстрая)</option></optgroup><optgroup label="GPT-4o (Легаси)" data-v-88141aaf><option value="openai:gpt-4o" data-v-88141aaf>GPT-4o (Мультимодальная)</option><option value="openai:gpt-4o-mini" data-v-88141aaf>GPT-4o Mini (Быстрая)</option></optgroup><optgroup label="Reasoning" data-v-88141aaf><option value="openai:o3" data-v-88141aaf>o3 (Сложные задачи)</option><option value="openai:o4-mini" data-v-88141aaf>o4 Mini (Быстрые рассуждения)</option></optgroup>',5)])],512),[[q,o.value.model]])])]),t("div",null,[e[15]||(e[15]=t("div",{class:"mb-4"},[t("h3",{class:"text-sm font-bold text-slate-900"},"Системный промпт *"),t("p",{class:"text-xs text-slate-500 mt-1"},"Опишите роль и поведение агента")],-1)),f(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.system_prompt=a),required:"",rows:"10",class:"w-full px-5 py-4 text-slate-700 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all resize-none leading-relaxed",placeholder:"Вы — помощник для..."},null,512),[[_,o.value.system_prompt]])]),t("div",nt,[t("button",it,[s(n(R),{class:"h-4 w-4"}),e[16]||(e[16]=y(" Помочь с промптом ",-1))]),e[17]||(e[17]=t("p",{class:"text-xs text-slate-400"},"* Обязательные поля для заполнения",-1))])],32)])])])]),s(P,{"is-open":r.value,onClose:e[7]||(e[7]=a=>r.value=!1),onAuthenticated:A},null,8,["is-open"])])}}}),Pt=D(rt,[["__scopeId","data-v-88141aaf"]]);export{Pt as default};
