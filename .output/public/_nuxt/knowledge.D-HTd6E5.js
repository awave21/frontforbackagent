import{_ as Hl}from"./AgentPageShell.vue.OnHAWrZH.js";import{O as _l,P as Kl,Q as ns,R as Wl,S as Xl,U as Yl,V as ql,F as He,W as Ql,Y as Jl,Z as Zl,$ as ei,T as os,a0 as ti,a1 as ni,q as rs,a2 as oi,a3 as ri,a4 as ai,a5 as si,a6 as li,a7 as ii,a8 as ea,a9 as ui,aa as as,ab as di,L as re,ac as ci,n as ne,p as ve,c as k,a as h,ad as fi,ae as pi,af as gi,ag as mi,ah as vi,D as ta,d as ae,b as S,ai as ss,aj as hi,m as te,ak as yi,al as bi,am as xi,an as wi,ao as Si,ap as Ci,aq as $i,ar as Ei,as as Ri,at as Pi,au as na,l as sn,av as ls,aw as Ii,ax as Oi,ay as ut,az as yn,aA as Di,aB as Ti,aC as Mi,aD as Ai,aE as Fi,aF as ki,aG as Li,aH as Ni,aI as Vi,aJ as ro,aK as Bi,aL as ji,aM as zi,aN as Ui,G as oa,aO as Gi,aP as Hi,aQ as _i,aR as is,aS as ra,aT as Ki,aU as Ve,H as st,aV as Wi,A as Ie,aW as ot,aX as hn,j as Xi,aY as Yi,g as us,aZ as qi,h as Qi,a_ as Ji,B as Wt,a$ as Zi,b0 as eu,b1 as ds,b2 as tu,b3 as Mn,b4 as nu,b5 as ou,o as $,b6 as ru,b7 as au,b8 as zo,b9 as su,ba as lu,bb as iu,bc as aa,bd as cs,k as j,be as uu,bf as du,C as Xe,K as le,bg as cu,bh as fu,J as Uo,bi as pu,bj as gu,bk as mu,bl as vu,bm as hu,bn as yu,bo as bu,bp as Go,bq as xu,br as wu,bs as Su,t as Y,bt as fs,bu as Cu,bv as $u,bw as ps,I as ln,bx as Ct,by as Eu,bz as Ru,u as g,bA as Nt,bB as Pu,bC as Iu,bD as Ou,bE as gs,bF as Du,bG as Tu,bH as Mu,bI as Au,bJ as Fu,bK as ku,bL as xn,bM as Lu,bN as Nu,bO as On,x as qe,bP as ms,bQ as Vu,bR as Bu,f as ze,e as Dt,bS as sa,bT as ju,bU as zu,w as C,bV as Uu,v as Ne,E as ao,bW as Gu,s as Vt,bX as Hu,bY as vt,_ as vs,bZ as _u,X as Ho,z as hs,b_ as Ku,b$ as Wu,y as Xu,M as Yu}from"./entry.CVvpXMAV.js";import{u as qu}from"./useAgentEditorStore.DYCdO3fc.js";import{g as Qu,b as Ju,W as Zu,q as ed,U as td,H as nd,j as od,u as rd,a as ad,o as sd,f as Ea,s as ld,l as id,c as ud,d as dd,h as cd,S as ys,n as fd,I as pd,$ as gd,P as md,B as vd,e as hd,X as yd,i as bd}from"./index.DopZtmKD.js";import{S as bs}from"./settings.DWy3YrYR.js";import{T as xs,_ as _o,a as Ko,b as Wo,c as Xo,d as la,M as xd}from"./SheetClose.vue.CXXlFDGM.js";import{P as Yo}from"./plus.Collj5cL.js";import{S as Kn}from"./search.DHahtJER.js";import{L as un}from"./loader-2.CJ85gz1d.js";import{A as ws}from"./alert-circle.DxAvbiuF.js";import{T as Dn}from"./trash-2.Dzc9Rnwm.js";import{r as dn}from"./index.Dnmbk6A8.js";import{C as wd}from"./chevron-down.DWuYxfsG.js";import{E as Ss}from"./eye.CUTpVi36.js";import{P as Tr}from"./pencil.Btu4QvJO.js";import{C as Ra}from"./copy.DqGctFN5.js";import{A as Mr,C as Cs,a as $s}from"./chevron-right.tKVFfOuR.js";import{F as Sd}from"./file-text.J1ertyIc.js";import{C as Cd}from"./check-circle.DrbZcjcA.js";import{u as $d}from"./useAgents.BVvSzsfX.js";import{L as Ed}from"./link.DE3y2oKi.js";import{D as Rd}from"./database.CGsskZ8s.js";import"./useAuth.Bu6P1IiJ.js";import"./usePermissions.LMwBn15y.js";import"./AuthModal.vue.B2CHdnIo.js";import"./check.nYYGxIUw.js";/**
* vue v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Pd=()=>{},Id=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:_l,BaseTransitionPropsValidators:Kl,Comment:ns,DeprecationTypes:Wl,EffectScope:Xl,ErrorCodes:Yl,ErrorTypeStrings:ql,Fragment:He,KeepAlive:Ql,ReactiveEffect:Jl,Static:Zl,Suspense:ei,Teleport:os,Text:ti,TrackOpTypes:ni,Transition:rs,TransitionGroup:oi,TriggerOpTypes:ri,VueElement:ai,assertNumber:si,callWithAsyncErrorHandling:li,callWithErrorHandling:ii,camelize:ea,capitalize:ui,cloneVNode:as,compatUtils:di,compile:Pd,computed:re,createApp:ci,createBlock:ne,createCommentVNode:ve,createElementBlock:k,createElementVNode:h,createHydrationRenderer:fi,createPropsRestProxy:pi,createRenderer:gi,createSSRApp:mi,createSlots:vi,createStaticVNode:ta,createTextVNode:ae,createVNode:S,customRef:ss,defineAsyncComponent:hi,defineComponent:te,defineCustomElement:yi,defineEmits:bi,defineExpose:xi,defineModel:wi,defineOptions:Si,defineProps:Ci,defineSSRCustomElement:$i,defineSlots:Ei,devtools:Ri,effect:Pi,effectScope:na,getCurrentInstance:sn,getCurrentScope:ls,getCurrentWatcher:Ii,getTransitionRawChildren:Oi,guardReactiveProps:ut,h:yn,handleError:Di,hasInjectionContext:Ti,hydrate:Mi,hydrateOnIdle:Ai,hydrateOnInteraction:Fi,hydrateOnMediaQuery:ki,hydrateOnVisible:Li,initCustomFormatter:Ni,initDirectivesForSSR:Vi,inject:ro,isMemoSame:Bi,isProxy:ji,isReactive:zi,isReadonly:Ui,isRef:oa,isRuntimeOnly:Gi,isShallow:Hi,isVNode:_i,markRaw:is,mergeDefaults:ra,mergeModels:Ki,mergeProps:Ve,nextTick:st,nodeOps:Wi,normalizeClass:Ie,normalizeProps:ot,normalizeStyle:hn,onActivated:Xi,onBeforeMount:Yi,onBeforeUnmount:us,onBeforeUpdate:qi,onDeactivated:Qi,onErrorCaptured:Ji,onMounted:Wt,onRenderTracked:Zi,onRenderTriggered:eu,onScopeDispose:ds,onServerPrefetch:tu,onUnmounted:Mn,onUpdated:nu,onWatcherCleanup:ou,openBlock:$,patchProp:ru,popScopeId:au,provide:zo,proxyRefs:su,pushScopeId:lu,queuePostFlushCb:iu,reactive:aa,readonly:cs,ref:j,registerRuntimeCompiler:uu,render:du,renderList:Xe,renderSlot:le,resolveComponent:cu,resolveDirective:fu,resolveDynamicComponent:Uo,resolveFilter:pu,resolveTransitionHooks:gu,setBlockTracking:mu,setDevtoolsHook:vu,setTransitionHooks:hu,shallowReactive:yu,shallowReadonly:bu,shallowRef:Go,ssrContextKey:xu,ssrUtils:wu,stop:Su,toDisplayString:Y,toHandlerKey:fs,toHandlers:Cu,toRaw:$u,toRef:ps,toRefs:ln,toValue:Ct,transformVNodeArgs:Eu,triggerRef:Ru,unref:g,useAttrs:Nt,useCssModule:Pu,useCssVars:Iu,useHost:Ou,useId:gs,useModel:Du,useSSRContext:Tu,useShadowRoot:Mu,useSlots:Au,useTemplateRef:Fu,useTransitionState:ku,vModelCheckbox:xn,vModelDynamic:Lu,vModelRadio:Nu,vModelSelect:On,vModelText:qe,vShow:ms,version:Vu,warn:Bu,watch:ze,watchEffect:Dt,watchPostEffect:sa,watchSyncEffect:ju,withAsyncContext:zu,withCtx:C,withDefaults:Uu,withDirectives:Ne,withKeys:ao,withMemo:Gu,withModifiers:Vt,withScopeId:Hu},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=vt("AlertTriangleIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=vt("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=vt("BookOpenIcon",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=vt("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=vt("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=vt("FileSpreadsheetIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=vt("GripVerticalIcon",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=vt("HelpCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=vt("ListIcon",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=vt("MousePointerIcon",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=vt("PackageIcon",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=vt("Redo2Icon",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=vt("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=vt("Undo2Icon",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=vt("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Vd={class:"flex items-center gap-1 border-b border-slate-200 mb-6"},Bd=["onClick"],jd={class:"flex items-center gap-2"},zd={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"},Ud=te({__name:"KnowledgeSubTabs",props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup(e){return(n,t)=>($(),k("div",Vd,[($(!0),k(He,null,Xe(e.tabs,o=>($(),k("button",{key:o.id,onClick:a=>n.$emit("update:modelValue",o.id),class:Ie(["px-4 py-2.5 text-sm font-medium transition-all relative",[e.modelValue===o.id?"text-indigo-600":"text-slate-500 hover:text-slate-700"]])},[h("span",jd,[ae(Y(o.label)+" ",1),o.count!==void 0?($(),k("span",{key:0,class:Ie(["text-xs px-1.5 py-0.5 rounded-full",[e.modelValue===o.id?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"]])},Y(o.count),3)):ve("",!0)]),e.modelValue===o.id?($(),k("div",zd)):ve("",!0)],10,Bd))),128))]))}}),Ds=te({__name:"Switch",props:{modelValue:{type:Boolean},disabled:{type:Boolean},className:{}},emits:["update:modelValue"],setup(e){return(n,t)=>($(),ne(g(Qu),{checked:e.modelValue,"onUpdate:checked":t[0]||(t[0]=o=>n.$emit("update:modelValue",o)),disabled:e.disabled,class:Ie(["peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e.modelValue?"bg-emerald-500":"bg-slate-200",e.className])},{default:C(()=>[S(g(Ju),{class:Ie(["pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform",e.modelValue?"translate-x-5":"translate-x-0.5"])},null,8,["class"])]),_:1},8,["checked","disabled","class"]))}}),Ts=(e,n)=>{const t=Math.abs(e)%100,o=t%10;return t>=11&&t<=19?n[2]:o===1?n[0]:o>=2&&o<=4?n[1]:n[2]},Gd={class:"flex items-center justify-between gap-4"},Hd={class:"flex items-center gap-4 min-w-0"},_d={class:"w-11 h-11 bg-indigo-50 rounded-md flex items-center justify-center flex-shrink-0 group-hover:bg-indigo-100 transition-colors"},Kd={class:"min-w-0"},Wd={class:"font-bold text-slate-900 truncate"},Xd={class:"text-xs text-slate-500 mt-0.5"},Yd={class:"font-mono text-slate-400"},qd=te({__name:"DirectoryCard",props:{directory:{}},emits:["click","toggle","settings"],setup(e,{emit:n}){const t=e,o=re(()=>({qa:Ps,service_catalog:xs,product_catalog:Is,company_info:Es,custom:Ar})[t.directory.template]||Ar),a=re(()=>Ts(t.directory.items_count,["запись","записи","записей"]));return(s,r)=>($(),k("div",{class:"bg-background rounded-md border border-border p-4 hover:border-slate-300 transition-all cursor-pointer group",onClick:r[3]||(r[3]=l=>s.$emit("click"))},[h("div",Gd,[h("div",Hd,[h("div",_d,[($(),ne(Uo(o.value),{class:"w-5 h-5 text-indigo-600"}))]),h("div",Kd,[h("h4",Wd,Y(e.directory.name),1),h("p",Xd,[h("span",Yd,Y(e.directory.tool_name),1),r[4]||(r[4]=h("span",{class:"mx-1.5"},"•",-1)),h("span",null,Y(e.directory.items_count)+" "+Y(a.value),1)])])]),h("div",{class:"flex items-center gap-3",onClick:r[2]||(r[2]=Vt(()=>{},["stop"]))},[h("button",{onClick:r[0]||(r[0]=l=>s.$emit("settings")),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Настройки"},[S(g(bs),{class:"w-4 h-4"})]),S(g(Ds),{"model-value":e.directory.is_enabled,"onUpdate:modelValue":r[1]||(r[1]=l=>s.$emit("toggle",l)),title:e.directory.is_enabled?"Выключить":"Включить"},null,8,["model-value","title"])])])]))}}),Qd={class:"space-y-4"},Jd={class:"flex items-center justify-between gap-4"},Zd={key:0,class:"relative"},ec={key:0,class:"flex justify-center py-12"},tc={key:1,class:"bg-red-50 rounded-md border border-red-200 p-8 text-center"},nc={class:"max-w-md mx-auto"},oc={class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},rc={class:"text-red-600 mt-2 mb-4"},ac={key:2,class:"bg-background rounded-md border border-border p-12 text-center"},sc={class:"max-w-md mx-auto"},lc={class:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4"},ic={key:3,class:"bg-background rounded-md border border-border p-8 text-center"},uc={class:"text-slate-500"},dc={key:4,class:"grid gap-3"},cc=te({__name:"DirectoriesList",props:{directories:{},loading:{type:Boolean},error:{}},emits:["create","select","toggle","settings","retry"],setup(e){const n=e,t=j(""),o=re(()=>{if(!t.value.trim())return n.directories;const a=t.value.toLowerCase();return n.directories.filter(s=>s.name.toLowerCase().includes(a)||s.tool_name.toLowerCase().includes(a))});return(a,s)=>($(),k("div",Qd,[h("div",Jd,[h("button",{onClick:s[0]||(s[0]=r=>a.$emit("create")),class:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"},[S(g(Yo),{class:"w-4 h-4"}),s[4]||(s[4]=ae(" Создать справочник ",-1))]),e.directories.length>0?($(),k("div",Zd,[S(g(Kn),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),Ne(h("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t.value=r),type:"text",placeholder:"Поиск...",class:"pl-9 pr-4 py-2 w-48 text-sm border border-slate-200 rounded-md bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 transition-all"},null,512),[[qe,t.value]])])):ve("",!0)]),e.loading?($(),k("div",ec,[S(g(un),{class:"w-8 h-8 animate-spin text-indigo-600"})])):e.error?($(),k("div",tc,[h("div",nc,[h("div",oc,[S(g(ws),{class:"h-8 w-8 text-red-500"})]),s[5]||(s[5]=h("h3",{class:"text-lg font-bold text-red-900"},"Ошибка загрузки",-1)),h("p",rc,Y(e.error),1),s[6]||(s[6]=h("p",{class:"text-sm text-red-500 mb-4"}," Убедитесь, что API справочников реализован на бэкенде ",-1)),h("button",{onClick:s[2]||(s[2]=r=>a.$emit("retry")),class:"px-5 py-2.5 bg-red-600 text-white rounded-md text-sm font-bold hover:bg-red-700 transition-colors"}," Повторить ")])])):e.directories.length===0?($(),k("div",ac,[h("div",sc,[h("div",lc,[S(g(Td),{class:"h-8 w-8 text-slate-400"})]),s[7]||(s[7]=h("h3",{class:"text-lg font-bold text-slate-900"},"Справочников пока нет",-1)),s[8]||(s[8]=h("p",{class:"text-slate-500 mt-2 mb-6"}," Создайте справочник для хранения FAQ, каталога услуг или другой структурированной информации ",-1)),h("button",{onClick:s[3]||(s[3]=r=>a.$emit("create")),class:"px-6 py-3 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Создать справочник ")])])):o.value.length===0?($(),k("div",ic,[h("p",uc,'Ничего не найдено по запросу "'+Y(t.value)+'"',1)])):($(),k("div",dc,[($(!0),k(He,null,Xe(o.value,r=>($(),ne(qd,{key:r.id,directory:r,onClick:l=>a.$emit("select",r),onToggle:l=>a.$emit("toggle",r.id,l),onSettings:l=>a.$emit("settings",r)},null,8,["directory","onClick","onToggle","onSettings"]))),128))]))]))}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function on(e,n){return typeof e=="function"?e(n):e}function Rt(e,n){return t=>{n.setState(o=>({...o,[e]:on(t,o[e])}))}}function qo(e){return e instanceof Function}function fc(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function pc(e,n){const t=[],o=a=>{a.forEach(s=>{t.push(s);const r=n(s);r!=null&&r.length&&o(r)})};return o(e),t}function xe(e,n,t){let o=[],a;return s=>{let r;t.key&&t.debug&&(r=Date.now());const l=e(s);if(!(l.length!==o.length||l.some((d,c)=>o[c]!==d)))return a;o=l;let u;if(t.key&&t.debug&&(u=Date.now()),a=n(...l),t==null||t.onChange==null||t.onChange(a),t.key&&t.debug&&t!=null&&t.debug()){const d=Math.round((Date.now()-r)*100)/100,c=Math.round((Date.now()-u)*100)/100,f=c/16,p=(m,v)=>{for(m=String(m);m.length<v;)m=" "+m;return m};console.info(`%c⏱ ${p(c,5)} /${p(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return a}}function we(e,n,t,o){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[n]},key:!1,onChange:o}}function gc(e,n,t,o){const a=()=>{var r;return(r=s.getValue())!=null?r:e.options.renderFallbackValue},s={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(o),renderValue:a,getContext:xe(()=>[e,t,n,s],(r,l,i,u)=>({table:r,column:l,row:i,cell:u,getValue:u.getValue,renderValue:u.renderValue}),we(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(s,t,n,e)},{}),s}function mc(e,n,t,o){var a,s;const l={...e._getDefaultColumnDef(),...n},i=l.accessorKey;let u=(a=(s=l.id)!=null?s:i?typeof String.prototype.replaceAll=="function"?i.replaceAll(".","_"):i.replace(/\./g,"_"):void 0)!=null?a:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:i&&(i.includes(".")?d=f=>{let p=f;for(const v of i.split(".")){var m;p=(m=p)==null?void 0:m[v]}return p}:d=f=>f[l.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:d,parent:o,depth:t,columnDef:l,columns:[],getFlatColumns:xe(()=>[!0],()=>{var f;return[c,...(f=c.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},we(e.options,"debugColumns")),getLeafColumns:xe(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=c.columns)!=null&&p.length){let m=c.columns.flatMap(v=>v.getLeafColumns());return f(m)}return[c]},we(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(c,e);return c}const ct="debugHeaders";function Pa(e,n,t){var o;let s={id:(o=t.id)!=null?o:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],l=i=>{i.subHeaders&&i.subHeaders.length&&i.subHeaders.map(l),r.push(i)};return l(s),r},getContext:()=>({table:e,header:s,column:n})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(s,e)}),s}const vc={createTable:e=>{e.getHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>{var s,r;const l=(s=o==null?void 0:o.map(c=>t.find(f=>f.id===c)).filter(Boolean))!=null?s:[],i=(r=a==null?void 0:a.map(c=>t.find(f=>f.id===c)).filter(Boolean))!=null?r:[],u=t.filter(c=>!(o!=null&&o.includes(c.id))&&!(a!=null&&a.includes(c.id)));return fo(n,[...l,...u,...i],e)},we(e.options,ct)),e.getCenterHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o,a)=>(t=t.filter(s=>!(o!=null&&o.includes(s.id))&&!(a!=null&&a.includes(s.id))),fo(n,t,e,"center")),we(e.options,ct)),e.getLeftHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,o)=>{var a;const s=(a=o==null?void 0:o.map(r=>t.find(l=>l.id===r)).filter(Boolean))!=null?a:[];return fo(n,s,e,"left")},we(e.options,ct)),e.getRightHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,o)=>{var a;const s=(a=o==null?void 0:o.map(r=>t.find(l=>l.id===r)).filter(Boolean))!=null?a:[];return fo(n,s,e,"right")},we(e.options,ct)),e.getFooterGroups=xe(()=>[e.getHeaderGroups()],n=>[...n].reverse(),we(e.options,ct)),e.getLeftFooterGroups=xe(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),we(e.options,ct)),e.getCenterFooterGroups=xe(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),we(e.options,ct)),e.getRightFooterGroups=xe(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),we(e.options,ct)),e.getFlatHeaders=xe(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),we(e.options,ct)),e.getLeftFlatHeaders=xe(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),we(e.options,ct)),e.getCenterFlatHeaders=xe(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),we(e.options,ct)),e.getRightFlatHeaders=xe(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),we(e.options,ct)),e.getCenterLeafHeaders=xe(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),we(e.options,ct)),e.getLeftLeafHeaders=xe(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),we(e.options,ct)),e.getRightLeafHeaders=xe(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var o;return!((o=t.subHeaders)!=null&&o.length)}),we(e.options,ct)),e.getLeafHeaders=xe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,o)=>{var a,s,r,l,i,u;return[...(a=(s=n[0])==null?void 0:s.headers)!=null?a:[],...(r=(l=t[0])==null?void 0:l.headers)!=null?r:[],...(i=(u=o[0])==null?void 0:u.headers)!=null?i:[]].map(d=>d.getLeafHeaders()).flat()},we(e.options,ct))}};function fo(e,n,t,o){var a,s;let r=0;const l=function(f,p){p===void 0&&(p=1),r=Math.max(r,p),f.filter(m=>m.getIsVisible()).forEach(m=>{var v;(v=m.columns)!=null&&v.length&&l(m.columns,p+1)},0)};l(e);let i=[];const u=(f,p)=>{const m={depth:p,id:[o,`${p}`].filter(Boolean).join("_"),headers:[]},v=[];f.forEach(y=>{const b=[...v].reverse()[0],x=y.column.depth===m.depth;let E,P=!1;if(x&&y.column.parent?E=y.column.parent:(E=y.column,P=!0),b&&(b==null?void 0:b.column)===E)b.subHeaders.push(y);else{const D=Pa(t,E,{id:[o,p,E.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${v.filter(M=>M.column===E).length}`:void 0,depth:p,index:v.length});D.subHeaders.push(y),v.push(D)}m.headers.push(y),y.headerGroup=m}),i.push(m),p>0&&u(v,p-1)},d=n.map((f,p)=>Pa(t,f,{depth:r,index:p}));u(d,r-1),i.reverse();const c=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let v=0,y=0,b=[0];m.subHeaders&&m.subHeaders.length?(b=[],c(m.subHeaders).forEach(E=>{let{colSpan:P,rowSpan:D}=E;v+=P,b.push(D)})):v=1;const x=Math.min(...b);return y=y+x,m.colSpan=v,m.rowSpan=y,{colSpan:v,rowSpan:y}});return c((a=(s=i[0])==null?void 0:s.headers)!=null?a:[]),i}const ia=(e,n,t,o,a,s,r)=>{let l={id:n,index:o,original:t,depth:a,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:i=>{if(l._valuesCache.hasOwnProperty(i))return l._valuesCache[i];const u=e.getColumn(i);if(u!=null&&u.accessorFn)return l._valuesCache[i]=u.accessorFn(l.original,o),l._valuesCache[i]},getUniqueValues:i=>{if(l._uniqueValuesCache.hasOwnProperty(i))return l._uniqueValuesCache[i];const u=e.getColumn(i);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[i]=u.columnDef.getUniqueValues(l.original,o),l._uniqueValuesCache[i]):(l._uniqueValuesCache[i]=[l.getValue(i)],l._uniqueValuesCache[i])},renderValue:i=>{var u;return(u=l.getValue(i))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>pc(l.subRows,i=>i.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let i=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;i.push(d),u=d}return i.reverse()},getAllCells:xe(()=>[e.getAllLeafColumns()],i=>i.map(u=>gc(e,l,u,u.id)),we(e.options,"debugRows")),_getAllCellsByColumnId:xe(()=>[l.getAllCells()],i=>i.reduce((u,d)=>(u[d.column.id]=d,u),{}),we(e.options,"debugRows"))};for(let i=0;i<e._features.length;i++){const u=e._features[i];u==null||u.createRow==null||u.createRow(l,e)}return l},hc={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Ms=(e,n,t)=>{var o,a;const s=t==null||(o=t.toString())==null?void 0:o.toLowerCase();return!!(!((a=e.getValue(n))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(s))};Ms.autoRemove=e=>Lt(e);const As=(e,n,t)=>{var o;return!!(!((o=e.getValue(n))==null||(o=o.toString())==null)&&o.includes(t))};As.autoRemove=e=>Lt(e);const Fs=(e,n,t)=>{var o;return((o=e.getValue(n))==null||(o=o.toString())==null?void 0:o.toLowerCase())===(t==null?void 0:t.toLowerCase())};Fs.autoRemove=e=>Lt(e);const ks=(e,n,t)=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(t)};ks.autoRemove=e=>Lt(e);const Ls=(e,n,t)=>!t.some(o=>{var a;return!((a=e.getValue(n))!=null&&a.includes(o))});Ls.autoRemove=e=>Lt(e)||!(e!=null&&e.length);const Ns=(e,n,t)=>t.some(o=>{var a;return(a=e.getValue(n))==null?void 0:a.includes(o)});Ns.autoRemove=e=>Lt(e)||!(e!=null&&e.length);const Vs=(e,n,t)=>e.getValue(n)===t;Vs.autoRemove=e=>Lt(e);const Bs=(e,n,t)=>e.getValue(n)==t;Bs.autoRemove=e=>Lt(e);const ua=(e,n,t)=>{let[o,a]=t;const s=e.getValue(n);return s>=o&&s<=a};ua.resolveFilterValue=e=>{let[n,t]=e,o=typeof n!="number"?parseFloat(n):n,a=typeof t!="number"?parseFloat(t):t,s=n===null||Number.isNaN(o)?-1/0:o,r=t===null||Number.isNaN(a)?1/0:a;if(s>r){const l=s;s=r,r=l}return[s,r]};ua.autoRemove=e=>Lt(e)||Lt(e[0])&&Lt(e[1]);const _t={includesString:Ms,includesStringSensitive:As,equalsString:Fs,arrIncludes:ks,arrIncludesAll:Ls,arrIncludesSome:Ns,equals:Vs,weakEquals:Bs,inNumberRange:ua};function Lt(e){return e==null||e===""}const yc={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Rt("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t==null?void 0:t.getValue(e.id);return typeof o=="string"?_t.includesString:typeof o=="number"?_t.inNumberRange:typeof o=="boolean"||o!==null&&typeof o=="object"?_t.equals:Array.isArray(o)?_t.arrIncludes:_t.weakEquals},e.getFilterFn=()=>{var t,o;return qo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(o=n.options.filterFns)==null?void 0:o[e.columnDef.filterFn])!=null?t:_t[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,o,a;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((o=n.options.enableColumnFilters)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(o=>o.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,o;return(t=(o=n.getState().columnFilters)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(o=>{const a=e.getFilterFn(),s=o==null?void 0:o.find(d=>d.id===e.id),r=on(t,s?s.value:void 0);if(Ia(a,r,e)){var l;return(l=o==null?void 0:o.filter(d=>d.id!==e.id))!=null?l:[]}const i={id:e.id,value:r};if(s){var u;return(u=o==null?void 0:o.map(d=>d.id===e.id?i:d))!=null?u:[]}return o!=null&&o.length?[...o,i]:[i]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),o=a=>{var s;return(s=on(n,a))==null?void 0:s.filter(r=>{const l=t.find(i=>i.id===r.id);if(l){const i=l.getFilterFn();if(Ia(i,r.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(o)},e.resetColumnFilters=n=>{var t,o;e.setColumnFilters(n?[]:(t=(o=e.initialState)==null?void 0:o.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ia(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const bc=(e,n,t)=>t.reduce((o,a)=>{const s=a.getValue(e);return o+(typeof s=="number"?s:0)},0),xc=(e,n,t)=>{let o;return t.forEach(a=>{const s=a.getValue(e);s!=null&&(o>s||o===void 0&&s>=s)&&(o=s)}),o},wc=(e,n,t)=>{let o;return t.forEach(a=>{const s=a.getValue(e);s!=null&&(o<s||o===void 0&&s>=s)&&(o=s)}),o},Sc=(e,n,t)=>{let o,a;return t.forEach(s=>{const r=s.getValue(e);r!=null&&(o===void 0?r>=r&&(o=a=r):(o>r&&(o=r),a<r&&(a=r)))}),[o,a]},Cc=(e,n)=>{let t=0,o=0;if(n.forEach(a=>{let s=a.getValue(e);s!=null&&(s=+s)>=s&&(++t,o+=s)}),t)return o/t},$c=(e,n)=>{if(!n.length)return;const t=n.map(s=>s.getValue(e));if(!fc(t))return;if(t.length===1)return t[0];const o=Math.floor(t.length/2),a=t.sort((s,r)=>s-r);return t.length%2!==0?a[o]:(a[o-1]+a[o])/2},Ec=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),Rc=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,Pc=(e,n)=>n.length,tr={sum:bc,min:xc,max:wc,extent:Sc,mean:Cc,median:$c,unique:Ec,uniqueCount:Rc,count:Pc},Ic={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Rt("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(o=>o!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,o;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((o=n.options.enableGrouping)!=null?o:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],o=t==null?void 0:t.getValue(e.id);if(typeof o=="number")return tr.sum;if(Object.prototype.toString.call(o)==="[object Date]")return tr.extent},e.getAggregationFn=()=>{var t,o;if(!e)throw new Error;return qo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(o=n.options.aggregationFns)==null?void 0:o[e.columnDef.aggregationFn])!=null?t:tr[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,o;e.setGrouping(n?[]:(t=(o=e.initialState)==null?void 0:o.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const o=n.getColumn(t);return o!=null&&o.columnDef.getGroupingValue?(e._groupingValuesCache[t]=o.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,o)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=t.subRows)!=null&&a.length)}}};function Oc(e,n,t){if(!(n!=null&&n.length)||!t)return e;const o=e.filter(s=>!n.includes(s.id));return t==="remove"?o:[...n.map(s=>e.find(r=>r.id===s)).filter(Boolean),...o]}const Dc={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Rt("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=xe(t=>[Wn(n,t)],t=>t.findIndex(o=>o.id===e.id),we(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var o;return((o=Wn(n,t)[0])==null?void 0:o.id)===e.id},e.getIsLastColumn=t=>{var o;const a=Wn(n,t);return((o=a[a.length-1])==null?void 0:o.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=xe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,o)=>a=>{let s=[];if(!(n!=null&&n.length))s=a;else{const r=[...n],l=[...a];for(;l.length&&r.length;){const i=r.shift(),u=l.findIndex(d=>d.id===i);u>-1&&s.push(l.splice(u,1)[0])}s=[...s,...l]}return Oc(s,t,o)},we(e.options,"debugTable"))}},nr=()=>({left:[],right:[]}),Tc={getInitialState:e=>({columnPinning:nr(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Rt("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const o=e.getLeafColumns().map(a=>a.id).filter(Boolean);n.setColumnPinning(a=>{var s,r;if(t==="right"){var l,i;return{left:((l=a==null?void 0:a.left)!=null?l:[]).filter(c=>!(o!=null&&o.includes(c))),right:[...((i=a==null?void 0:a.right)!=null?i:[]).filter(c=>!(o!=null&&o.includes(c))),...o]}}if(t==="left"){var u,d;return{left:[...((u=a==null?void 0:a.left)!=null?u:[]).filter(c=>!(o!=null&&o.includes(c))),...o],right:((d=a==null?void 0:a.right)!=null?d:[]).filter(c=>!(o!=null&&o.includes(c)))}}return{left:((s=a==null?void 0:a.left)!=null?s:[]).filter(c=>!(o!=null&&o.includes(c))),right:((r=a==null?void 0:a.right)!=null?r:[]).filter(c=>!(o!=null&&o.includes(c)))}})},e.getCanPin=()=>e.getLeafColumns().some(o=>{var a,s,r;return((a=o.columnDef.enablePinning)!=null?a:!0)&&((s=(r=n.options.enableColumnPinning)!=null?r:n.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(l=>l.id),{left:o,right:a}=n.getState().columnPinning,s=t.some(l=>o==null?void 0:o.includes(l)),r=t.some(l=>a==null?void 0:a.includes(l));return s?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();return a?(t=(o=n.getState().columnPinning)==null||(o=o[a])==null?void 0:o.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,o,a)=>{const s=[...o??[],...a??[]];return t.filter(r=>!s.includes(r.column.id))},we(n.options,"debugRows")),e.getLeftVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,o)=>(o??[]).map(s=>t.find(r=>r.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),we(n.options,"debugRows")),e.getRightVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,o)=>(o??[]).map(s=>t.find(r=>r.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),we(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,o;return e.setColumnPinning(n?nr():(t=(o=e.initialState)==null?void 0:o.columnPinning)!=null?t:nr())},e.getIsSomeColumnsPinned=n=>{var t;const o=e.getState().columnPinning;if(!n){var a,s;return!!((a=o.left)!=null&&a.length||(s=o.right)!=null&&s.length)}return!!((t=o[n])!=null&&t.length)},e.getLeftLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),we(e.options,"debugColumns")),e.getRightLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(o=>n.find(a=>a.id===o)).filter(Boolean),we(e.options,"debugColumns")),e.getCenterLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,o)=>{const a=[...t??[],...o??[]];return n.filter(s=>!a.includes(s.id))},we(e.options,"debugColumns"))}};function Mc(e){return e||(typeof document<"u"?document:null)}const po={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},or=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Ac={getDefaultColumnDef:()=>po,getInitialState:e=>({columnSizing:{},columnSizingInfo:or(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Rt("columnSizing",e),onColumnSizingInfoChange:Rt("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,o,a;const s=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:po.minSize,(o=s??e.columnDef.size)!=null?o:po.size),(a=e.columnDef.maxSize)!=null?a:po.maxSize)},e.getStart=xe(t=>[t,Wn(n,t),n.getState().columnSizing],(t,o)=>o.slice(0,e.getIndex(t)).reduce((a,s)=>a+s.getSize(),0),we(n.options,"debugColumns")),e.getAfter=xe(t=>[t,Wn(n,t),n.getState().columnSizing],(t,o)=>o.slice(e.getIndex(t)+1).reduce((a,s)=>a+s.getSize(),0),we(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:o,...a}=t;return a})},e.getCanResize=()=>{var t,o;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((o=n.options.enableColumnResizing)!=null?o:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const o=a=>{if(a.subHeaders.length)a.subHeaders.forEach(o);else{var s;t+=(s=a.column.getSize())!=null?s:0}};return o(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const o=n.getColumn(e.column.id),a=o==null?void 0:o.getCanResize();return s=>{if(!o||!a||(s.persist==null||s.persist(),rr(s)&&s.touches&&s.touches.length>1))return;const r=e.getSize(),l=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[o.id,o.getSize()]],i=rr(s)?Math.round(s.touches[0].clientX):s.clientX,u={},d=(b,x)=>{typeof x=="number"&&(n.setColumnSizingInfo(E=>{var P,D;const M=n.options.columnResizeDirection==="rtl"?-1:1,Q=(x-((P=E==null?void 0:E.startOffset)!=null?P:0))*M,A=Math.max(Q/((D=E==null?void 0:E.startSize)!=null?D:0),-.999999);return E.columnSizingStart.forEach(w=>{let[R,F]=w;u[R]=Math.round(Math.max(F+F*A,0)*100)/100}),{...E,deltaOffset:Q,deltaPercentage:A}}),(n.options.columnResizeMode==="onChange"||b==="end")&&n.setColumnSizing(E=>({...E,...u})))},c=b=>d("move",b),f=b=>{d("end",b),n.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=Mc(t),m={moveHandler:b=>c(b.clientX),upHandler:b=>{p==null||p.removeEventListener("mousemove",m.moveHandler),p==null||p.removeEventListener("mouseup",m.upHandler),f(b.clientX)}},v={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),c(b.touches[0].clientX),!1),upHandler:b=>{var x;p==null||p.removeEventListener("touchmove",v.moveHandler),p==null||p.removeEventListener("touchend",v.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),f((x=b.touches[0])==null?void 0:x.clientX)}},y=Fc()?{passive:!1}:!1;rr(s)?(p==null||p.addEventListener("touchmove",v.moveHandler,y),p==null||p.addEventListener("touchend",v.upHandler,y)):(p==null||p.addEventListener("mousemove",m.moveHandler,y),p==null||p.addEventListener("mouseup",m.upHandler,y)),n.setColumnSizingInfo(b=>({...b,startOffset:i,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:o.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?or():(t=e.initialState.columnSizingInfo)!=null?t:or())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((o,a)=>o+a.getSize(),0))!=null?n:0}}};let go=null;function Fc(){if(typeof go=="boolean")return go;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return go=e,go}function rr(e){return e.type==="touchstart"}const kc={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Rt("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(o=>({...o,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,o;const a=e.columns;return(t=a.length?a.some(s=>s.getIsVisible()):(o=n.getState().columnVisibility)==null?void 0:o[e.id])!=null?t:!0},e.getCanHide=()=>{var t,o;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((o=n.options.enableHiding)!=null?o:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=xe(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(o=>o.column.getIsVisible()),we(n.options,"debugRows")),e.getVisibleCells=xe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,o,a)=>[...t,...o,...a],we(n.options,"debugRows"))},createTable:e=>{const n=(t,o)=>xe(()=>[o(),o().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),we(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var o;e.setColumnVisibility(t?{}:(o=e.initialState.columnVisibility)!=null?o:{})},e.toggleAllColumnsVisible=t=>{var o;t=(o=t)!=null?o:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,s)=>({...a,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var o;e.toggleAllColumnsVisible((o=t.target)==null?void 0:o.checked)}}};function Wn(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Lc={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Nc={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Rt("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const o=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,o,a,s;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((o=n.options.enableGlobalFilter)!=null?o:!0)&&((a=n.options.enableFilters)!=null?a:!0)&&((s=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>_t.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:o}=e.options;return qo(o)?o:o==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[o])!=null?n:_t[o]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},Vc={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Rt("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?o:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=o=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(o),e.toggleAllRowsExpanded=o=>{o??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=o=>{var a,s;e.setExpanded(o?{}:(a=(s=e.initialState)==null?void 0:s.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(o=>o.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>o=>{o.persist==null||o.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const o=e.getState().expanded;return o===!0||Object.values(o).some(Boolean)},e.getIsAllRowsExpanded=()=>{const o=e.getState().expanded;return typeof o=="boolean"?o===!0:!(!Object.keys(o).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let o=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const r=s.split(".");o=Math.max(o,r.length)}),o},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(o=>{var a;const s=o===!0?!0:!!(o!=null&&o[e.id]);let r={};if(o===!0?Object.keys(n.getRowModel().rowsById).forEach(l=>{r[l]=!0}):r=o,t=(a=t)!=null?a:!s,!s&&t)return{...r,[e.id]:!0};if(s&&!t){const{[e.id]:l,...i}=r;return i}return o})},e.getIsExpanded=()=>{var t;const o=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:o===!0||o!=null&&o[e.id])},e.getCanExpand=()=>{var t,o,a;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((o=n.options.enableExpanding)!=null?o:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let t=!0,o=e;for(;t&&o.parentId;)o=n.getRow(o.parentId,!0),t=o.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Fr=0,kr=10,ar=()=>({pageIndex:Fr,pageSize:kr}),Bc={getInitialState:e=>({...e,pagination:{...ar(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Rt("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var o,a;if(!n){e._queue(()=>{n=!0});return}if((o=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?o:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=o=>{const a=s=>on(o,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=o=>{var a;e.setPagination(o?ar():(a=e.initialState.pagination)!=null?a:ar())},e.setPageIndex=o=>{e.setPagination(a=>{let s=on(o,a.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,r)),{...a,pageIndex:s}})},e.resetPageIndex=o=>{var a,s;e.setPageIndex(o?Fr:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?a:Fr)},e.resetPageSize=o=>{var a,s;e.setPageSize(o?kr:(a=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?a:kr)},e.setPageSize=o=>{e.setPagination(a=>{const s=Math.max(1,on(o,a.pageSize)),r=a.pageSize*a.pageIndex,l=Math.floor(r/s);return{...a,pageIndex:l,pageSize:s}})},e.setPageCount=o=>e.setPagination(a=>{var s;let r=on(o,(s=e.options.pageCount)!=null?s:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...a,pageCount:r}}),e.getPageOptions=xe(()=>[e.getPageCount()],o=>{let a=[];return o&&o>0&&(a=[...new Array(o)].fill(null).map((s,r)=>r)),a},we(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:o}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:o<a-1},e.previousPage=()=>e.setPageIndex(o=>o-1),e.nextPage=()=>e.setPageIndex(o=>o+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var o;return(o=e.options.pageCount)!=null?o:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var o;return(o=e.options.rowCount)!=null?o:e.getPrePaginationRowModel().rows.length}}},sr=()=>({top:[],bottom:[]}),jc={getInitialState:e=>({rowPinning:sr(),...e}),getDefaultOptions:e=>({onRowPinningChange:Rt("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,o,a)=>{const s=o?e.getLeafRows().map(i=>{let{id:u}=i;return u}):[],r=a?e.getParentRows().map(i=>{let{id:u}=i;return u}):[],l=new Set([...r,e.id,...s]);n.setRowPinning(i=>{var u,d;if(t==="bottom"){var c,f;return{top:((c=i==null?void 0:i.top)!=null?c:[]).filter(v=>!(l!=null&&l.has(v))),bottom:[...((f=i==null?void 0:i.bottom)!=null?f:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)]}}if(t==="top"){var p,m;return{top:[...((p=i==null?void 0:i.top)!=null?p:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)],bottom:((m=i==null?void 0:i.bottom)!=null?m:[]).filter(v=>!(l!=null&&l.has(v)))}}return{top:((u=i==null?void 0:i.top)!=null?u:[]).filter(v=>!(l!=null&&l.has(v))),bottom:((d=i==null?void 0:i.bottom)!=null?d:[]).filter(v=>!(l!=null&&l.has(v)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:o,enablePinning:a}=n.options;return typeof o=="function"?o(e):(t=o??a)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:o,bottom:a}=n.getState().rowPinning,s=t.some(l=>o==null?void 0:o.includes(l)),r=t.some(l=>a==null?void 0:a.includes(l));return s?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,o;const a=e.getIsPinned();if(!a)return-1;const s=(t=a==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(r=>{let{id:l}=r;return l});return(o=s==null?void 0:s.indexOf(e.id))!=null?o:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,o;return e.setRowPinning(n?sr():(t=(o=e.initialState)==null?void 0:o.rowPinning)!=null?t:sr())},e.getIsSomeRowsPinned=n=>{var t;const o=e.getState().rowPinning;if(!n){var a,s;return!!((a=o.top)!=null&&a.length||(s=o.bottom)!=null&&s.length)}return!!((t=o[n])!=null&&t.length)},e._getPinnedRows=(n,t,o)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(t??[]).map(r=>{const l=e.getRow(r,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(r=>n.find(l=>l.id===r))).filter(Boolean).map(r=>({...r,position:o}))},e.getTopRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),we(e.options,"debugRows")),e.getBottomRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),we(e.options,"debugRows")),e.getCenterRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,o)=>{const a=new Set([...t??[],...o??[]]);return n.filter(s=>!a.has(s.id))},we(e.options,"debugRows"))}},zc={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Rt("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const o={...t},a=e.getPreGroupedRowModel().flatRows;return n?a.forEach(s=>{s.getCanSelect()&&(o[s.id]=!0)}):a.forEach(s=>{delete o[s.id]}),o})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const o=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),a={...t};return e.getRowModel().rows.forEach(s=>{Lr(a,s.id,o,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?lr(e,t):{rows:[],flatRows:[],rowsById:{}},we(e.options,"debugTable")),e.getFilteredSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?lr(e,t):{rows:[],flatRows:[],rowsById:{}},we(e.options,"debugTable")),e.getGroupedSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?lr(e,t):{rows:[],flatRows:[],rowsById:{}},we(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let o=!!(n.length&&Object.keys(t).length);return o&&n.some(a=>a.getCanSelect()&&!t[a.id])&&(o=!1),o},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:t}=e.getState();let o=!!n.length;return o&&n.some(a=>!t[a.id])&&(o=!1),o},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,o)=>{const a=e.getIsSelected();n.setRowSelection(s=>{var r;if(t=typeof t<"u"?t:!a,e.getCanSelect()&&a===t)return s;const l={...s};return Lr(l,e.id,t,(r=o==null?void 0:o.selectChildren)!=null?r:!0,n),l})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return da(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Nr(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Nr(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return o=>{var a;t&&e.toggleSelected((a=o.target)==null?void 0:a.checked)}}}},Lr=(e,n,t,o,a)=>{var s;const r=a.getRow(n,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),r.getCanSelect()&&(e[n]=!0)):delete e[n],o&&(s=r.subRows)!=null&&s.length&&r.getCanSelectSubRows()&&r.subRows.forEach(l=>Lr(e,l.id,t,o,a))};function lr(e,n){const t=e.getState().rowSelection,o=[],a={},s=function(r,l){return r.map(i=>{var u;const d=da(i,t);if(d&&(o.push(i),a[i.id]=i),(u=i.subRows)!=null&&u.length&&(i={...i,subRows:s(i.subRows)}),d)return i}).filter(Boolean)};return{rows:s(n.rows),flatRows:o,rowsById:a}}function da(e,n){var t;return(t=n[e.id])!=null?t:!1}function Nr(e,n,t){var o;if(!((o=e.subRows)!=null&&o.length))return!1;let a=!0,s=!1;return e.subRows.forEach(r=>{if(!(s&&!a)&&(r.getCanSelect()&&(da(r,n)?s=!0:a=!1),r.subRows&&r.subRows.length)){const l=Nr(r,n);l==="all"?s=!0:(l==="some"&&(s=!0),a=!1)}}),a?"all":s?"some":!1}const Vr=/([0-9]+)/gm,Uc=(e,n,t)=>js(an(e.getValue(t)).toLowerCase(),an(n.getValue(t)).toLowerCase()),Gc=(e,n,t)=>js(an(e.getValue(t)),an(n.getValue(t))),Hc=(e,n,t)=>ca(an(e.getValue(t)).toLowerCase(),an(n.getValue(t)).toLowerCase()),_c=(e,n,t)=>ca(an(e.getValue(t)),an(n.getValue(t))),Kc=(e,n,t)=>{const o=e.getValue(t),a=n.getValue(t);return o>a?1:o<a?-1:0},Wc=(e,n,t)=>ca(e.getValue(t),n.getValue(t));function ca(e,n){return e===n?0:e>n?1:-1}function an(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function js(e,n){const t=e.split(Vr).filter(Boolean),o=n.split(Vr).filter(Boolean);for(;t.length&&o.length;){const a=t.shift(),s=o.shift(),r=parseInt(a,10),l=parseInt(s,10),i=[r,l].sort();if(isNaN(i[0])){if(a>s)return 1;if(s>a)return-1;continue}if(isNaN(i[1]))return isNaN(r)?-1:1;if(r>l)return 1;if(l>r)return-1}return t.length-o.length}const Ln={alphanumeric:Uc,alphanumericCaseSensitive:Gc,text:Hc,textCaseSensitive:_c,datetime:Kc,basic:Wc},Xc={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Rt("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let o=!1;for(const a of t){const s=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return Ln.datetime;if(typeof s=="string"&&(o=!0,s.split(Vr).length>1))return Ln.alphanumeric}return o?Ln.text:Ln.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,o;if(!e)throw new Error;return qo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(o=n.options.sortingFns)==null?void 0:o[e.columnDef.sortingFn])!=null?t:Ln[e.columnDef.sortingFn]},e.toggleSorting=(t,o)=>{const a=e.getNextSortingOrder(),s=typeof t<"u"&&t!==null;n.setSorting(r=>{const l=r==null?void 0:r.find(p=>p.id===e.id),i=r==null?void 0:r.findIndex(p=>p.id===e.id);let u=[],d,c=s?t:a==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&o?l?d="toggle":d="add":r!=null&&r.length&&i!==r.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(s||a||(d="remove")),d==="add"){var f;u=[...r,{id:e.id,desc:c}],u.splice(0,u.length-((f=n.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=r.map(p=>p.id===e.id?{...p,desc:c}:p):d==="remove"?u=r.filter(p=>p.id!==e.id):u=[{id:e.id,desc:c}];return u})},e.getFirstSortDir=()=>{var t,o;return((t=(o=e.columnDef.sortDescFirst)!=null?o:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var o,a;const s=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==s&&((o=n.options.enableSortingRemoval)==null||o)&&(!(t&&(a=n.options.enableMultiRemove)!=null)||a)?!1:r==="desc"?"asc":"desc":s},e.getCanSort=()=>{var t,o;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((o=n.options.enableSorting)!=null?o:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,o;return(t=(o=e.columnDef.enableMultiSort)!=null?o:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const o=(t=n.getState().sorting)==null?void 0:t.find(a=>a.id===e.id);return o?o.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,o;return(t=(o=n.getState().sorting)==null?void 0:o.findIndex(a=>a.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(o=>o.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return o=>{t&&(o.persist==null||o.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(o):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,o;e.setSorting(n?[]:(t=(o=e.initialState)==null?void 0:o.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Yc=[vc,kc,Dc,Tc,hc,yc,Lc,Nc,Xc,Ic,Vc,Bc,jc,zc,Ac];function qc(e){var n,t;const o=[...Yc,...(n=e._features)!=null?n:[]];let a={_features:o};const s=a._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(a)),{}),r=f=>a.options.mergeOptions?a.options.mergeOptions(s,f):{...s,...f};let i={...{},...(t=e.initialState)!=null?t:{}};a._features.forEach(f=>{var p;i=(p=f.getInitialState==null?void 0:f.getInitialState(i))!=null?p:i});const u=[];let d=!1;const c={_features:o,options:{...s,...e},initialState:i,_queue:f=>{u.push(f),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{a.setState(a.initialState)},setOptions:f=>{const p=on(f,a.options);a.options=r(p)},getState:()=>a.options.state,setState:f=>{a.options.onStateChange==null||a.options.onStateChange(f)},_getRowId:(f,p,m)=>{var v;return(v=a.options.getRowId==null?void 0:a.options.getRowId(f,p,m))!=null?v:`${m?[m.id,p].join("."):p}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(f,p)=>{let m=(p?a.getPrePaginationRowModel():a.getRowModel()).rowsById[f];if(!m&&(m=a.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:xe(()=>[a.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:m=>{const v=m.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:m=>{var v,y;return(v=(y=m.renderValue())==null||y.toString==null?void 0:y.toString())!=null?v:null},...a._features.reduce((m,v)=>Object.assign(m,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...f}},we(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:xe(()=>[a._getColumnDefs()],f=>{const p=function(m,v,y){return y===void 0&&(y=0),m.map(b=>{const x=mc(a,b,y,v),E=b;return x.columns=E.columns?p(E.columns,x,y+1):[],x})};return p(f)},we(e,"debugColumns")),getAllFlatColumns:xe(()=>[a.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),we(e,"debugColumns")),_getAllFlatColumnsById:xe(()=>[a.getAllFlatColumns()],f=>f.reduce((p,m)=>(p[m.id]=m,p),{}),we(e,"debugColumns")),getAllLeafColumns:xe(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(f,p)=>{let m=f.flatMap(v=>v.getLeafColumns());return p(m)},we(e,"debugColumns")),getColumn:f=>a._getAllFlatColumnsById()[f]};Object.assign(a,c);for(let f=0;f<a._features.length;f++){const p=a._features[f];p==null||p.createTable==null||p.createTable(a)}return a}function Qc(){return e=>xe(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},o=function(a,s,r){s===void 0&&(s=0);const l=[];for(let u=0;u<a.length;u++){const d=ia(e,e._getRowId(a[u],u,r),a[u],u,s,void 0,r==null?void 0:r.id);if(t.flatRows.push(d),t.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var i;d.originalSubRows=e.options.getSubRows(a[u],u),(i=d.originalSubRows)!=null&&i.length&&(d.subRows=o(d.originalSubRows,s+1,d))}}return l};return t.rows=o(n),t},we(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Jc(e){const n=[],t=o=>{var a;n.push(o),(a=o.subRows)!=null&&a.length&&o.getIsExpanded()&&o.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function Zc(e,n,t){return t.options.filterFromLeafRows?ef(e,n,t):tf(e,n,t)}function ef(e,n,t){var o;const a=[],s={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,l=function(i,u){u===void 0&&(u=0);const d=[];for(let f=0;f<i.length;f++){var c;let p=i[f];const m=ia(t,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(m.columnFilters=p.columnFilters,(c=p.subRows)!=null&&c.length&&u<r){if(m.subRows=l(p.subRows,u+1),p=m,n(p)&&!m.subRows.length){d.push(p),s[p.id]=p,a.push(p);continue}if(n(p)||m.subRows.length){d.push(p),s[p.id]=p,a.push(p);continue}}else p=m,n(p)&&(d.push(p),s[p.id]=p,a.push(p))}return d};return{rows:l(e),flatRows:a,rowsById:s}}function tf(e,n,t){var o;const a=[],s={},r=(o=t.options.maxLeafRowFilterDepth)!=null?o:100,l=function(i,u){u===void 0&&(u=0);const d=[];for(let f=0;f<i.length;f++){let p=i[f];if(n(p)){var c;if((c=p.subRows)!=null&&c.length&&u<r){const v=ia(t,p.id,p.original,p.index,p.depth,void 0,p.parentId);v.subRows=l(p.subRows,u+1),p=v}d.push(p),a.push(p),s[p.id]=p}}return d};return{rows:l(e),flatRows:a,rowsById:s}}function nf(){return e=>xe(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,o)=>{if(!n.rows.length||!(t!=null&&t.length)&&!o){for(let f=0;f<n.flatRows.length;f++)n.flatRows[f].columnFilters={},n.flatRows[f].columnFiltersMeta={};return n}const a=[],s=[];(t??[]).forEach(f=>{var p;const m=e.getColumn(f.id);if(!m)return;const v=m.getFilterFn();v&&a.push({id:f.id,filterFn:v,resolvedValue:(p=v.resolveFilterValue==null?void 0:v.resolveFilterValue(f.value))!=null?p:f.value})});const r=(t??[]).map(f=>f.id),l=e.getGlobalFilterFn(),i=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());o&&l&&i.length&&(r.push("__global__"),i.forEach(f=>{var p;s.push({id:f.id,filterFn:l,resolvedValue:(p=l.resolveFilterValue==null?void 0:l.resolveFilterValue(o))!=null?p:o})}));let u,d;for(let f=0;f<n.flatRows.length;f++){const p=n.flatRows[f];if(p.columnFilters={},a.length)for(let m=0;m<a.length;m++){u=a[m];const v=u.id;p.columnFilters[v]=u.filterFn(p,v,u.resolvedValue,y=>{p.columnFiltersMeta[v]=y})}if(s.length){for(let m=0;m<s.length;m++){d=s[m];const v=d.id;if(d.filterFn(p,v,d.resolvedValue,y=>{p.columnFiltersMeta[v]=y})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const c=f=>{for(let p=0;p<r.length;p++)if(f.columnFilters[r[p]]===!1)return!1;return!0};return Zc(n.rows,c,e)},we(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function of(e){return n=>xe(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,o)=>{if(!o.rows.length)return o;const{pageSize:a,pageIndex:s}=t;let{rows:r,flatRows:l,rowsById:i}=o;const u=a*s,d=u+a;r=r.slice(u,d);let c;n.options.paginateExpandedRows?c={rows:r,flatRows:l,rowsById:i}:c=Jc({rows:r,flatRows:l,rowsById:i}),c.flatRows=[];const f=p=>{c.flatRows.push(p),p.subRows.length&&p.subRows.forEach(f)};return c.rows.forEach(f),c},we(n.options,"debugTable"))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function mo(){return!0}const rf=Symbol("merge-proxy"),af={get(e,n,t){return n===rf?t:e.get(n)},has(e,n){return e.has(n)},set:mo,deleteProperty:mo,getOwnPropertyDescriptor(e,n){return{configurable:!0,enumerable:!0,get(){return e.get(n)},set:mo,deleteProperty:mo}},ownKeys(e){return e.keys()}};function ir(e){return"value"in e?e.value:e}function zn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return new Proxy({get(o){for(let a=n.length-1;a>=0;a--){const s=ir(n[a])[o];if(s!==void 0)return s}},has(o){for(let a=n.length-1;a>=0;a--)if(o in ir(n[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<n.length;a++)o.push(...Object.keys(ir(n[a])));return[...Array.from(new Set(o))]}},af)}function Oa(e){return zn(e,{data:g(e.data)})}function sf(e){const n=oa(e.data),t=zn({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(s,r){return n?{...s,...r}:zn(s,r)}},n?Oa(e):e),o=qc(t);if(n){const s=Go(e.data);ze(s,()=>{o.setState(r=>({...r,data:s.value}))},{immediate:!0})}const a=j(o.initialState);return Dt(()=>{o.setOptions(s=>{var r;const l=new Proxy({},{get:(i,u)=>a.value[u]});return zn(s,n?Oa(e):e,{state:zn(l,(r=e.state)!=null?r:{}),onStateChange:i=>{i instanceof Function?a.value=i(a.value):a.value=i,e.onStateChange==null||e.onStateChange(i)}})})}),o}const Xn=te({__name:"Table",props:{wrapperClass:{}},setup(e){const n=Nt();return(t,o)=>($(),k("div",{class:Ie(["overflow-x-auto rounded-lg border border-slate-200 bg-white shadow-sm",e.wrapperClass])},[h("table",Ve({class:"min-w-full border-collapse text-left table-fixed"},g(n)),[le(t.$slots,"default")],16)],2))}}),Yn=te({__name:"TableHeader",props:{className:{}},setup(e){const n=Nt();return(t,o)=>($(),k("thead",Ve({class:["bg-slate-50/50 border-b border-slate-200",e.className]},g(n)),[le(t.$slots,"default")],16))}}),qn=te({__name:"TableBody",props:{className:{}},setup(e){const n=Nt();return(t,o)=>($(),k("tbody",Ve({class:["bg-white",e.className]},g(n)),[le(t.$slots,"default")],16))}}),pt=te({__name:"TableRow",props:{className:{}},setup(e){const n=Nt();return(t,o)=>($(),k("tr",Ve({class:["border-b border-slate-100 last:border-b-0 hover:bg-slate-50/50 transition-colors duration-150",e.className]},g(n)),[le(t.$slots,"default")],16))}}),et=te({__name:"TableHead",props:{className:{}},setup(e){const n=Nt();return(t,o)=>($(),k("th",Ve({class:["px-2 py-2.5 text-[11px] font-bold uppercase tracking-wider text-slate-500 border-r border-slate-200 last:border-r-0 bg-slate-50/50 text-left",e.className],scope:"col"},g(n)),[le(t.$slots,"default")],16))}}),Te=te({__name:"TableCell",props:{className:{}},setup(e){const n=Nt();return(t,o)=>($(),k("td",Ve({class:["px-2 py-2 text-sm text-slate-600 border-r border-slate-100 last:border-r-0 align-top text-left",e.className]},g(n)),[le(t.$slots,"default")],16))}}),Br=te({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const n=e;return(t,o)=>($(),ne(g(Zu),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),jr=te({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"right"},sideOffset:{default:8},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},setup(e){const n=e,t=re(()=>{const{class:o,...a}=n;return a});return(o,a)=>($(),ne(g(ed),null,{default:C(()=>[S(g(td),Ve(t.value,{class:"z-[9999] overflow-hidden rounded-md bg-white border border-slate-200 px-3 py-1.5 text-sm text-slate-700 shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=right]:slide-in-from-left-2"}),{default:C(()=>[le(o.$slots,"default")]),_:3},16)]),_:3}))}}),zs=te({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){const n=e;return(t,o)=>($(),ne(g(nd),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),zr=te({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(t,o)=>($(),ne(g(od),Ve(n,{"as-child":""}),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),lf=["answer","description","info","specs"],so=e=>lf.includes(e),Ur=e=>e?/^[a-z][a-z0-9_]*$/.test(e):!0,Us=(e,n,t)=>e?/^[a-z][a-z0-9_]*$/.test(e)?(t?n.filter(a=>a!==t):n).includes(e)?"Такое имя функции уже существует":"":"Только латиница в нижнем регистре, цифры и _":"",uf=(e,n)=>e==="bool"?"80px":e==="number"?"100px":e==="date"?"120px":so(n)?"200px":"140px",df=(e,n)=>{if(e==null||e==="")return"";switch(n){case"number":return typeof e=="number"?e.toLocaleString("ru-RU"):String(e);case"date":if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,o,a]=e.split("-");return`${a}.${o}.${t}`}return String(e);case"bool":return e?"Да":"Нет";default:return String(e)}},Gs=(e,n)=>({question:"Введите вопрос...",answer:"Введите ответ...",name:"Введите название...",description:"Введите описание...",topic:"Введите тему...",info:"Введите информацию...",specs:"Введите характеристики..."})[e]||`Введите ${n.toLowerCase()}...`,cf={class:"flex flex-wrap items-center justify-between gap-3 bg-background rounded-md border border-border p-3"},ff={class:"flex items-center gap-2"},pf=["disabled"],gf={disabled:"",class:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors opacity-50 cursor-not-allowed"},mf=["disabled"],vf={class:"flex items-center gap-2"},hf={class:"relative"},yf=["value"],bf=te({__name:"DirectoryDetailToolbar",props:{addDisabled:{type:Boolean},hasItems:{type:Boolean},selectedCount:{},searchQuery:{}},emits:["addRow","import","export","deleteSelected","update:searchQuery"],setup(e){return(n,t)=>($(),k("div",cf,[h("div",ff,[h("button",{onClick:t[0]||(t[0]=o=>n.$emit("addRow")),disabled:e.addDisabled,class:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-bold hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[S(g(Yo),{class:"w-4 h-4"}),t[4]||(t[4]=ae(" Добавить ",-1))],8,pf),h("button",gf,[S(g(Os),{class:"w-4 h-4"}),t[5]||(t[5]=ae(" Загрузить CSV ",-1))]),h("button",{onClick:t[1]||(t[1]=o=>n.$emit("export")),class:Ie(["flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-50 transition-colors",{"opacity-50 cursor-not-allowed":!e.hasItems}]),disabled:!e.hasItems},[S(g(Md),{class:"w-4 h-4"}),t[6]||(t[6]=ae(" Экспорт ",-1))],10,mf)]),h("div",vf,[e.selectedCount>0?($(),k("button",{key:0,onClick:t[2]||(t[2]=o=>n.$emit("deleteSelected")),class:"flex items-center gap-2 px-4 py-2 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 transition-colors"},[S(g(Dn),{class:"w-4 h-4"}),ae(" Удалить ("+Y(e.selectedCount)+") ",1)])):ve("",!0),h("div",hf,[S(g(Kn),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),h("input",{value:e.searchQuery,onInput:t[3]||(t[3]=o=>n.$emit("update:searchQuery",o.target.value)),type:"text",placeholder:"Поиск...",class:"pl-9 pr-4 py-2 w-48 text-sm border border-slate-200 rounded-lg bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 transition-all"},null,40,yf)])])]))}}),xf={key:0,class:"relative"},wf=["value","placeholder"],Sf=["value","placeholder"],Cf=["value"],$f={key:3,class:"flex items-center gap-2 px-2 py-1.5 cursor-pointer bg-indigo-50/50 rounded"},Ef=["checked"],Rf={class:"text-xs font-medium text-indigo-700"},Pf=["value","placeholder"],If={key:5,class:"absolute right-2 top-1/2 -translate-y-1/2"},Of={key:0,class:"flex items-center gap-1.5"},Df={key:1,class:"line-clamp-2 leading-tight"},Tf=te({__name:"EditableCell",props:{column:{},displayValue:{},modelValue:{},editing:{type:Boolean},saving:{type:Boolean}},emits:["update:modelValue","startEdit","blur","keydown","save"],setup(e,{expose:n}){const t=e,o=j(null),a=re(()=>so(t.column.name)),s=re(()=>df(t.displayValue,t.column.type));return ze(()=>t.editing,r=>{r&&st(()=>{var i,u,d,c;const l=o.value;l&&(Array.isArray(l)?((i=l[0])==null||i.focus(),(d=(u=l[0])==null?void 0:u.select)==null||d.call(u)):(l.focus(),(c=l.select)==null||c.call(l)))})}),n({inputRef:o}),(r,l)=>e.editing?($(),k("div",xf,[e.column.type==="text"&&a.value?($(),k("textarea",{key:0,ref_key:"inputRef",ref:o,value:e.modelValue,onInput:l[0]||(l[0]=i=>r.$emit("update:modelValue",i.target.value)),placeholder:e.column.label,rows:"3",class:"w-full px-2 py-1.5 text-sm border-2 border-indigo-500 rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100 resize-none",onBlur:l[1]||(l[1]=i=>r.$emit("blur")),onKeydown:l[2]||(l[2]=i=>r.$emit("keydown",i))},null,40,wf)):e.column.type==="number"?($(),k("input",{key:1,ref_key:"inputRef",ref:o,value:e.modelValue,onInput:l[3]||(l[3]=i=>r.$emit("update:modelValue",Number(i.target.value))),type:"number",step:"any",placeholder:e.column.label,class:"w-full px-2 py-1.5 text-sm border-2 border-indigo-500 rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100 font-mono",onBlur:l[4]||(l[4]=i=>r.$emit("blur")),onKeydown:l[5]||(l[5]=i=>r.$emit("keydown",i))},null,40,Sf)):e.column.type==="date"?($(),k("input",{key:2,ref_key:"inputRef",ref:o,value:e.modelValue,onInput:l[6]||(l[6]=i=>r.$emit("update:modelValue",i.target.value)),type:"date",class:"w-full px-2 py-1.5 text-sm border-2 border-indigo-500 rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100",onBlur:l[7]||(l[7]=i=>r.$emit("blur")),onKeydown:l[8]||(l[8]=i=>r.$emit("keydown",i))},null,40,Cf)):e.column.type==="bool"?($(),k("label",$f,[h("input",{ref_key:"inputRef",ref:o,checked:!!e.modelValue,onChange:l[9]||(l[9]=i=>{r.$emit("update:modelValue",i.target.checked),r.$emit("save")}),type:"checkbox",class:"w-4 h-4 rounded border-indigo-400 text-indigo-600 focus:ring-indigo-500"},null,40,Ef),h("span",Rf,Y(e.modelValue?"Да":"Нет"),1)])):($(),k("input",{key:4,ref_key:"inputRef",ref:o,value:e.modelValue,onInput:l[10]||(l[10]=i=>r.$emit("update:modelValue",i.target.value)),type:"text",placeholder:e.column.label,class:"w-full px-2 py-1.5 text-sm border-2 border-indigo-500 rounded bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-100",onBlur:l[11]||(l[11]=i=>r.$emit("blur")),onKeydown:l[12]||(l[12]=i=>r.$emit("keydown",i))},null,40,Pf)),e.saving?($(),k("div",If,[S(g(un),{class:"w-4 h-4 animate-spin text-indigo-500"})])):ve("",!0)])):($(),k("div",{key:1,onClick:l[13]||(l[13]=i=>r.$emit("startEdit")),class:Ie(["px-2 py-1.5 text-sm text-slate-700 rounded cursor-pointer hover:bg-slate-100/80 transition-colors min-h-[32px] flex items-center",{"font-mono":e.column.type==="number","text-slate-400 italic":e.displayValue===null||e.displayValue===void 0||e.displayValue===""}])},[e.column.type==="bool"?($(),k("span",Of,[h("span",{class:Ie(["w-3.5 h-3.5 rounded flex items-center justify-center text-white text-[10px]",e.displayValue?"bg-green-500":"bg-slate-200"])},Y(e.displayValue?"✓":""),3),h("span",{class:Ie(["text-xs",e.displayValue?"text-green-700 font-medium":"text-slate-400"])},Y(e.displayValue?"Да":"Нет"),3)])):($(),k("span",Df,Y(s.value||"Пусто"),1))],2))}}),Mf=vs(Tf,[["__scopeId","data-v-242ce9d8"]]);function Xt(e,n){const t=typeof e=="string"&&!n?`${e}Context`:n,o=Symbol(t);return[r=>{const l=ro(o,r);if(l||l===null)return l;throw new Error(`Injection \`${o.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},r=>(zo(o,r),r)]}function Ot(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Hs(e,n,t){const o=t.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),o.dispatchEvent(a)}function Af(e){return e==null}function fa(e){return e?e.flatMap(n=>n.type===He?fa(n.children):[n]):[]}const Ff=["INPUT","TEXTAREA"];function kf(e,n,t,o={}){if(!n||o.enableIgnoredElement&&Ff.includes(n.nodeName))return null;const{arrowKeyOptions:a="both",attributeName:s="[data-reka-collection-item]",itemsArray:r=[],loop:l=!0,dir:i="ltr",preventScroll:u=!0,focus:d=!1}=o,[c,f,p,m,v,y]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],b=p||m,x=c||f;if(!v&&!y&&(!b&&!x||a==="vertical"&&x||a==="horizontal"&&b))return null;const E=t?Array.from(t.querySelectorAll(s)):r;if(!E.length)return null;u&&e.preventDefault();let P=null;return x||b?P=_s(E,n,{goForward:b?m:i==="ltr"?c:f,loop:l}):v?P=E.at(0)||null:y&&(P=E.at(-1)||null),d&&(P==null||P.focus()),P}function _s(e,n,t,o=e.length){if(--o===0)return null;const a=e.indexOf(n),s=t.goForward?a+1:a-1;if(!t.loop&&(s<0||s>=e.length))return null;const r=(s+e.length)%e.length,l=e[r];return l?l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"?_s(e,l,t,o):l:null}const[Ks]=Xt("ConfigProvider");function Lf(e,n){var t;const o=Go();return Dt(()=>{o.value=e()},{...n,flush:(t=n==null?void 0:n.flush)!==null&&t!==void 0?t:"sync"}),cs(o)}function Ws(e,n){return ls()?(ds(e,n),!0):!1}function Nf(e){let n=!1,t;const o=na(!0);return(...a)=>(n||(t=o.run(()=>e(...a)),n=!0),t)}const Yt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Vf=e=>typeof e<"u",Bf=Object.prototype.toString,jf=e=>Bf.call(e)==="[object Object]",Da=zf();function zf(){var e,n,t;return Yt&&!!(!((e=window)===null||e===void 0||(e=e.navigator)===null||e===void 0)&&e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window)===null||n===void 0||(n=n.navigator)===null||n===void 0?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test((t=window)===null||t===void 0?void 0:t.navigator.userAgent))}function ur(e){return Array.isArray(e)?e:[e]}function Uf(e){return sn()}function Xs(e){if(!Yt)return e;let n=0,t,o;const a=()=>{n-=1,o&&n<=0&&(o.stop(),t=void 0,o=void 0)};return(...s)=>(n+=1,o||(o=na(!0),t=o.run(()=>e(...s))),Ws(a),t)}function Gf(e,n=1e4){return ss((t,o)=>{let a=Ct(e),s;const r=()=>setTimeout(()=>{a=Ct(e),o()},Ct(n));return Ws(()=>{clearTimeout(s)}),{get(){return t(),a},set(l){a=l,o(),clearTimeout(s),s=r()}}})}function Hf(e,n){Uf()&&us(e,n)}function _f(e,n,t){return ze(e,n,{...t,immediate:!0})}const pa=Yt?window:void 0;function An(e){var n;const t=Ct(e);return(n=t==null?void 0:t.$el)!==null&&n!==void 0?n:t}function Ao(...e){const n=(o,a,s,r)=>(o.addEventListener(a,s,r),()=>o.removeEventListener(a,s,r)),t=re(()=>{const o=ur(Ct(e[0])).filter(a=>a!=null);return o.every(a=>typeof a!="string")?o:void 0});return _f(()=>{var o,a;return[(o=(a=t.value)===null||a===void 0?void 0:a.map(s=>An(s)))!==null&&o!==void 0?o:[pa].filter(s=>s!=null),ur(Ct(t.value?e[1]:e[0])),ur(g(t.value?e[2]:e[1])),Ct(t.value?e[3]:e[2])]},([o,a,s,r],l,i)=>{if(!(o!=null&&o.length)||!(a!=null&&a.length)||!(s!=null&&s.length))return;const u=jf(r)?{...r}:r,d=o.flatMap(c=>a.flatMap(f=>s.map(p=>n(c,f,p,u))));i(()=>{d.forEach(c=>c())})},{flush:"post"})}function Kf(){const e=Go(!1),n=sn();return n&&Wt(()=>{e.value=!0},n),e}function Wf(e){return typeof e=="function"?e:typeof e=="string"?n=>n.key===e:Array.isArray(e)?n=>e.includes(n.key):()=>!0}function Xf(...e){let n,t,o={};e.length===3?(n=e[0],t=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(n=!0,t=e[0],o=e[1]):(n=e[0],t=e[1]):(n=!0,t=e[0]);const{target:a=pa,eventName:s="keydown",passive:r=!1,dedupe:l=!1}=o,i=Wf(n);return Ao(a,s,d=>{d.repeat&&Ct(l)||i(d)&&t(d)},r)}function Yf(e){return JSON.parse(JSON.stringify(e))}function ga(e,n,t,o={}){var a,s;const{clone:r=!1,passive:l=!1,eventName:i,deep:u=!1,defaultValue:d,shouldEmit:c}=o,f=sn(),p=t||(f==null?void 0:f.emit)||(f==null||(a=f.$emit)===null||a===void 0?void 0:a.bind(f))||(f==null||(s=f.proxy)===null||s===void 0||(s=s.$emit)===null||s===void 0?void 0:s.bind(f==null?void 0:f.proxy));let m=i;n||(n="modelValue"),m=m||`update:${n.toString()}`;const v=x=>r?typeof r=="function"?r(x):Yf(x):x,y=()=>Vf(e[n])?v(e[n]):d,b=x=>{c?c(x)&&p(m,x):p(m,x)};if(l){const x=j(y());let E=!1;return ze(()=>e[n],P=>{E||(E=!0,x.value=v(P),st(()=>E=!1))}),ze(x,P=>{!E&&(P!==e[n]||u)&&b(P)},{deep:u}),x}else return re({get(){return y()},set(x){b(x)}})}const qf=Xs(()=>{const e=j(new Map),n=j(),t=re(()=>{for(const r of e.value.values())if(r)return!0;return!1}),o=Ks({scrollBody:j(!0)});let a=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=n.value??"",Da&&(a==null||a()),n.value=void 0};return ze(t,(r,l)=>{var c;if(!Yt)return;if(!r){l&&s();return}n.value===void 0&&(n.value=document.body.style.overflow);const i=window.innerWidth-document.documentElement.clientWidth,u={padding:i,margin:0},d=(c=o.scrollBody)!=null&&c.value?typeof o.scrollBody.value=="object"?_u({padding:o.scrollBody.value.padding===!0?i:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?i:o.scrollBody.value.margin},u):u:{padding:0,margin:0};i>0&&(document.body.style.paddingRight=typeof d.padding=="number"?`${d.padding}px`:String(d.padding),document.body.style.marginRight=typeof d.margin=="number"?`${d.margin}px`:String(d.margin),document.documentElement.style.setProperty("--scrollbar-width",`${i}px`),document.body.style.overflow="hidden"),Da&&(a=Ao(document,"touchmove",f=>Jf(f),{passive:!1})),st(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Qf(e){const n=Math.random().toString(36).substring(2,7),t=qf();t.value.set(n,e??!1);const o=re({get:()=>t.value.get(n)??!1,set:a=>t.value.set(n,a)});return Hf(()=>{t.value.delete(n)}),o}function Ys(e){const n=window.getComputedStyle(e);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&e.clientWidth<e.scrollWidth||n.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!(t instanceof Element)||t.tagName==="BODY"?!1:Ys(t)}}function Jf(e){const n=e||window.event,t=n.target;return t instanceof Element&&Ys(t)?!1:n.touches.length>1?!0:(n.preventDefault&&n.cancelable&&n.preventDefault(),!1)}function Qo(e){const n=Ks({dir:j("ltr")});return re(()=>{var t;return(e==null?void 0:e.value)||((t=n.dir)==null?void 0:t.value)||"ltr"})}function ma(e){const n=sn(),t=n==null?void 0:n.type.emits,o={};return t!=null&&t.length||console.warn(`No emitted event found. Please check component: ${n==null?void 0:n.type.__name}`),t==null||t.forEach(a=>{o[fs(ea(a))]=(...s)=>e(a,...s)}),o}let dr=0;function Zf(){Dt(e=>{if(!Yt)return;const n=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",n[0]??Ta()),document.body.insertAdjacentElement("beforeend",n[1]??Ta()),dr++,e(()=>{dr===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(t=>t.remove()),dr--})})}function Ta(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function lt(){const e=sn(),n=j(),t=re(()=>{var r,l;return["#text","#comment"].includes((r=n.value)==null?void 0:r.$el.nodeName)?(l=n.value)==null?void 0:l.$el.nextElementSibling:An(n)}),o=Object.assign({},e.exposed),a={};for(const r in e.props)Object.defineProperty(a,r,{enumerable:!0,configurable:!0,get:()=>e.props[r]});if(Object.keys(o).length>0)for(const r in o)Object.defineProperty(a,r,{enumerable:!0,configurable:!0,get:()=>o[r]});Object.defineProperty(a,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=a;function s(r){if(n.value=r,!!r&&(Object.defineProperty(a,"$el",{enumerable:!0,configurable:!0,get:()=>r instanceof Element?r:r.$el}),!(r instanceof Element)&&!Object.hasOwn(r,"$el"))){const l=r.$.exposed,i=Object.assign({},a);for(const u in l)Object.defineProperty(i,u,{enumerable:!0,configurable:!0,get:()=>l[u]});e.exposed=i}}return{forwardRef:s,currentRef:n,currentElement:t}}function lo(e){const n=sn(),t=Object.keys((n==null?void 0:n.type.props)??{}).reduce((a,s)=>{const r=(n==null?void 0:n.type.props[s]).default;return r!==void 0&&(a[s]=r),a},{}),o=ps(e);return re(()=>{const a={},s=(n==null?void 0:n.vnode.props)??{};return Object.keys(s).forEach(r=>{a[ea(r)]=s[r]}),Object.keys({...t,...a}).reduce((r,l)=>(o.value[l]!==void 0&&(r[l]=o.value[l]),r),{})})}function zt(e,n){const t=lo(e),o=n?ma(n):{};return re(()=>({...t.value,...o}))}var ep=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Sn=new WeakMap,vo=new WeakMap,ho={},cr=0,qs=function(e){return e&&(e.host||qs(e.parentNode))},tp=function(e,n){return n.map(function(t){if(e.contains(t))return t;var o=qs(t);return o&&e.contains(o)?o:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},np=function(e,n,t,o){var a=tp(n,Array.isArray(e)?e:[e]);ho[t]||(ho[t]=new WeakMap);var s=ho[t],r=[],l=new Set,i=new Set(a),u=function(c){!c||l.has(c)||(l.add(c),u(c.parentNode))};a.forEach(u);var d=function(c){!c||i.has(c)||Array.prototype.forEach.call(c.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(o),m=p!==null&&p!=="false",v=(Sn.get(f)||0)+1,y=(s.get(f)||0)+1;Sn.set(f,v),s.set(f,y),r.push(f),v===1&&m&&vo.set(f,!0),y===1&&f.setAttribute(t,"true"),m||f.setAttribute(o,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(n),l.clear(),cr++,function(){r.forEach(function(c){var f=Sn.get(c)-1,p=s.get(c)-1;Sn.set(c,f),s.set(c,p),f||(vo.has(c)||c.removeAttribute(o),vo.delete(c)),p||c.removeAttribute(t)}),cr--,cr||(Sn=new WeakMap,Sn=new WeakMap,vo=new WeakMap,ho={})}},op=function(e,n,t){t===void 0&&(t="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=ep(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),np(o,a,t,"aria-hidden")):function(){return null}};function rp(e){let n;ze(()=>An(e),t=>{t?n=op(t):n&&n()}),Mn(()=>{n&&n()})}function Qs(e,n="reka"){var t;return`${n}-${(t=gs)==null?void 0:t()}`}function ap(e){const n=j(),t=re(()=>{var a;return((a=n.value)==null?void 0:a.width)??0}),o=re(()=>{var a;return((a=n.value)==null?void 0:a.height)??0});return Wt(()=>{const a=An(e);if(a){n.value={width:a.offsetWidth,height:a.offsetHeight};const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let i,u;if("borderBoxSize"in l){const d=l.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,u=c.blockSize}else i=a.offsetWidth,u=a.offsetHeight;n.value={width:i,height:u}});return s.observe(a,{box:"border-box"}),()=>s.unobserve(a)}else n.value=void 0}),{width:t,height:o}}function sp(e,n){const t=j(e);function o(s){return n[t.value][s]??t.value}return{state:t,dispatch:s=>{t.value=o(s)}}}function lp(e){const n=Gf("",1e3);return{search:n,handleTypeaheadSearch:(a,s)=>{n.value=n.value+a;{const r=Ot(),l=s.map(f=>{var p,m;return{...f,textValue:((p=f.value)==null?void 0:p.textValue)??((m=f.ref.textContent)==null?void 0:m.trim())??""}}),i=l.find(f=>f.ref===r),u=l.map(f=>f.textValue),d=up(u,n.value,i==null?void 0:i.textValue),c=l.find(f=>f.textValue===d);return c&&c.ref.focus(),c==null?void 0:c.ref}},resetTypeahead:()=>{n.value=""}}}function ip(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function up(e,n,t){const a=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let r=ip(e,Math.max(s,0));a.length===1&&(r=r.filter(u=>u!==t));const i=r.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return i!==t?i:void 0}function dp(e,n){var y;const t=j({}),o=j("none"),a=j(e),s=e.value?"mounted":"unmounted";let r;const l=((y=n.value)==null?void 0:y.ownerDocument.defaultView)??pa,{state:i,dispatch:u}=sp(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=b=>{var x;if(Yt){const E=new CustomEvent(b,{bubbles:!1,cancelable:!1});(x=n.value)==null||x.dispatchEvent(E)}};ze(e,async(b,x)=>{var P;const E=x!==b;if(await st(),E){const D=o.value,M=yo(n.value);b?(u("MOUNT"),d("enter"),M==="none"&&d("after-enter")):M==="none"||M==="undefined"||((P=t.value)==null?void 0:P.display)==="none"?(u("UNMOUNT"),d("leave"),d("after-leave")):x&&D!==M?(u("ANIMATION_OUT"),d("leave")):(u("UNMOUNT"),d("after-leave"))}},{immediate:!0});const c=b=>{const x=yo(n.value),E=x.includes(CSS.escape(b.animationName)),P=i.value==="mounted"?"enter":"leave";if(b.target===n.value&&E&&(d(`after-${P}`),u("ANIMATION_END"),!a.value)){const D=n.value.style.animationFillMode;n.value.style.animationFillMode="forwards",r=l==null?void 0:l.setTimeout(()=>{var M;((M=n.value)==null?void 0:M.style.animationFillMode)==="forwards"&&(n.value.style.animationFillMode=D)})}b.target===n.value&&x==="none"&&u("ANIMATION_END")},f=b=>{b.target===n.value&&(o.value=yo(n.value))},p=ze(n,(b,x)=>{b?(t.value=getComputedStyle(b),b.addEventListener("animationstart",f),b.addEventListener("animationcancel",c),b.addEventListener("animationend",c)):(u("ANIMATION_END"),r!==void 0&&(l==null||l.clearTimeout(r)),x==null||x.removeEventListener("animationstart",f),x==null||x.removeEventListener("animationcancel",c),x==null||x.removeEventListener("animationend",c))},{immediate:!0}),m=ze(i,()=>{const b=yo(n.value);o.value=i.value==="mounted"?b:"none"});return Mn(()=>{p(),m()}),{isPresent:re(()=>["mounted","unmountSuspended"].includes(i.value))}}function yo(e){return e&&getComputedStyle(e).animationName||"none"}var cp=te({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:n,expose:t}){var u;const{present:o,forceMount:a}=ln(e),s=j(),{isPresent:r}=dp(o,s);t({present:r});let l=n.default({present:r.value});l=fa(l||[]);const i=sn();if(l&&(l==null?void 0:l.length)>1){const d=(u=i==null?void 0:i.parent)!=null&&u.type.name?`<${i.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${d}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(c=>`  - ${c}`).join(`
`)].join(`
`))}return()=>a.value||o.value||r.value?yn(n.default({present:r.value})[0],{ref:d=>{const c=An(d);return typeof(c==null?void 0:c.hasAttribute)>"u"||(c!=null&&c.hasAttribute("data-reka-popper-content-wrapper")?s.value=c.firstElementChild:s.value=c),c}}):null}});const Gr=te({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:n,slots:t}){return()=>{var i;if(!t.default)return null;const o=fa(t.default()),a=o.findIndex(u=>u.type!==ns);if(a===-1)return o;const s=o[a];(i=s.props)==null||delete i.ref;const r=s.props?Ve(n,s.props):n,l=as({...s,props:{}},r);return o.length===1?l:(o[a]=l,o)}}}),fp=["area","img","input"],Ut=te({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:n,slots:t}){const o=e.asChild?"template":e.as;return typeof o=="string"&&fp.includes(o)?()=>yn(o,n):o!=="template"?()=>yn(e.as,n,{default:t.default}):()=>yn(Gr,n,{default:t.default})}});function Ma(){const e=j(),n=re(()=>{var t,o;return["#text","#comment"].includes((t=e.value)==null?void 0:t.$el.nodeName)?(o=e.value)==null?void 0:o.$el.nextElementSibling:An(e)});return{primitiveElement:e,currentElement:n}}const pp="dismissableLayer.pointerDownOutside",gp="dismissableLayer.focusOutside";function Js(e,n){const t=n.closest("[data-dismissable-layer]"),o=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),a=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(t&&(o===t||a.indexOf(o)<a.indexOf(t)))}function mp(e,n,t=!0){var r;const o=((r=n==null?void 0:n.value)==null?void 0:r.ownerDocument)??(globalThis==null?void 0:globalThis.document),a=j(!1),s=j(()=>{});return Dt(l=>{if(!Yt||!Ct(t))return;const i=async d=>{const c=d.target;if(!(!(n!=null&&n.value)||!c)){if(Js(n.value,c)){a.value=!1;return}if(d.target&&!a.value){let p=function(){Hs(pp,e,f)};const f={originalEvent:d};d.pointerType==="touch"?(o.removeEventListener("click",s.value),s.value=p,o.addEventListener("click",s.value,{once:!0})):p()}else o.removeEventListener("click",s.value);a.value=!1}},u=window.setTimeout(()=>{o.addEventListener("pointerdown",i)},0);l(()=>{window.clearTimeout(u),o.removeEventListener("pointerdown",i),o.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>{Ct(t)&&(a.value=!0)}}}function vp(e,n,t=!0){var s;const o=((s=n==null?void 0:n.value)==null?void 0:s.ownerDocument)??(globalThis==null?void 0:globalThis.document),a=j(!1);return Dt(r=>{if(!Yt||!Ct(t))return;const l=async i=>{if(!(n!=null&&n.value))return;await st(),await st();const u=i.target;!n.value||!u||Js(n.value,u)||i.target&&!a.value&&Hs(gp,e,{originalEvent:i})};o.addEventListener("focusin",l),r(()=>o.removeEventListener("focusin",l))}),{onFocusCapture:()=>{Ct(t)&&(a.value=!0)},onBlurCapture:()=>{Ct(t)&&(a.value=!1)}}}const Pt=aa({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var hp=te({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:n}){const t=e,o=n,{forwardRef:a,currentElement:s}=lt(),r=re(()=>{var p;return((p=s.value)==null?void 0:p.ownerDocument)??globalThis.document}),l=re(()=>Pt.layersRoot),i=re(()=>s.value?Array.from(l.value).indexOf(s.value):-1),u=re(()=>Pt.layersWithOutsidePointerEventsDisabled.size>0),d=re(()=>{const p=Array.from(l.value),[m]=[...Pt.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(m);return i.value>=v}),c=mp(async p=>{const m=[...Pt.branches].some(v=>v==null?void 0:v.contains(p.target));!d.value||m||(o("pointerDownOutside",p),o("interactOutside",p),await st(),p.defaultPrevented||o("dismiss"))},s),f=vp(p=>{[...Pt.branches].some(v=>v==null?void 0:v.contains(p.target))||(o("focusOutside",p),o("interactOutside",p),p.defaultPrevented||o("dismiss"))},s);return Xf("Escape",p=>{i.value===l.value.size-1&&(o("escapeKeyDown",p),p.defaultPrevented||o("dismiss"))}),Dt(p=>{s.value&&(t.disableOutsidePointerEvents&&(Pt.layersWithOutsidePointerEventsDisabled.size===0&&(Pt.originalBodyPointerEvents=r.value.body.style.pointerEvents,r.value.body.style.pointerEvents="none"),Pt.layersWithOutsidePointerEventsDisabled.add(s.value)),l.value.add(s.value),p(()=>{t.disableOutsidePointerEvents&&Pt.layersWithOutsidePointerEventsDisabled.size===1&&!Af(Pt.originalBodyPointerEvents)&&(r.value.body.style.pointerEvents=Pt.originalBodyPointerEvents)}))}),Dt(p=>{p(()=>{s.value&&(l.value.delete(s.value),Pt.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(p,m)=>($(),ne(g(Ut),{ref:g(a),"as-child":p.asChild,as:p.as,"data-dismissable-layer":"",style:hn({pointerEvents:u.value?d.value?"auto":"none":void 0}),onFocusCapture:g(f).onFocusCapture,onBlurCapture:g(f).onBlurCapture,onPointerdownCapture:g(c).onPointerDownCapture},{default:C(()=>[le(p.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),yp=hp;const bp=Nf(()=>j([]));function xp(){const e=bp();return{add(n){const t=e.value[0];n!==t&&(t==null||t.pause()),e.value=Aa(e.value,n),e.value.unshift(n)},remove(n){var t;e.value=Aa(e.value,n),(t=e.value[0])==null||t.resume()}}}function Aa(e,n){const t=[...e],o=t.indexOf(n);return o!==-1&&t.splice(o,1),t}const fr="focusScope.autoFocusOnMount",pr="focusScope.autoFocusOnUnmount",Fa={bubbles:!1,cancelable:!0};function wp(e,{select:n=!1}={}){const t=Ot();for(const o of e)if(en(o,{select:n}),Ot()!==t)return!0}function Sp(e){const n=Zs(e),t=ka(n,e),o=ka(n.reverse(),e);return[t,o]}function Zs(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function ka(e,n){for(const t of e)if(!Cp(t,{upTo:n}))return t}function Cp(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $p(e){return e instanceof HTMLInputElement&&"select"in e}function en(e,{select:n=!1}={}){if(e&&e.focus){const t=Ot();e.focus({preventScroll:!0}),e!==t&&$p(e)&&n&&e.select()}}var Ep=te({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:n}){const t=e,o=n,{currentRef:a,currentElement:s}=lt(),r=j(null),l=xp(),i=aa({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Dt(d=>{if(!Yt)return;const c=s.value;if(!t.trapped)return;function f(y){if(i.paused||!c)return;const b=y.target;c.contains(b)?r.value=b:en(r.value,{select:!0})}function p(y){if(i.paused||!c)return;const b=y.relatedTarget;b!==null&&(c.contains(b)||en(r.value,{select:!0}))}function m(y){c.contains(r.value)||en(c)}document.addEventListener("focusin",f),document.addEventListener("focusout",p);const v=new MutationObserver(m);c&&v.observe(c,{childList:!0,subtree:!0}),d(()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",p),v.disconnect()})}),Dt(async d=>{const c=s.value;if(await st(),!c)return;l.add(i);const f=Ot();if(!c.contains(f)){const m=new CustomEvent(fr,Fa);c.addEventListener(fr,v=>o("mountAutoFocus",v)),c.dispatchEvent(m),m.defaultPrevented||(wp(Zs(c),{select:!0}),Ot()===f&&en(c))}d(()=>{c.removeEventListener(fr,y=>o("mountAutoFocus",y));const m=new CustomEvent(pr,Fa),v=y=>{o("unmountAutoFocus",y)};c.addEventListener(pr,v),c.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||en(f??document.body,{select:!0}),c.removeEventListener(pr,v),l.remove(i)},0)})});function u(d){if(!t.loop&&!t.trapped||i.paused)return;const c=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,f=Ot();if(c&&f){const p=d.currentTarget,[m,v]=Sp(p);m&&v?!d.shiftKey&&f===v?(d.preventDefault(),t.loop&&en(m,{select:!0})):d.shiftKey&&f===m&&(d.preventDefault(),t.loop&&en(v,{select:!0})):f===p&&d.preventDefault()}}return(d,c)=>($(),ne(g(Ut),{ref_key:"currentRef",ref:a,tabindex:"-1","as-child":d.asChild,as:d.as,onKeydown:u},{default:C(()=>[le(d.$slots,"default")]),_:3},8,["as-child","as"]))}}),Rp=Ep;const Pp="menu.itemSelect",Hr=["Enter"," "],Ip=["ArrowDown","PageUp","Home"],el=["ArrowUp","PageDown","End"],Op=[...Ip,...el];[...Hr],[...Hr];function Dp(e){return e?"open":"closed"}function Tp(e){const n=Ot();for(const t of e)if(t===n||(t.focus(),Ot()!==n))return}function Mp(e,n){const{x:t,y:o}=e;let a=!1;for(let s=0,r=n.length-1;s<n.length;r=s++){const l=n[s].x,i=n[s].y,u=n[r].x,d=n[r].y;i>o!=d>o&&t<(u-l)*(o-i)/(d-i)+l&&(a=!a)}return a}function Ap(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Mp(t,n)}function _r(e){return e.pointerType==="mouse"}var Fp=te({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=Kf();return(t,o)=>g(n)||t.forceMount?($(),ne(os,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[le(t.$slots,"default")],8,["to","disabled","defer"])):ve("v-if",!0)}}),kp=Fp;const La="data-reka-collection-item";function tl(e={}){const{key:n="",isProvider:t=!1}=e,o=`${n}CollectionProvider`;let a;if(t){const d=j(new Map);a={collectionRef:j(),itemMap:d},zo(o,a)}else a=ro(o);const s=(d=!1)=>{const c=a.collectionRef.value;if(!c)return[];const f=Array.from(c.querySelectorAll(`[${La}]`)),m=Array.from(a.itemMap.value.values()).sort((v,y)=>f.indexOf(v.ref)-f.indexOf(y.ref));return d?m:m.filter(v=>v.ref.dataset.disabled!=="")},r=te({name:"CollectionSlot",inheritAttrs:!1,setup(d,{slots:c,attrs:f}){const{primitiveElement:p,currentElement:m}=Ma();return ze(m,()=>{a.collectionRef.value=m.value}),()=>yn(Gr,{ref:p,...f},c)}}),l=te({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(d,{slots:c,attrs:f}){const{primitiveElement:p,currentElement:m}=Ma();return Dt(v=>{if(m.value){const y=is(m.value);a.itemMap.value.set(y,{ref:m.value,value:d.value}),v(()=>a.itemMap.value.delete(y))}}),()=>yn(Gr,{...f,[La]:"",ref:p},c)}}),i=re(()=>Array.from(a.itemMap.value.values())),u=re(()=>a.itemMap.value.size);return{getItems:s,reactiveItems:i,itemMapSize:u,CollectionSlot:r,CollectionItem:l}}const Lp="rovingFocusGroup.onEntryFocus",Np={bubbles:!1,cancelable:!0};function Vp(e,n=!1){const t=Ot();for(const o of e)if(o===t||(o.focus({preventScroll:n}),Ot()!==t))return}const[f1,Bp]=Xt("RovingFocusGroup");var jp=te({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:n,emit:t}){const o=e,a=t,{loop:s,orientation:r,dir:l}=ln(o),i=Qo(l),u=ga(o,"currentTabStopId",a,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),d=j(!1),c=j(!1),f=j(0),{getItems:p,CollectionSlot:m}=tl({isProvider:!0});function v(b){const x=!c.value;if(b.currentTarget&&b.target===b.currentTarget&&x&&!d.value){const E=new CustomEvent(Lp,Np);if(b.currentTarget.dispatchEvent(E),a("entryFocus",E),!E.defaultPrevented){const P=p().map(w=>w.ref).filter(w=>w.dataset.disabled!==""),D=P.find(w=>w.getAttribute("data-active")===""),M=P.find(w=>w.getAttribute("data-highlighted")===""),Q=P.find(w=>w.id===u.value),A=[D,M,Q,...P].filter(Boolean);Vp(A,o.preventScrollOnEntryFocus)}}c.value=!1}function y(){setTimeout(()=>{c.value=!1},1)}return n({getItems:p}),Bp({loop:s,dir:i,orientation:r,currentTabStopId:u,onItemFocus:b=>{u.value=b},onItemShiftTab:()=>{d.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(b,x)=>($(),ne(g(m),null,{default:C(()=>[S(g(Ut),{tabindex:d.value||f.value===0?-1:0,"data-orientation":g(r),as:b.as,"as-child":b.asChild,dir:g(i),style:{outline:"none"},onMousedown:x[0]||(x[0]=E=>c.value=!0),onMouseup:y,onFocus:v,onBlur:x[1]||(x[1]=E=>d.value=!1)},{default:C(()=>[le(b.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),zp=jp;const[nl,Up]=Xt("PopperRoot");var Gp=te({inheritAttrs:!1,__name:"PopperRoot",setup(e){const n=j();return Up({anchor:n,onAnchorChange:t=>n.value=t}),(t,o)=>le(t.$slots,"default")}}),Hp=Gp,_p=te({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,{forwardRef:t,currentElement:o}=lt(),a=nl();return sa(()=>{a.onAnchorChange(n.reference??o.value)}),(s,r)=>($(),ne(g(Ut),{ref:g(t),as:s.as,"as-child":s.asChild},{default:C(()=>[le(s.$slots,"default")]),_:3},8,["as","as-child"]))}}),Kp=_p;function Wp(e){return e!==null}function Xp(e){return{name:"transformOrigin",options:e,fn(n){var y,b,x;const{placement:t,rects:o,middlewareData:a}=n,r=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=r?0:e.arrowWidth,i=r?0:e.arrowHeight,[u,d]=Kr(t),c={start:"0%",center:"50%",end:"100%"}[d],f=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+i/2;let m="",v="";return u==="bottom"?(m=r?c:`${f}px`,v=`${-i}px`):u==="top"?(m=r?c:`${f}px`,v=`${o.floating.height+i}px`):u==="right"?(m=`${-i}px`,v=r?c:`${p}px`):u==="left"&&(m=`${o.floating.width+i}px`,v=r?c:`${p}px`),{data:{x:m,y:v}}}}}function Kr(e){const[n,t="center"]=e.split("-");return[n,t]}const ol={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,hideShiftedArrow:!0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[p1,Yp]=Xt("PopperContent");var qp=te({inheritAttrs:!1,__name:"PopperContent",props:ra({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...ol}),emits:["placed"],setup(e,{emit:n}){const t=e,o=n,a=nl(),{forwardRef:s,currentElement:r}=lt(),l=j(),i=j(),{width:u,height:d}=ap(i),c=re(()=>t.side+(t.align!=="center"?`-${t.align}`:"")),f=re(()=>typeof t.collisionPadding=="number"?t.collisionPadding:{top:0,right:0,bottom:0,left:0,...t.collisionPadding}),p=re(()=>Array.isArray(t.collisionBoundary)?t.collisionBoundary:[t.collisionBoundary]),m=re(()=>({padding:f.value,boundary:p.value.filter(Wp),altBoundary:p.value.length>0})),v=re(()=>({mainAxis:t.sideFlip,crossAxis:t.alignFlip})),y=Lf(()=>[sd({mainAxis:t.sideOffset+d.value,alignmentAxis:t.alignOffset}),t.prioritizePosition&&t.avoidCollisions&&Ea({...m.value,...v.value}),t.avoidCollisions&&ld({mainAxis:!0,crossAxis:!!t.prioritizePosition,limiter:t.sticky==="partial"?id():void 0,...m.value}),!t.prioritizePosition&&t.avoidCollisions&&Ea({...m.value,...v.value}),ud({...m.value,apply:({elements:Z,rects:B,availableWidth:z,availableHeight:U})=>{const{width:V,height:ee}=B.reference,X=Z.floating.style;X.setProperty("--reka-popper-available-width",`${z}px`),X.setProperty("--reka-popper-available-height",`${U}px`),X.setProperty("--reka-popper-anchor-width",`${V}px`),X.setProperty("--reka-popper-anchor-height",`${ee}px`)}}),i.value&&dd({element:i.value,padding:t.arrowPadding}),Xp({arrowWidth:u.value,arrowHeight:d.value}),t.hideWhenDetached&&cd({strategy:"referenceHidden",...m.value})]),b=re(()=>t.reference??a.anchor.value),{floatingStyles:x,placement:E,isPositioned:P,middlewareData:D}=rd(b,l,{strategy:t.positionStrategy,placement:c,whileElementsMounted:(...Z)=>ad(...Z,{layoutShift:!t.disableUpdateOnLayoutShift,animationFrame:t.updatePositionStrategy==="always"}),middleware:y}),M=re(()=>Kr(E.value)[0]),Q=re(()=>Kr(E.value)[1]);sa(()=>{P.value&&o("placed")});const A=re(()=>{var B;const Z=((B=D.value.arrow)==null?void 0:B.centerOffset)!==0;return t.hideShiftedArrow&&Z}),w=j("");Dt(()=>{r.value&&(w.value=window.getComputedStyle(r.value).zIndex)});const R=re(()=>{var Z;return((Z=D.value.arrow)==null?void 0:Z.x)??0}),F=re(()=>{var Z;return((Z=D.value.arrow)==null?void 0:Z.y)??0});return Yp({placedSide:M,onArrowChange:Z=>i.value=Z,arrowX:R,arrowY:F,shouldHideArrow:A}),(Z,B)=>{var z,U,V;return $(),k("div",{ref_key:"floatingRef",ref:l,"data-reka-popper-content-wrapper":"",style:hn({...g(x),transform:g(P)?g(x).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:w.value,"--reka-popper-transform-origin":[(z=g(D).transformOrigin)==null?void 0:z.x,(U=g(D).transformOrigin)==null?void 0:U.y].join(" "),...((V=g(D).hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[S(g(Ut),Ve({ref:g(s)},Z.$attrs,{"as-child":t.asChild,as:Z.as,"data-side":M.value,"data-align":Q.value,style:{animation:g(P)?void 0:"none"}}),{default:C(()=>[le(Z.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),Qp=qp,Jp=te({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return(t,o)=>($(),ne(g(Kp),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),rl=Jp;function Zp(){const e=j(!1);return Wt(()=>{Ao("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),Ao(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const eg=Xs(Zp),[Jo,tg]=Xt(["MenuRoot","MenuSub"],"MenuContext"),[va,ng]=Xt("MenuRoot");var og=te({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{modal:a,dir:s}=ln(t),r=Qo(s),l=ga(t,"open",o),i=j(),u=eg();return tg({open:l,onOpenChange:d=>{l.value=d},content:i,onContentChange:d=>{i.value=d}}),ng({onClose:()=>{l.value=!1},isUsingKeyboardRef:u,dir:r,modal:a}),(d,c)=>($(),ne(g(Hp),null,{default:C(()=>[le(d.$slots,"default")]),_:3}))}}),al=og;const[sl,rg]=Xt("MenuContent");var ag=te({__name:"MenuContentImpl",props:ra({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...ol}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:n}){const t=e,o=n,a=Jo(),s=va(),{trapFocus:r,disableOutsidePointerEvents:l,loop:i}=ln(t);Zf(),Qf(l.value);const u=j(""),d=j(0),c=j(0),f=j(null),p=j("right"),m=j(0),v=j(null),y=j(),{forwardRef:b,currentElement:x}=lt(),{handleTypeaheadSearch:E}=lp();ze(x,w=>{a.onContentChange(w)}),Mn(()=>{window.clearTimeout(d.value)});function P(w){var F,Z;return p.value===((F=f.value)==null?void 0:F.side)&&Ap(w,(Z=f.value)==null?void 0:Z.area)}async function D(w){var R;o("openAutoFocus",w),!w.defaultPrevented&&(w.preventDefault(),(R=x.value)==null||R.focus({preventScroll:!0}))}function M(w){var ee;if(w.defaultPrevented)return;const F=w.target.closest("[data-reka-menu-content]")===w.currentTarget,Z=w.ctrlKey||w.altKey||w.metaKey,B=w.key.length===1,z=kf(w,Ot(),x.value,{loop:i.value,arrowKeyOptions:"vertical",dir:s==null?void 0:s.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(z)return z==null?void 0:z.focus();if(w.code==="Space")return;const U=((ee=y.value)==null?void 0:ee.getItems())??[];if(F&&(w.key==="Tab"&&w.preventDefault(),!Z&&B&&E(w.key,U)),w.target!==x.value||!Op.includes(w.key))return;w.preventDefault();const V=[...U.map(X=>X.ref)];el.includes(w.key)&&V.reverse(),Tp(V)}function Q(w){var R,F;(F=(R=w==null?void 0:w.currentTarget)==null?void 0:R.contains)!=null&&F.call(R,w.target)||(window.clearTimeout(d.value),u.value="")}function A(w){var Z;if(!_r(w))return;const R=w.target,F=m.value!==w.clientX;if((Z=w==null?void 0:w.currentTarget)!=null&&Z.contains(R)&&F){const B=w.clientX>m.value?"right":"left";p.value=B,m.value=w.clientX}}return rg({onItemEnter:w=>!!P(w),onItemLeave:w=>{var R;P(w)||((R=x.value)==null||R.focus(),v.value=null)},onTriggerLeave:w=>!!P(w),searchRef:u,pointerGraceTimerRef:c,onPointerGraceIntentChange:w=>{f.value=w}}),(w,R)=>($(),ne(g(Rp),{"as-child":"",trapped:g(r),onMountAutoFocus:D,onUnmountAutoFocus:R[7]||(R[7]=F=>o("closeAutoFocus",F))},{default:C(()=>[S(g(yp),{"as-child":"","disable-outside-pointer-events":g(l),onEscapeKeyDown:R[2]||(R[2]=F=>o("escapeKeyDown",F)),onPointerDownOutside:R[3]||(R[3]=F=>o("pointerDownOutside",F)),onFocusOutside:R[4]||(R[4]=F=>o("focusOutside",F)),onInteractOutside:R[5]||(R[5]=F=>o("interactOutside",F)),onDismiss:R[6]||(R[6]=F=>o("dismiss"))},{default:C(()=>[S(g(zp),{ref_key:"rovingFocusGroupRef",ref:y,"current-tab-stop-id":v.value,"onUpdate:currentTabStopId":R[0]||(R[0]=F=>v.value=F),"as-child":"",orientation:"vertical",dir:g(s).dir.value,loop:g(i),onEntryFocus:R[1]||(R[1]=F=>{o("entryFocus",F),g(s).isUsingKeyboardRef.value||F.preventDefault()})},{default:C(()=>[S(g(Qp),{ref:g(b),role:"menu",as:w.as,"as-child":w.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":g(Dp)(g(a).open.value),dir:g(s).dir.value,side:w.side,"side-offset":w.sideOffset,align:w.align,"align-offset":w.alignOffset,"avoid-collisions":w.avoidCollisions,"collision-boundary":w.collisionBoundary,"collision-padding":w.collisionPadding,"arrow-padding":w.arrowPadding,"prioritize-position":w.prioritizePosition,"position-strategy":w.positionStrategy,"update-position-strategy":w.updatePositionStrategy,sticky:w.sticky,"hide-when-detached":w.hideWhenDetached,reference:w.reference,onKeydown:M,onBlur:Q,onPointermove:A},{default:C(()=>[le(w.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),ll=ag,sg=te({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=sl(),{forwardRef:o}=lt(),{CollectionItem:a}=tl(),s=j(!1);async function r(i){if(!i.defaultPrevented&&_r(i)){if(n.disabled)t.onItemLeave(i);else if(!t.onItemEnter(i)){const d=i.currentTarget;d==null||d.focus({preventScroll:!0})}}}async function l(i){await st(),!i.defaultPrevented&&_r(i)&&t.onItemLeave(i)}return(i,u)=>($(),ne(g(a),{value:{textValue:i.textValue}},{default:C(()=>[S(g(Ut),Ve({ref:g(o),role:"menuitem",tabindex:"-1"},i.$attrs,{as:i.as,"as-child":i.asChild,"aria-disabled":i.disabled||void 0,"data-disabled":i.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:r,onPointerleave:l,onFocus:u[0]||(u[0]=async d=>{await st(),!(d.defaultPrevented||i.disabled)&&(s.value=!0)}),onBlur:u[1]||(u[1]=async d=>{await st(),!d.defaultPrevented&&(s.value=!1)})}),{default:C(()=>[le(i.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),lg=sg,ig=te({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,o=n,{forwardRef:a,currentElement:s}=lt(),r=va(),l=sl(),i=j(!1);async function u(){const d=s.value;if(!t.disabled&&d){const c=new CustomEvent(Pp,{bubbles:!0,cancelable:!0});o("select",c),await st(),c.defaultPrevented?i.value=!1:r.onClose()}}return(d,c)=>($(),ne(lg,Ve(t,{ref:g(a),onClick:u,onPointerdown:c[0]||(c[0]=()=>{i.value=!0}),onPointerup:c[1]||(c[1]=async f=>{var p;await st(),!f.defaultPrevented&&(i.value||(p=f.currentTarget)==null||p.click())}),onKeydown:c[2]||(c[2]=async f=>{const p=g(l).searchRef.value!=="";d.disabled||p&&f.key===" "||g(Hr).includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}),{default:C(()=>[le(d.$slots,"default")]),_:3},16))}}),il=ig,ug=te({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=zt(t,o),s=Jo(),{forwardRef:r,currentElement:l}=lt();return rp(l),(i,u)=>($(),ne(ll,Ve(g(a),{ref:g(r),"trap-focus":g(s).open.value,"disable-outside-pointer-events":g(s).open.value,"disable-outside-scroll":!0,onDismiss:u[0]||(u[0]=d=>g(s).onOpenChange(!1)),onFocusOutside:u[1]||(u[1]=Vt(d=>o("focusOutside",d),["prevent"]))}),{default:C(()=>[le(i.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),dg=ug,cg=te({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=zt(e,n),s=Jo();return(r,l)=>($(),ne(ll,Ve(g(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:l[0]||(l[0]=i=>g(s).onOpenChange(!1))}),{default:C(()=>[le(r.$slots,"default")]),_:3},16))}}),fg=cg,pg=te({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=zt(e,n),s=Jo(),r=va();return(l,i)=>($(),ne(g(cp),{present:l.forceMount||g(s).open.value},{default:C(()=>[g(r).modal.value?($(),ne(dg,ot(Ve({key:0},{...l.$attrs,...g(a)})),{default:C(()=>[le(l.$slots,"default")]),_:3},16)):($(),ne(fg,ot(Ve({key:1},{...l.$attrs,...g(a)})),{default:C(()=>[le(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),ul=pg,gg=te({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const n=e;return(t,o)=>($(),ne(g(Ut),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),dl=gg,mg=te({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>($(),ne(g(kp),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),cl=mg,vg=te({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return(t,o)=>($(),ne(g(Ut),Ve(n,{role:"separator","aria-orientation":"horizontal"}),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),fl=vg;const[pl,hg]=Xt("ContextMenuRoot");var yg=te({inheritAttrs:!1,__name:"ContextMenuRoot",props:{pressOpenDelay:{type:Number,required:!1,default:700},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{dir:a,modal:s,pressOpenDelay:r}=ln(t);lt();const l=Qo(a),i=j(!1),u=j();return hg({open:i,onOpenChange:d=>{i.value=d},dir:l,modal:s,triggerElement:u,pressOpenDelay:r}),ze(i,d=>{o("update:open",d)}),(d,c)=>($(),ne(g(al),{open:i.value,"onUpdate:open":c[0]||(c[0]=f=>i.value=f),dir:g(l),modal:g(s)},{default:C(()=>[le(d.$slots,"default")]),_:3},8,["open","dir","modal"]))}}),bg=yg,xg=te({__name:"ContextMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1,default:0},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const a=zt(e,n);lt();const s=pl(),r=j(!1);return(l,i)=>($(),ne(g(ul),Ve(g(a),{side:"right","side-offset":2,align:"start","update-position-strategy":"always",style:{"--reka-context-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-context-menu-content-available-width":"var(--reka-popper-available-width)","--reka-context-menu-content-available-height":"var(--reka-popper-available-height)","--reka-context-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-context-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:i[0]||(i[0]=u=>{!u.defaultPrevented&&r.value&&u.preventDefault(),r.value=!1}),onInteractOutside:i[1]||(i[1]=u=>{u.detail.originalEvent.button===2&&u.target===g(s).triggerElement.value&&u.preventDefault(),!u.defaultPrevented&&!g(s).modal.value&&(r.value=!0)})}),{default:C(()=>[le(l.$slots,"default")]),_:3},16))}}),wg=xg,Sg=te({__name:"ContextMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,a=ma(n);return lt(),(s,r)=>($(),ne(g(il),ot(ut({...t,...g(a)})),{default:C(()=>[le(s.$slots,"default")]),_:3},16))}}),Cg=Sg,$g=te({__name:"ContextMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return lt(),(t,o)=>($(),ne(g(dl),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),Eg=$g,Rg=te({__name:"ContextMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>($(),ne(g(cl),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),Pg=Rg,Ig=te({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return lt(),(t,o)=>($(),ne(g(fl),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),Og=Ig;function Na(e){return e.pointerType!=="mouse"}var Dg=te({inheritAttrs:!1,__name:"ContextMenuTrigger",props:{disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const n=e,{disabled:t}=ln(n),{forwardRef:o,currentElement:a}=lt(),s=pl(),r=j({x:0,y:0}),l=re(()=>({getBoundingClientRect:()=>({width:0,height:0,left:r.value.x,right:r.value.x,top:r.value.y,bottom:r.value.y,...r.value})})),i=j(0);function u(){window.clearTimeout(i.value)}function d(m){r.value={x:m.clientX,y:m.clientY},s.onOpenChange(!0)}async function c(m){t.value||(await st(),m.defaultPrevented||(u(),d(m),m.preventDefault()))}async function f(m){t.value||(await st(),Na(m)&&!m.defaultPrevented&&(u(),i.value=window.setTimeout(()=>d(m),s.pressOpenDelay.value)))}async function p(m){t.value||(await st(),Na(m)&&!m.defaultPrevented&&u())}return Wt(()=>{a.value&&(s.triggerElement.value=a.value)}),(m,v)=>($(),k(He,null,[S(g(rl),{as:"template",reference:l.value},null,8,["reference"]),S(g(Ut),Ve({ref:g(o),as:m.as,"as-child":m.asChild,"data-state":g(s).open.value?"open":"closed","data-disabled":g(t)?"":void 0,style:{WebkitTouchCallout:"none",pointerEvents:"auto"}},m.$attrs,{onContextmenu:c,onPointerdown:f,onPointermove:p,onPointercancel:p,onPointerup:p}),{default:C(()=>[le(m.$slots,"default")]),_:3},16,["as","as-child","data-state","data-disabled"])],64))}}),Tg=Dg;const[gl,Mg]=Xt("DropdownMenuRoot");var Ag=te({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n;lt();const a=ga(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),s=j(),{modal:r,dir:l}=ln(t),i=Qo(l);return Mg({open:a,onOpenChange:u=>{a.value=u},onOpenToggle:()=>{a.value=!a.value},triggerId:"",triggerElement:s,contentId:"",modal:r,dir:i}),(u,d)=>($(),ne(g(al),{open:g(a),"onUpdate:open":d[0]||(d[0]=c=>oa(a)?a.value=c:null),dir:g(i),modal:g(r)},{default:C(()=>[le(u.$slots,"default",{open:g(a)})]),_:3},8,["open","dir","modal"]))}}),Fg=Ag,kg=te({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const a=zt(e,n);lt();const s=gl(),r=j(!1);function l(i){i.defaultPrevented||(r.value||setTimeout(()=>{var u;(u=s.triggerElement.value)==null||u.focus()},0),r.value=!1,i.preventDefault())}return s.contentId||(s.contentId=Qs(void 0,"reka-dropdown-menu-content")),(i,u)=>{var d;return $(),ne(g(ul),Ve(g(a),{id:g(s).contentId,"aria-labelledby":(d=g(s))==null?void 0:d.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:l,onInteractOutside:u[0]||(u[0]=c=>{var v;if(c.defaultPrevented)return;const f=c.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,m=f.button===2||p;(!g(s).modal.value||m)&&(r.value=!0),(v=g(s).triggerElement.value)!=null&&v.contains(c.target)&&c.preventDefault()})}),{default:C(()=>[le(i.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),Lg=kg,Ng=te({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,a=ma(n);return lt(),(s,r)=>($(),ne(g(il),ot(ut({...t,...g(a)})),{default:C(()=>[le(s.$slots,"default")]),_:3},16))}}),Vg=Ng,Bg=te({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return lt(),(t,o)=>($(),ne(g(dl),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),jg=Bg,zg=te({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>($(),ne(g(cl),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),Ug=zg,Gg=te({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return lt(),(t,o)=>($(),ne(g(fl),ot(ut(n)),{default:C(()=>[le(t.$slots,"default")]),_:3},16))}}),Hg=Gg,_g=te({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=gl(),{forwardRef:o,currentElement:a}=lt();return Wt(()=>{t.triggerElement=a}),t.triggerId||(t.triggerId=Qs(void 0,"reka-dropdown-menu-trigger")),(s,r)=>($(),ne(g(rl),{"as-child":""},{default:C(()=>[S(g(Ut),{id:g(t).triggerId,ref:g(o),type:s.as==="button"?"button":void 0,"as-child":n.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":g(t).open.value,"aria-controls":g(t).open.value?g(t).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":g(t).open.value?"open":"closed",onClick:r[0]||(r[0]=async l=>{var i;!s.disabled&&l.button===0&&l.ctrlKey===!1&&((i=g(t))==null||i.onOpenToggle(),await st(),g(t).open.value&&l.preventDefault())}),onKeydown:r[1]||(r[1]=ao(l=>{s.disabled||(["Enter"," "].includes(l.key)&&g(t).onOpenToggle(),l.key==="ArrowDown"&&g(t).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())},["enter","space","arrow-down"]))},{default:C(()=>[le(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),Kg=_g;const Wg=te({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const a=zt(e,n);return(s,r)=>($(),ne(g(Fg),ot(ut(g(a))),{default:C(()=>[le(s.$slots,"default")]),_:3},16))}});function ml(e){var n,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(n=0;n<a;n++)e[n]&&(t=ml(e[n]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function Xg(){for(var e,n,t=0,o="",a=arguments.length;t<a;t++)(e=arguments[t])&&(n=ml(e))&&(o&&(o+=" "),o+=n);return o}const Yg=(e,n)=>{const t=new Array(e.length+n.length);for(let o=0;o<e.length;o++)t[o]=e[o];for(let o=0;o<n.length;o++)t[e.length+o]=n[o];return t},qg=(e,n)=>({classGroupId:e,validator:n}),vl=(e=new Map,n=null,t)=>({nextPart:e,validators:n,classGroupId:t}),Fo="-",Va=[],Qg="arbitrary..",Jg=e=>{const n=em(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:r=>{if(r.startsWith("[")&&r.endsWith("]"))return Zg(r);const l=r.split(Fo),i=l[0]===""&&l.length>1?1:0;return hl(l,i,n)},getConflictingClassGroupIds:(r,l)=>{if(l){const i=o[r],u=t[r];return i?u?Yg(u,i):i:u||Va}return t[r]||Va}}},hl=(e,n,t)=>{if(e.length-n===0)return t.classGroupId;const a=e[n],s=t.nextPart.get(a);if(s){const u=hl(e,n+1,s);if(u)return u}const r=t.validators;if(r===null)return;const l=n===0?e.join(Fo):e.slice(n).join(Fo),i=r.length;for(let u=0;u<i;u++){const d=r[u];if(d.validator(l))return d.classGroupId}},Zg=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=e.slice(1,-1),t=n.indexOf(":"),o=n.slice(0,t);return o?Qg+o:void 0})(),em=e=>{const{theme:n,classGroups:t}=e;return tm(t,n)},tm=(e,n)=>{const t=vl();for(const o in e){const a=e[o];ha(a,t,o,n)}return t},ha=(e,n,t,o)=>{const a=e.length;for(let s=0;s<a;s++){const r=e[s];nm(r,n,t,o)}},nm=(e,n,t,o)=>{if(typeof e=="string"){om(e,n,t);return}if(typeof e=="function"){rm(e,n,t,o);return}am(e,n,t,o)},om=(e,n,t)=>{const o=e===""?n:yl(n,e);o.classGroupId=t},rm=(e,n,t,o)=>{if(sm(e)){ha(e(o),n,t,o);return}n.validators===null&&(n.validators=[]),n.validators.push(qg(t,e))},am=(e,n,t,o)=>{const a=Object.entries(e),s=a.length;for(let r=0;r<s;r++){const[l,i]=a[r];ha(i,yl(n,l),t,o)}},yl=(e,n)=>{let t=e;const o=n.split(Fo),a=o.length;for(let s=0;s<a;s++){const r=o[s];let l=t.nextPart.get(r);l||(l=vl(),t.nextPart.set(r,l)),t=l}return t},sm=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,lm=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,t=Object.create(null),o=Object.create(null);const a=(s,r)=>{t[s]=r,n++,n>e&&(n=0,o=t,t=Object.create(null))};return{get(s){let r=t[s];if(r!==void 0)return r;if((r=o[s])!==void 0)return a(s,r),r},set(s,r){s in t?t[s]=r:a(s,r)}}},Wr="!",Ba=":",im=[],ja=(e,n,t,o,a)=>({modifiers:e,hasImportantModifier:n,baseClassName:t,maybePostfixModifierPosition:o,isExternal:a}),um=e=>{const{prefix:n,experimentalParseClassName:t}=e;let o=a=>{const s=[];let r=0,l=0,i=0,u;const d=a.length;for(let v=0;v<d;v++){const y=a[v];if(r===0&&l===0){if(y===Ba){s.push(a.slice(i,v)),i=v+1;continue}if(y==="/"){u=v;continue}}y==="["?r++:y==="]"?r--:y==="("?l++:y===")"&&l--}const c=s.length===0?a:a.slice(i);let f=c,p=!1;c.endsWith(Wr)?(f=c.slice(0,-1),p=!0):c.startsWith(Wr)&&(f=c.slice(1),p=!0);const m=u&&u>i?u-i:void 0;return ja(s,p,f,m)};if(n){const a=n+Ba,s=o;o=r=>r.startsWith(a)?s(r.slice(a.length)):ja(im,!1,r,void 0,!0)}if(t){const a=o;o=s=>t({className:s,parseClassName:a})}return o},dm=e=>{const n=new Map;return e.orderSensitiveModifiers.forEach((t,o)=>{n.set(t,1e6+o)}),t=>{const o=[];let a=[];for(let s=0;s<t.length;s++){const r=t[s],l=r[0]==="[",i=n.has(r);l||i?(a.length>0&&(a.sort(),o.push(...a),a=[]),o.push(r)):a.push(r)}return a.length>0&&(a.sort(),o.push(...a)),o}},cm=e=>({cache:lm(e.cacheSize),parseClassName:um(e),sortModifiers:dm(e),...Jg(e)}),fm=/\s+/,pm=(e,n)=>{const{parseClassName:t,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:s}=n,r=[],l=e.trim().split(fm);let i="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:c,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}=t(d);if(c){i=d+(i.length>0?" "+i:i);continue}let y=!!v,b=o(y?m.substring(0,v):m);if(!b){if(!y){i=d+(i.length>0?" "+i:i);continue}if(b=o(m),!b){i=d+(i.length>0?" "+i:i);continue}y=!1}const x=f.length===0?"":f.length===1?f[0]:s(f).join(":"),E=p?x+Wr:x,P=E+b;if(r.indexOf(P)>-1)continue;r.push(P);const D=a(b,y);for(let M=0;M<D.length;++M){const Q=D[M];r.push(E+Q)}i=d+(i.length>0?" "+i:i)}return i},gm=(...e)=>{let n=0,t,o,a="";for(;n<e.length;)(t=e[n++])&&(o=bl(t))&&(a&&(a+=" "),a+=o);return a},bl=e=>{if(typeof e=="string")return e;let n,t="";for(let o=0;o<e.length;o++)e[o]&&(n=bl(e[o]))&&(t&&(t+=" "),t+=n);return t},mm=(e,...n)=>{let t,o,a,s;const r=i=>{const u=n.reduce((d,c)=>c(d),e());return t=cm(u),o=t.cache.get,a=t.cache.set,s=l,l(i)},l=i=>{const u=o(i);if(u)return u;const d=pm(i,t);return a(i,d),d};return s=r,(...i)=>s(gm(...i))},vm=[],it=e=>{const n=t=>t[e]||vm;return n.isThemeGetter=!0,n},xl=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wl=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hm=/^\d+\/\d+$/,ym=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cn=e=>hm.test(e),Oe=e=>!!e&&!Number.isNaN(Number(e)),Zt=e=>!!e&&Number.isInteger(Number(e)),gr=e=>e.endsWith("%")&&Oe(e.slice(0,-1)),Ht=e=>ym.test(e),Cm=()=>!0,$m=e=>bm.test(e)&&!xm.test(e),Sl=()=>!1,Em=e=>wm.test(e),Rm=e=>Sm.test(e),Pm=e=>!ie(e)&&!ue(e),Im=e=>Fn(e,El,Sl),ie=e=>xl.test(e),pn=e=>Fn(e,Rl,$m),mr=e=>Fn(e,Am,Oe),za=e=>Fn(e,Cl,Sl),Om=e=>Fn(e,$l,Rm),bo=e=>Fn(e,Pl,Em),ue=e=>wl.test(e),Nn=e=>kn(e,Rl),Dm=e=>kn(e,Fm),Ua=e=>kn(e,Cl),Tm=e=>kn(e,El),Mm=e=>kn(e,$l),xo=e=>kn(e,Pl,!0),Fn=(e,n,t)=>{const o=xl.exec(e);return o?o[1]?n(o[1]):t(o[2]):!1},kn=(e,n,t=!1)=>{const o=wl.exec(e);return o?o[1]?n(o[1]):t:!1},Cl=e=>e==="position"||e==="percentage",$l=e=>e==="image"||e==="url",El=e=>e==="length"||e==="size"||e==="bg-size",Rl=e=>e==="length",Am=e=>e==="number",Fm=e=>e==="family-name",Pl=e=>e==="shadow",km=()=>{const e=it("color"),n=it("font"),t=it("text"),o=it("font-weight"),a=it("tracking"),s=it("leading"),r=it("breakpoint"),l=it("container"),i=it("spacing"),u=it("radius"),d=it("shadow"),c=it("inset-shadow"),f=it("text-shadow"),p=it("drop-shadow"),m=it("blur"),v=it("perspective"),y=it("aspect"),b=it("ease"),x=it("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...P(),ue,ie],M=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto","contain","none"],A=()=>[ue,ie,i],w=()=>[Cn,"full","auto",...A()],R=()=>[Zt,"none","subgrid",ue,ie],F=()=>["auto",{span:["full",Zt,ue,ie]},Zt,ue,ie],Z=()=>[Zt,"auto",ue,ie],B=()=>["auto","min","max","fr",ue,ie],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...A()],ee=()=>[Cn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],X=()=>[e,ue,ie],Ee=()=>[...P(),Ua,za,{position:[ue,ie]}],ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],De=()=>["auto","cover","contain",Tm,Im,{size:[ue,ie]}],Pe=()=>[gr,Nn,pn],K=()=>["","none","full",u,ue,ie],q=()=>["",Oe,Nn,pn],ge=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Oe,gr,Ua,za],Ge=()=>["","none",m,ue,ie],J=()=>["none",Oe,ue,ie],I=()=>["none",Oe,ue,ie],H=()=>[Oe,ue,ie],Be=()=>[Cn,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ht],breakpoint:[Ht],color:[Cm],container:[Ht],"drop-shadow":[Ht],ease:["in","out","in-out"],font:[Pm],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ht],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ht],shadow:[Ht],spacing:["px",Oe],text:[Ht],"text-shadow":[Ht],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cn,ie,ue,y]}],container:["container"],columns:[{columns:[Oe,ie,ue,l]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Zt,"auto",ue,ie]}],basis:[{basis:[Cn,"full","auto",l,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,Cn,"auto","initial","none",ie]}],grow:[{grow:["",Oe,ue,ie]}],shrink:[{shrink:["",Oe,ue,ie]}],order:[{order:[Zt,"first","last","none",ue,ie]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[l,"screen",...ee()]}],"min-w":[{"min-w":[l,"screen","none",...ee()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[r]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",t,Nn,pn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ue,mr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gr,ie]}],"font-family":[{font:[Dm,ie,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ue,ie]}],"line-clamp":[{"line-clamp":[Oe,"none",ue,mr]}],leading:[{leading:[s,...A()]}],"list-image":[{"list-image":["none",ue,ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ue,ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",ue,pn]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Oe,"auto",ue,ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue,ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue,ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:ke()}],"bg-size":[{bg:De()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zt,ue,ie],radial:["",ue,ie],conic:[Zt,ue,ie]},Mm,Om]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:Pe()}],"gradient-via-pos":[{via:Pe()}],"gradient-to-pos":[{to:Pe()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,ue,ie]}],"outline-w":[{outline:["",Oe,Nn,pn]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",d,xo,bo]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",c,xo,bo]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Oe,pn]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",f,xo,bo]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Oe,ue,ie]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[ue,ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:ke()}],"mask-size":[{mask:De()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ue,ie]}],filter:[{filter:["","none",ue,ie]}],blur:[{blur:Ge()}],brightness:[{brightness:[Oe,ue,ie]}],contrast:[{contrast:[Oe,ue,ie]}],"drop-shadow":[{"drop-shadow":["","none",p,xo,bo]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Oe,ue,ie]}],"hue-rotate":[{"hue-rotate":[Oe,ue,ie]}],invert:[{invert:["",Oe,ue,ie]}],saturate:[{saturate:[Oe,ue,ie]}],sepia:[{sepia:["",Oe,ue,ie]}],"backdrop-filter":[{"backdrop-filter":["","none",ue,ie]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,ue,ie]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,ue,ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,ue,ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,ue,ie]}],"backdrop-invert":[{"backdrop-invert":["",Oe,ue,ie]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,ue,ie]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,ue,ie]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,ue,ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ue,ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",ue,ie]}],ease:[{ease:["linear","initial",b,ue,ie]}],delay:[{delay:[Oe,ue,ie]}],animate:[{animate:["none",x,ue,ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,ue,ie]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:I()}],"scale-x":[{"scale-x":I()}],"scale-y":[{"scale-y":I()}],"scale-z":[{"scale-z":I()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[ue,ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue,ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue,ie]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Oe,Nn,pn,mr]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Lm=mm(km);function Gt(...e){return Lm(Xg(e))}const Nm=te({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=dn(t,"class"),s=zt(a,o);return(r,l)=>($(),ne(g(Ug),null,{default:C(()=>[S(g(Lg),Ve(g(s),{class:g(Gt)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:C(()=>[le(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),vr=te({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const n=e,t=dn(n,"class"),o=lo(t);return(a,s)=>($(),ne(g(Vg),Ve(g(o),{class:g(Gt)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e.inset&&"pl-8",n.class)}),{default:C(()=>[le(a.$slots,"default")]),_:3},16,["class"]))}}),Vm=te({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const n=e,t=dn(n,"class"),o=lo(t);return(a,s)=>($(),ne(g(jg),Ve(g(o),{class:g(Gt)("px-2 py-1.5 text-sm font-semibold",e.inset&&"pl-8",n.class)}),{default:C(()=>[le(a.$slots,"default")]),_:3},16,["class"]))}}),Ga=te({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=dn(n,"class");return(o,a)=>($(),ne(g(Hg),Ve(g(t),{class:g(Gt)("-mx-1 my-1 h-px bg-muted",n.class)}),null,16,["class"]))}}),Bm=te({__name:"DropdownMenuShortcut",props:{class:{}},setup(e){const n=e;return(t,o)=>($(),k("span",{class:Ie(g(Gt)("ml-auto text-xs tracking-widest opacity-60",n.class))},[le(t.$slots,"default")],2))}}),jm=te({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=lo(e);return(o,a)=>($(),ne(g(Kg),Ve({class:"outline-none"},g(t)),{default:C(()=>[le(o.$slots,"default")]),_:3},16))}}),zm={class:"select-none truncate flex-1 text-left"},Um={key:0,class:"text-[10px] text-slate-400 font-mono shrink-0"},Gm={class:"text-xs"},Hm={class:"font-medium"},_m={class:"text-muted-foreground ml-1"},Km={class:"text-xs text-muted-foreground mt-0.5"},Wm={key:0},Xm={key:1},Ym={class:"font-mono text-slate-400 ml-1 font-normal"},qm=te({__name:"ColumnHeaderDropdown",props:{column:{},isOnlyColumn:{type:Boolean}},emits:["dragstart","edit","hide","delete"],setup(e){const n=e,t={text:"Aa",number:"#",date:"📅",bool:"☑"},o={text:"Текст",number:"Число",date:"Дата",bool:"Да/Нет"},a=re(()=>t[n.column.type]??n.column.type),s=re(()=>o[n.column.type]??n.column.type);return(r,l)=>($(),ne(g(Wg),null,{default:C(()=>[S(g(zs),{"delay-duration":500},{default:C(()=>[S(g(Br),null,{default:C(()=>[S(g(zr),{"as-child":""},{default:C(()=>[S(g(jm),{"as-child":""},{default:C(()=>[h("div",{class:"flex items-center gap-1 cursor-pointer group hover:bg-slate-50 -mx-2 px-2 py-1 rounded transition-colors w-full",draggable:"true",onDragstart:l[0]||(l[0]=i=>r.$emit("dragstart",i))},[S(g(Rs),{class:"w-3 h-3 text-slate-300 group-hover:text-slate-500 shrink-0"}),h("span",zm,Y(e.column.label),1),e.column.type!=="text"?($(),k("span",Um,Y(a.value),1)):ve("",!0),S(g(wd),{class:"w-3 h-3 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity shrink-0"})],32)]),_:1})]),_:1}),S(g(jr),{side:"top","side-offset":8},{default:C(()=>[h("p",Gm,[h("span",Hm,Y(e.column.label),1),h("span",_m,"("+Y(e.column.name)+")",1)]),h("p",Km,[ae(Y(s.value)+" ",1),e.column.required?($(),k("span",Wm," •  обязательное")):ve("",!0),e.column.searchable?($(),k("span",Xm," •  поиск")):ve("",!0)])]),_:1})]),_:1})]),_:1}),S(g(Nm),{align:"start",class:"w-52"},{default:C(()=>[S(g(Vm),{class:"text-xs"},{default:C(()=>[ae(' Столбец "'+Y(e.column.label)+'" ',1),h("span",Ym,Y(e.column.name),1)]),_:1}),S(g(Ga)),S(g(vr),{onClick:l[1]||(l[1]=i=>r.$emit("edit"))},{default:C(()=>[S(g(bs),{class:"w-4 h-4 mr-2"}),l[4]||(l[4]=ae(" Настройки столбца ",-1))]),_:1}),S(g(vr),{onClick:l[2]||(l[2]=i=>r.$emit("hide"))},{default:C(()=>[S(g(Ss),{class:"w-4 h-4 mr-2"}),l[6]||(l[6]=ae(" Скрыть столбец ",-1)),S(g(Bm),null,{default:C(()=>[...l[5]||(l[5]=[ae("H",-1)])]),_:1})]),_:1}),S(g(Ga)),S(g(vr),{disabled:e.isOnlyColumn,class:"text-red-600 focus:text-red-600 focus:bg-red-50",onClick:l[3]||(l[3]=i=>r.$emit("delete"))},{default:C(()=>[S(g(Dn),{class:"w-4 h-4 mr-2"}),l[7]||(l[7]=ae(" Удалить столбец ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1}))}}),Qm=te({__name:"ContextMenu",props:{pressOpenDelay:{},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const a=zt(e,n);return(s,r)=>($(),ne(g(bg),ot(ut(g(a))),{default:C(()=>[le(s.$slots,"default")]),_:3},16))}}),Jm=te({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideFlip:{type:Boolean},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},hideShiftedArrow:{type:Boolean},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=dn(t,"class"),s=zt(a,o);return(r,l)=>($(),ne(g(Pg),null,{default:C(()=>[S(g(wg),Ve(g(s),{class:g(Gt)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:C(()=>[le(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),hr=te({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(e,{emit:n}){const t=e,o=n,a=dn(t,"class"),s=zt(a,o);return(r,l)=>($(),ne(g(Cg),Ve(g(s),{class:g(Gt)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.inset&&"pl-8",t.class)}),{default:C(()=>[le(r.$slots,"default")]),_:3},16,["class"]))}}),Zm=te({__name:"ContextMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){const n=e,t=dn(n,"class");return(o,a)=>($(),ne(g(Eg),Ve(g(t),{class:g(Gt)("px-2 py-1.5 text-sm font-semibold text-foreground",e.inset&&"pl-8",n.class)}),{default:C(()=>[le(o.$slots,"default")]),_:3},16,["class"]))}}),Ha=te({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,t=dn(n,"class");return(o,a)=>($(),ne(g(Og),Ve(g(t),{class:g(Gt)("-mx-1 my-1 h-px bg-border",n.class)}),null,16,["class"]))}}),yr=te({__name:"ContextMenuShortcut",props:{class:{}},setup(e){const n=e;return(t,o)=>($(),k("span",{class:Ie(g(Gt)("ml-auto text-xs tracking-widest text-muted-foreground",n.class))},[le(t.$slots,"default")],2))}}),ev=te({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=lo(e);return(o,a)=>($(),ne(g(Tg),ot(ut(g(t))),{default:C(()=>[le(o.$slots,"default")]),_:3},16))}}),tv=e=>{const{delay:n=500,onLongPress:t}=e,o=j(null),a=j(!1),s=i=>{a.value=!1,o.value=setTimeout(()=>{a.value=!0,t()},n)},r=()=>{o.value&&(clearTimeout(o.value),o.value=null)},l=i=>{a.value&&i.preventDefault(),r(),a.value=!1};return Mn(r),{onTouchstart:s,onTouchend:l,onTouchmove:r,onTouchcancel:r,isLongPressing:a}},nv={class:"py-2 space-y-1"},ov=te({__name:"RowContextMenu",emits:["edit","duplicate","delete"],setup(e,{emit:n}){const t=n,o=j(!1),{onTouchstart:a,onTouchend:s,onTouchmove:r,onTouchcancel:l}=tv({delay:500,onLongPress:()=>{o.value=!0}}),i=re(()=>({onTouchstart:a,onTouchend:s,onTouchmove:r,onTouchcancel:l}));return(u,d)=>($(),k(He,null,[S(g(Qm),null,{default:C(()=>[S(g(ev),{"as-child":""},{default:C(()=>[h("div",Ve(i.value,{class:"contents"}),[le(u.$slots,"default")],16)]),_:3}),S(g(Jm),{class:"w-56"},{default:C(()=>[S(g(Zm),{class:"text-xs"},{default:C(()=>[...d[7]||(d[7]=[ae("Действия с записью",-1)])]),_:1}),S(g(Ha)),S(g(hr),{onClick:d[0]||(d[0]=c=>t("edit"))},{default:C(()=>[S(g(Tr),{class:"w-4 h-4 mr-2"}),d[9]||(d[9]=ae(" Редактировать ",-1)),S(g(yr),null,{default:C(()=>[...d[8]||(d[8]=[ae("Enter",-1)])]),_:1})]),_:1}),S(g(hr),{onClick:d[1]||(d[1]=c=>t("duplicate"))},{default:C(()=>[S(g(Ra),{class:"w-4 h-4 mr-2"}),d[11]||(d[11]=ae(" Дублировать ",-1)),S(g(yr),null,{default:C(()=>[...d[10]||(d[10]=[ae("Ctrl+D",-1)])]),_:1})]),_:1}),S(g(Ha)),S(g(hr),{class:"text-red-600 focus:text-red-600 focus:bg-red-50",onClick:d[2]||(d[2]=c=>t("delete"))},{default:C(()=>[S(g(Dn),{class:"w-4 h-4 mr-2"}),d[13]||(d[13]=ae(" Удалить ",-1)),S(g(yr),null,{default:C(()=>[...d[12]||(d[12]=[ae("Del",-1)])]),_:1})]),_:1})]),_:1})]),_:3}),S(g(_o),{open:o.value,"onUpdate:open":d[6]||(d[6]=c=>o.value=c)},{default:C(()=>[S(g(Ko),{side:"bottom","class-name":"rounded-t-2xl"},{default:C(()=>[S(g(Wo),null,{default:C(()=>[S(g(Xo),{class:"text-sm"},{default:C(()=>[...d[14]||(d[14]=[ae("Действия с записью",-1)])]),_:1})]),_:1}),h("div",nv,[h("button",{onClick:d[3]||(d[3]=c=>{o.value=!1,t("edit")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition-colors"},[S(g(Tr),{class:"w-5 h-5 text-slate-500"}),d[15]||(d[15]=ae(" Редактировать ",-1))]),h("button",{onClick:d[4]||(d[4]=c=>{o.value=!1,t("duplicate")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition-colors"},[S(g(Ra),{class:"w-5 h-5 text-slate-500"}),d[16]||(d[16]=ae(" Дублировать ",-1))]),d[18]||(d[18]=h("div",{class:"border-t border-slate-100 my-1"},null,-1)),h("button",{onClick:d[5]||(d[5]=c=>{o.value=!1,t("delete")}),class:"flex items-center gap-3 w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors"},[S(g(Dn),{class:"w-5 h-5"}),d[17]||(d[17]=ae(" Удалить ",-1))])])]),_:1})]),_:1},8,["open"])],64))}}),rv={class:"flex items-center justify-between"},av={class:"flex-1 overflow-y-auto p-6 space-y-6"},sv={class:"flex items-center gap-1.5 text-sm font-medium text-slate-700"},lv={key:0,class:"text-red-500 text-xs"},iv={class:"text-xs text-slate-400 font-mono ml-auto"},uv={key:0,class:"mt-1 flex items-center gap-3 cursor-pointer px-3 py-2 rounded-md border border-slate-200 hover:border-slate-300 transition-all"},dv=["checked","onChange"],cv={class:"text-sm text-slate-700"},fv=["onUpdate:modelValue","placeholder"],pv=["onUpdate:modelValue","placeholder"],gv=["onUpdate:modelValue"],mv=["onUpdate:modelValue","placeholder"],vv={key:0,class:"text-center py-8 text-slate-400 text-sm"},hv={class:"flex-shrink-0 border-t border-slate-200 bg-white px-6 py-3"},yv={class:"flex items-center justify-between"},bv={key:0,class:"text-xs text-green-600"},xv={key:1},wv={class:"flex items-center gap-2"},Sv=["disabled"],Cv=te({__name:"AddRowSheet",props:{open:{type:Boolean},columns:{},saving:{type:Boolean}},emits:["update:open","save"],setup(e,{emit:n}){const t=e,o=n,a=j({}),s=j(0),r=j({}),l=re(()=>Object.values(a.value).some(y=>y!=null&&y!==""&&y!==!1)),i=y=>so(y),u=(y,b)=>Gs(y,b),d=(y,b)=>{r.value[y]=b},c=()=>{const y={};t.columns.forEach(b=>{y[b.name]=b.type==="bool"?!1:""}),a.value=y},f=()=>{st(()=>{var b;const y=t.columns.find(x=>x.type!=="bool");y&&r.value[y.name]&&((b=r.value[y.name])==null||b.focus())})},p=()=>{if(!l.value||t.saving)return;const y={};Object.entries(a.value).forEach(([b,x])=>{x!==""&&x!==null&&x!==void 0&&(y[b]=x)}),o("save",y),s.value++,c(),f()},m=()=>{o("update:open",!1)},v=y=>{y.shiftKey||(y.preventDefault(),p())};return ze(()=>t.open,y=>{y&&(s.value=0,c(),f())}),(y,b)=>($(),ne(g(_o),{open:e.open,"onUpdate:open":b[0]||(b[0]=x=>!x&&m())},{default:C(()=>[S(g(Ko),{side:"right","class-name":"max-w-4xl flex flex-col"},{default:C(()=>[S(g(Wo),null,{default:C(()=>[h("div",rv,[S(g(Xo),null,{default:C(()=>[...b[1]||(b[1]=[ae("Новая запись",-1)])]),_:1}),S(g(la))]),b[2]||(b[2]=h("p",{class:"text-sm text-slate-500 mt-1"}," Заполните поля и нажмите «Сохранить». Форма останется открытой для добавления следующей записи. ",-1))]),_:1}),h("div",av,[($(!0),k(He,null,Xe(e.columns,x=>($(),k("div",{key:x.name},[h("label",sv,[ae(Y(x.label)+" ",1),x.required?($(),k("span",lv,"*")):ve("",!0),h("span",iv,Y(x.name),1)]),x.type==="bool"?($(),k("label",uv,[h("input",{checked:!!a.value[x.name],onChange:E=>a.value[x.name]=E.target.checked,type:"checkbox",class:"w-5 h-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,dv),h("span",cv,Y(a.value[x.name]?"Да":"Нет"),1)])):x.type==="text"&&i(x.name)?Ne(($(),k("textarea",{key:1,ref_for:!0,ref:E=>d(x.name,E),"onUpdate:modelValue":E=>a.value[x.name]=E,placeholder:u(x.name,x.label),rows:"4",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,8,fv)),[[qe,a.value[x.name]]]):x.type==="number"?Ne(($(),k("input",{key:2,ref_for:!0,ref:E=>d(x.name,E),"onUpdate:modelValue":E=>a.value[x.name]=E,type:"number",step:"any",placeholder:u(x.name,x.label),class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,8,pv)),[[qe,a.value[x.name],void 0,{number:!0}]]):x.type==="date"?Ne(($(),k("input",{key:3,ref_for:!0,ref:E=>d(x.name,E),"onUpdate:modelValue":E=>a.value[x.name]=E,type:"date",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,8,gv)),[[qe,a.value[x.name]]]):Ne(($(),k("input",{key:4,ref_for:!0,ref:E=>d(x.name,E),"onUpdate:modelValue":E=>a.value[x.name]=E,type:"text",placeholder:u(x.name,x.label),class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",onKeydown:ao(v,["enter"])},null,40,mv)),[[qe,a.value[x.name]]])]))),128)),e.columns.length===0?($(),k("div",vv," Нет столбцов. Сначала добавьте столбцы в справочник. ")):ve("",!0)]),h("div",hv,[h("div",yv,[s.value>0?($(),k("p",bv," Добавлено записей за сессию: "+Y(s.value),1)):($(),k("span",xv)),h("div",wv,[h("button",{onClick:m,class:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-md transition-colors"}," Закрыть "),h("button",{onClick:p,class:"px-5 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5",disabled:!l.value||e.saving},[e.saving?($(),ne(g(un),{key:0,class:"w-3.5 h-3.5 animate-spin"})):ve("",!0),ae(" "+Y(e.saving?"Сохранение...":"Сохранить"),1)],8,Sv)])])])]),_:1})]),_:1},8,["open"]))}}),$v={class:"flex items-center justify-between"},Ev={class:"flex-1 overflow-y-auto p-6 space-y-6"},Rv={class:"flex items-center gap-1.5 text-sm font-medium text-slate-700"},Pv={key:0,class:"text-red-500 text-xs"},Iv={class:"text-xs text-slate-400 font-mono ml-auto"},Ov={key:0,class:"mt-1 flex items-center gap-3 cursor-pointer px-3 py-2 rounded-md border border-slate-200 hover:border-slate-300 transition-all"},Dv=["checked","onChange"],Tv={class:"text-sm text-slate-700"},Mv=["onUpdate:modelValue","placeholder"],Av=["onUpdate:modelValue","placeholder"],Fv=["onUpdate:modelValue"],kv=["onUpdate:modelValue","placeholder"],Lv={key:0,class:"text-center py-8 text-slate-400 text-sm"},Nv={key:1,class:"text-sm text-red-600"},Vv={class:"flex-shrink-0 border-t border-slate-200 bg-white px-6 py-3"},Bv={class:"flex items-center justify-end gap-2"},jv=["disabled"],zv=te({__name:"EditRowSheet",props:{open:{type:Boolean},columns:{},item:{},saving:{type:Boolean}},emits:["update:open","save"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=j({}),r=j({}),l=j(""),i=re(()=>o.columns.some(v=>{const y=s.value[v.name]??"",b=r.value[v.name]??"";return String(y)!==String(b)})),u=v=>so(v),d=(v,y)=>Gs(v,y),c=()=>{if(!o.item)return;const v={},y={};o.columns.forEach(b=>{const x=o.item.data[b.name];v[b.name]=x??(b.type==="bool"?!1:""),y[b.name]=x??(b.type==="bool"?!1:"")}),s.value=v,r.value=y},f=()=>{if(!i.value||o.saving||!o.item)return;l.value="";const v={};o.columns.forEach(y=>{const b=s.value[y.name];v[y.name]=b===""?null:b}),a("save",o.item.id,v)},p=()=>{l.value="",a("update:open",!1)},m=v=>{v.shiftKey||(v.preventDefault(),f())};return ze(()=>o.open,v=>{v&&o.item&&(l.value="",c())}),n({setError:v=>{l.value=v}}),(v,y)=>($(),ne(g(_o),{open:e.open,"onUpdate:open":y[0]||(y[0]=b=>!b&&p())},{default:C(()=>[S(g(Ko),{side:"right","class-name":"max-w-4xl flex flex-col"},{default:C(()=>[S(g(Wo),null,{default:C(()=>[h("div",$v,[S(g(Xo),null,{default:C(()=>[...y[1]||(y[1]=[ae("Редактирование записи",-1)])]),_:1}),S(g(la))])]),_:1}),h("div",Ev,[($(!0),k(He,null,Xe(e.columns,b=>($(),k("div",{key:b.name},[h("label",Rv,[ae(Y(b.label)+" ",1),b.required?($(),k("span",Pv,"*")):ve("",!0),h("span",Iv,Y(b.name),1)]),b.type==="bool"?($(),k("label",Ov,[h("input",{checked:!!s.value[b.name],onChange:x=>s.value[b.name]=x.target.checked,type:"checkbox",class:"w-5 h-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,Dv),h("span",Tv,Y(s.value[b.name]?"Да":"Нет"),1)])):b.type==="text"&&u(b.name)?Ne(($(),k("textarea",{key:1,"onUpdate:modelValue":x=>s.value[b.name]=x,placeholder:d(b.name,b.label),rows:"4",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,8,Mv)),[[qe,s.value[b.name]]]):b.type==="number"?Ne(($(),k("input",{key:2,"onUpdate:modelValue":x=>s.value[b.name]=x,type:"number",step:"any",placeholder:d(b.name,b.label),class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,8,Av)),[[qe,s.value[b.name],void 0,{number:!0}]]):b.type==="date"?Ne(($(),k("input",{key:3,"onUpdate:modelValue":x=>s.value[b.name]=x,type:"date",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,8,Fv)),[[qe,s.value[b.name]]]):Ne(($(),k("input",{key:4,"onUpdate:modelValue":x=>s.value[b.name]=x,type:"text",placeholder:d(b.name,b.label),class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",onKeydown:ao(m,["enter"])},null,40,kv)),[[qe,s.value[b.name]]])]))),128)),e.columns.length===0?($(),k("div",Lv," Нет столбцов для редактирования. ")):ve("",!0),l.value?($(),k("p",Nv,Y(l.value),1)):ve("",!0)]),h("div",Vv,[h("div",Bv,[h("button",{onClick:p,class:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-md transition-colors"}," Отмена "),h("button",{onClick:f,class:"px-5 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5",disabled:!i.value||e.saving},[e.saving?($(),ne(g(un),{key:0,class:"w-3.5 h-3.5 animate-spin"})):ve("",!0),ae(" "+Y(e.saving?"Сохранение...":"Сохранить"),1)],8,jv)])])]),_:1})]),_:1},8,["open"]))}}),Uv={class:"space-y-4"},Gv={class:"flex items-center justify-between gap-4"},Hv={class:"flex items-center gap-3 min-w-0"},_v={class:"min-w-0"},Kv={class:"text-lg font-bold text-slate-900 truncate"},Wv={class:"text-xs text-slate-500"},Xv={class:"font-mono text-slate-400"},Yv={key:0,class:"flex items-center justify-between gap-4 flex-wrap"},qv={class:"text-xs text-slate-400 flex items-center gap-1.5"},Qv={class:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-slate-100 rounded text-slate-500"},Jv={class:"flex items-center gap-2"},Zv=["disabled"],eh=["disabled"],th={key:1,class:"flex justify-center py-12"},nh={key:2,class:"shadow-sm"},oh={class:"text-xs font-semibold text-slate-500 uppercase tracking-wide"},rh={class:"flex flex-col items-center"},ah={class:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mb-3"},sh={key:3,class:"bg-background rounded-md border border-border p-8 text-center"},lh={class:"text-slate-500"},ih={key:4,class:"shadow-sm"},uh={class:"flex items-center justify-center gap-1 h-full"},dh=["checked","indeterminate"],ch=["onMousedown","onTouchstart","onDblclick"],fh={class:"flex justify-center"},ph={class:"flex items-center justify-center gap-1 h-full"},gh=["onClick"],mh=["checked","onChange"],vh={class:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},hh=["onClick"],yh={key:0,class:"flex items-center justify-between px-4 py-3 border-t border-slate-100 bg-slate-50"},bh={class:"text-sm text-slate-500"},xh={class:"flex items-center gap-1"},wh=["disabled"],Sh=["onClick"],Ch=["disabled"],$h=50,Eh=te({__name:"DirectoryDetail",props:{directory:{},items:{},loading:{type:Boolean},onUpdateItem:{type:Function}},emits:["back","settings","import","export","update","create","delete","deleteSelected","addColumn","deleteColumn","updateColumns"],setup(e,{emit:n}){const t=e,o=n,a=j(null),s=j(""),r=j(""),l=j(!1),i=j(null),u=j([]),d=j([]),c=j(new Set),f=j(!1),p=j(!1),m=j(!1),v=j(null),y=j(!1),b=j(""),x=j({}),E=re(()=>t.directory.columns||[]),P=re(()=>E.value.filter(L=>!c.value.has(L.name))),D=j([]),M=j(null),Q=j(null);ze(()=>t.directory.columns,L=>{if(L&&L.length>0){const G=D.value.filter(pe=>L.some(O=>O.name===pe)),W=L.map(pe=>pe.name).filter(pe=>!G.includes(pe));D.value=[...G,...W]}},{immediate:!0});const A=re(()=>{const L=P.value;return D.value.length===0?L:D.value.map(G=>L.find(W=>W.name===G)).filter(G=>G!==void 0)}),w=L=>L.type==="bool"?80:L.type==="number"?100:L.type==="date"?120:so(L.name)?200:140,R=re(()=>A.value.map(L=>({id:L.name,accessorFn:G=>G.data[L.name],header:L.label,meta:L,filterFn:"includesString",size:w(L),minSize:40,maxSize:500}))),F=sf({get data(){return t.items},get columns(){return R.value},state:{get globalFilter(){return b.value},get rowSelection(){return x.value}},onGlobalFilterChange:L=>{b.value=typeof L=="function"?L(b.value):L},onRowSelectionChange:L=>{x.value=typeof L=="function"?L(x.value):L},columnResizeMode:"onChange",getCoreRowModel:Qc(),getFilteredRowModel:nf(),getPaginationRowModel:of(),getRowId:L=>L.id,globalFilterFn:(L,G,W)=>{const pe=String(W).toLowerCase();return E.value.some(O=>{const T=L.original.data[O.name];return T&&String(T).toLowerCase().includes(pe)})},initialState:{pagination:{pageSize:10}}}),Z=re(()=>Object.keys(x.value).filter(L=>x.value[L])),B=re(()=>Ts(t.directory.items_count,["запись","записи","записей"])),z=L=>uf(L.type,L.name),U=L=>{var G;return((G=F.getColumn(L))==null?void 0:G.getSize())??140},V=L=>{L.column.resetSize()},ee=re(()=>{const L=[],G=F.getPageCount(),W=F.getState().pagination.pageIndex+1;if(G<=5)for(let pe=1;pe<=G;pe++)L.push(pe);else W<=3?L.push(1,2,3,4,5):W>=G-2?L.push(G-4,G-3,G-2,G-1,G):L.push(W-2,W-1,W,W+1,W+2);return L}),X=(L,G)=>{M.value=G,L.dataTransfer&&(L.dataTransfer.effectAllowed="move",L.dataTransfer.setData("text/plain",String(G)))},Ee=(L,G)=>{L.preventDefault(),L.dataTransfer&&(L.dataTransfer.dropEffect="move")},ke=()=>{},De=(L,G)=>{if(L.preventDefault(),M.value===null||M.value===G){Pe();return}const W=[...D.value],[pe]=W.splice(M.value,1);W.splice(G,0,pe),D.value=W,Pe()},Pe=()=>{M.value=null,Q.value=null},K=()=>{a.value&&J(),f.value=!0},q=async L=>{if(!p.value){p.value=!0;try{o("create",L),await new Promise(G=>setTimeout(G,200))}finally{p.value=!1}}},ge=L=>{a.value&&J(),v.value=L,m.value=!0},me=async(L,G)=>{y.value=!0;try{t.onUpdateItem?await t.onUpdateItem(L,G):o("update",L,G),m.value=!1}finally{y.value=!1}},ce=(L,G)=>{var W,pe;return((W=a.value)==null?void 0:W.itemId)===L&&((pe=a.value)==null?void 0:pe.colName)===G},Ge=(L,G)=>{i.value&&(clearTimeout(i.value),i.value=null),a.value&&I(!0),a.value={itemId:L.id,colName:G.name};const W=L.data[G.name];s.value=W??"",r.value=W??""},J=()=>{a.value=null,s.value="",r.value=""},I=async(L=!1)=>{if(!a.value||l.value)return;const{itemId:G,colName:W}=a.value,pe=s.value;if(pe===r.value){L&&J();return}const O=t.items.find(se=>se.id===G);if(!O){L&&J();return}const T=pe===""?null:pe,N={...O.data,[W]:T},_=r.value;l.value=!0;try{t.onUpdateItem?await t.onUpdateItem(G,N):o("update",G,N),yt({itemId:G,colName:W,oldValue:_,newValue:T,timestamp:Date.now()})}finally{l.value=!1}L&&J()},H=()=>{i.value&&clearTimeout(i.value);const L=a.value?{...a.value}:null;i.value=setTimeout(()=>{i.value=null,a.value&&L&&a.value.itemId===L.itemId&&a.value.colName===L.colName&&I(!0)},150)},Be=async(L,G,W,pe,O)=>{if(L.key==="Escape"){L.preventDefault(),J();return}if(L.key==="Enter"&&!L.shiftKey){L.preventDefault(),await I(!0);return}L.key==="Tab"&&(L.preventDefault(),await I(!0),st(()=>{const T=A.value,N=F.getRowModel().rows;let _=L.shiftKey?O-1:O+1,se=pe;if(_>=T.length?(_=0,se=pe+1):_<0&&(_=T.length-1,se=pe-1),se>=0&&se<N.length){const he=N[se].original,Ce=T[_];he&&Ce&&Ge(he,Ce)}}))},Qe=L=>{o("settings")},Ae=L=>{c.value.add(L.name)},rt=()=>{c.value.clear()},ht=L=>{E.value.length<=1||o("deleteColumn",L.name)},yt=L=>{u.value.push(L),u.value.length>$h&&u.value.shift(),d.value=[]},cn=re(()=>u.value.length>0),wn=re(()=>d.value.length>0),bt=async()=>{const L=u.value.pop();if(!L)return;d.value.push(L);const G=t.items.find(pe=>pe.id===L.itemId);if(!G)return;const W={...G.data,[L.colName]:L.oldValue};t.onUpdateItem?await t.onUpdateItem(L.itemId,W):o("update",L.itemId,W)},Mt=async()=>{const L=d.value.pop();if(!L)return;u.value.push(L);const G=t.items.find(pe=>pe.id===L.itemId);if(!G)return;const W={...G.data,[L.colName]:L.newValue};t.onUpdateItem?await t.onUpdateItem(L.itemId,W):o("update",L.itemId,W)},Qt=L=>{const G=A.value[0];G&&Ge(L,G)},fn=L=>{o("create",{...L.data})},Jt=L=>{const G=L.ctrlKey||L.metaKey;if(G&&L.key==="z"&&!L.shiftKey){cn.value&&(L.preventDefault(),bt());return}if(G&&L.key==="z"&&L.shiftKey||G&&L.key==="y"){wn.value&&(L.preventDefault(),Mt());return}if(G&&L.key==="n"&&!f.value&&!a.value){L.preventDefault(),K();return}if((L.key==="Delete"||L.key==="Backspace")&&!a.value&&!f.value){const W=Z.value;W.length>0&&(L.preventDefault(),o("deleteSelected",W))}};return Wt(()=>{window.addEventListener("keydown",Jt)}),Mn(()=>{window.removeEventListener("keydown",Jt),i.value&&clearTimeout(i.value)}),ze(()=>t.items,()=>{x.value={}},{deep:!0}),ze(()=>F.getState().pagination.pageIndex,()=>{J()}),(L,G)=>($(),k("div",Uv,[h("div",Gv,[h("div",Hv,[h("button",{onClick:G[0]||(G[0]=W=>L.$emit("back")),class:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors text-sm font-medium"},[S(g(Mr),{class:"w-4 h-4"}),G[14]||(G[14]=h("span",null,"Все справочники",-1))]),G[16]||(G[16]=h("div",{class:"w-px h-6 bg-slate-200"},null,-1)),h("div",_v,[h("h3",Kv,Y(e.directory.name),1),h("p",Wv,[h("span",Xv,Y(e.directory.tool_name),1),G[15]||(G[15]=h("span",{class:"mx-1.5"},"•",-1)),h("span",null,Y(e.directory.items_count)+" "+Y(B.value),1)])])]),h("button",{onClick:G[1]||(G[1]=W=>L.$emit("settings")),class:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors text-sm font-medium"},[S(g(Tr),{class:"w-4 h-4"}),G[17]||(G[17]=h("span",null,"Редактировать",-1))])]),S(bf,{"add-disabled":!1,"has-items":e.items.length>0,"selected-count":Object.keys(x.value).length,"search-query":b.value,onAddRow:K,onImport:G[2]||(G[2]=W=>L.$emit("import")),onExport:G[3]||(G[3]=W=>L.$emit("export")),onDeleteSelected:G[4]||(G[4]=W=>L.$emit("deleteSelected",Z.value)),"onUpdate:searchQuery":G[5]||(G[5]=W=>b.value=W)},null,8,["has-items","selected-count","search-query"]),e.items.length>0?($(),k("div",Yv,[h("p",qv,[h("span",Qv,[S(g(Fd),{class:"w-3 h-3"}),G[18]||(G[18]=ae(" Клик ",-1))]),G[19]||(G[19]=ta(' редактирование <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Tab</span> далее <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Enter</span> сохранить <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">Esc</span> отмена <span class="mx-0.5">•</span><span class="px-1.5 py-0.5 bg-slate-100 rounded text-slate-500 font-mono text-[10px]">ПКМ</span> меню ',13))]),h("div",Jv,[c.value.size>0?($(),k("button",{key:0,onClick:rt,class:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded-lg transition-colors"},[S(g(Ss),{class:"w-3 h-3"}),ae(" "+Y(c.value.size)+" скрыто ",1),S(g(Ho),{class:"w-3 h-3 ml-0.5"})])):ve("",!0),S(g(zs),{"delay-duration":300},{default:C(()=>[S(g(Br),null,{default:C(()=>[S(g(zr),{"as-child":""},{default:C(()=>[h("button",{onClick:bt,disabled:!cn.value,class:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed"},[S(g(Nd),{class:"w-3.5 h-3.5"})],8,Zv)]),_:1}),S(g(jr),{side:"bottom"},{default:C(()=>[...G[20]||(G[20]=[h("p",{class:"text-xs"},[ae("Отменить "),h("kbd",{class:"ml-1 px-1 py-0.5 bg-slate-700 rounded text-[10px]"},"Ctrl+Z")],-1)])]),_:1})]),_:1}),S(g(Br),null,{default:C(()=>[S(g(zr),{"as-child":""},{default:C(()=>[h("button",{onClick:Mt,disabled:!wn.value,class:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed"},[S(g(kd),{class:"w-3.5 h-3.5"})],8,eh)]),_:1}),S(g(jr),{side:"bottom"},{default:C(()=>[...G[21]||(G[21]=[h("p",{class:"text-xs"},[ae("Повторить "),h("kbd",{class:"ml-1 px-1 py-0.5 bg-slate-700 rounded text-[10px]"},"Ctrl+Shift+Z")],-1)])]),_:1})]),_:1})]),_:1})])])):ve("",!0),e.loading?($(),k("div",th,[S(g(un),{class:"w-8 h-8 animate-spin text-indigo-600"})])):e.items.length===0&&!b.value?($(),k("div",nh,[S(g(Xn),null,{default:C(()=>[S(g(Yn),null,{default:C(()=>[S(g(pt),null,{default:C(()=>[S(g(et),{class:"w-12"}),($(!0),k(He,null,Xe(A.value,W=>($(),ne(g(et),{key:W.name,style:hn({minWidth:z(W)})},{default:C(()=>[h("span",oh,Y(W.label),1)]),_:2},1032,["style"]))),128)),S(g(et),{"class-name":"w-16"})]),_:1})]),_:1}),S(g(qn),null,{default:C(()=>[S(g(pt),null,{default:C(()=>[S(g(Te),{"class-name":"text-center py-12",colspan:A.value.length+2},{default:C(()=>[h("div",rh,[h("div",ah,[S(g(Sd),{class:"h-6 w-6 text-slate-400"})]),G[22]||(G[22]=h("p",{class:"text-sm font-medium text-slate-900"},"Записей пока нет",-1)),G[23]||(G[23]=h("p",{class:"text-xs text-slate-500 mt-1 mb-4"},"Добавьте первую запись",-1)),h("button",{onClick:K,class:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Добавить запись ")])]),_:1},8,["colspan"])]),_:1})]),_:1})]),_:1})])):g(F).getRowModel().rows.length===0&&b.value?($(),k("div",sh,[h("p",lh,'Ничего не найдено по запросу "'+Y(b.value)+'"',1)])):g(F).getRowModel().rows.length>0?($(),k("div",ih,[S(g(Xn),{style:hn({width:`${g(F).getTotalSize()+56}px`,minWidth:"100%"})},{default:C(()=>[S(g(Yn),null,{default:C(()=>[S(g(pt),null,{default:C(()=>[S(g(et),{"class-name":"w-14 !px-0"},{default:C(()=>[h("div",uh,[G[24]||(G[24]=h("span",{class:"w-[26px] shrink-0"},null,-1)),h("input",{type:"checkbox",checked:g(F).getIsAllPageRowsSelected(),indeterminate:g(F).getIsSomePageRowsSelected(),onChange:G[6]||(G[6]=W=>g(F).toggleAllPageRowsSelected()),class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,dh)])]),_:1}),($(!0),k(He,null,Xe(g(F).getHeaderGroups()[0].headers.filter(W=>W.id!=="select"&&W.id!=="actions"),W=>($(),ne(g(et),{key:W.id,onDragover:Vt(pe=>Ee(pe,W.index-1),["prevent"]),onDragenter:Vt(pe=>Q.value=W.index-1,["prevent"]),onDragleave:ke,onDrop:pe=>De(pe,W.index-1),onDragend:Pe,"class-name":`relative select-none ${Q.value===W.index-1&&M.value!==W.index-1?"bg-indigo-100":""} ${M.value===W.index-1?"opacity-50":""}`,style:hn({width:`${W.getSize()}px`})},{default:C(()=>[S(qm,{column:W.column.columnDef.meta,"is-only-column":E.value.length<=1,onDragstart:pe=>X(pe,W.index-1),onEdit:pe=>Qe(W.column.columnDef.meta),onHide:pe=>Ae(W.column.columnDef.meta),onDelete:pe=>ht(W.column.columnDef.meta)},null,8,["column","is-only-column","onDragstart","onEdit","onHide","onDelete"]),h("div",{onMousedown:pe=>{var O;return(O=W.getResizeHandler())==null?void 0:O(pe)},onTouchstart:pe=>{var O;return(O=W.getResizeHandler())==null?void 0:O(pe)},onDblclick:pe=>V(W),class:Ie(["absolute right-0 top-0 h-full w-1 cursor-col-resize select-none touch-none group/resize",W.column.getIsResizing()?"bg-indigo-400":"hover:bg-indigo-300"])},null,42,ch)]),_:2},1032,["onDragover","onDragenter","onDrop","class-name","style"]))),128)),S(g(et),{"class-name":"w-40"},{default:C(()=>[h("div",fh,[h("button",{onClick:G[7]||(G[7]=W=>L.$emit("settings")),class:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Добавить столбец"},[S(g(Yo),{class:"w-3.5 h-3.5"}),G[25]||(G[25]=ae(" Столбец ",-1))])])]),_:1}),S(g(et),{"class-name":"w-16"})]),_:1})]),_:1}),S(g(qn),null,{default:C(()=>[($(!0),k(He,null,Xe(g(F).getRowModel().rows,W=>($(),ne(ov,{key:W.id,onEdit:pe=>Qt(W.original),onDuplicate:pe=>fn(W.original),onDelete:pe=>L.$emit("delete",W.original.id)},{default:C(()=>{var pe;return[S(g(pt),{class:Ie(["group",{"bg-indigo-50/30":((pe=a.value)==null?void 0:pe.itemId)===W.original.id}])},{default:C(()=>[S(g(Te),{"class-name":"w-14 !px-0"},{default:C(()=>[h("div",ph,[h("button",{onClick:O=>ge(W.original),class:"p-1 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors opacity-0 group-hover:opacity-100",title:"Развернуть"},[S(g(xd),{class:"w-3.5 h-3.5"})],8,gh),h("input",{type:"checkbox",checked:W.getIsSelected(),onChange:O=>W.toggleSelected(),class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,40,mh)])]),_:2},1024),($(!0),k(He,null,Xe(A.value,O=>($(),ne(g(Te),{key:O.name,"class-name":"px-1 py-1",style:hn({width:`${U(O.name)}px`})},{default:C(()=>{var T,N;return[S(Mf,{column:O,"display-value":W.original.data[O.name],"model-value":((T=a.value)==null?void 0:T.itemId)===W.original.id&&((N=a.value)==null?void 0:N.colName)===O.name?s.value:W.original.data[O.name],editing:ce(W.original.id,O.name),saving:l.value&&ce(W.original.id,O.name),"onUpdate:modelValue":G[8]||(G[8]=_=>s.value=_),onStartEdit:_=>Ge(W.original,O),onBlur:H,onKeydown:_=>Be(_,W.original,O,W.index,A.value.indexOf(O)),onSave:G[9]||(G[9]=_=>I(!0))},null,8,["column","display-value","model-value","editing","saving","onStartEdit","onKeydown"])]}),_:2},1032,["style"]))),128)),S(g(Te),{"class-name":"px-2 py-2 w-40"}),S(g(Te),{"class-name":"px-4 py-2 w-16"},{default:C(()=>[h("div",vh,[h("button",{onClick:O=>L.$emit("delete",W.original.id),class:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Удалить"},[S(g(Dn),{class:"w-4 h-4"})],8,hh)])]),_:2},1024)]),_:2},1032,["class"])]}),_:2},1032,["onEdit","onDuplicate","onDelete"]))),128))]),_:1})]),_:1},8,["style"]),g(F).getPageCount()>1?($(),k("div",yh,[h("p",bh," Показано "+Y(g(F).getState().pagination.pageIndex*g(F).getState().pagination.pageSize+1)+"-"+Y(Math.min((g(F).getState().pagination.pageIndex+1)*g(F).getState().pagination.pageSize,g(F).getFilteredRowModel().rows.length))+" из "+Y(g(F).getFilteredRowModel().rows.length),1),h("div",xh,[h("button",{disabled:!g(F).getCanPreviousPage(),onClick:G[10]||(G[10]=W=>g(F).previousPage()),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[S(g(Cs),{class:"w-4 h-4"})],8,wh),($(!0),k(He,null,Xe(ee.value,W=>($(),k("button",{key:W,onClick:pe=>g(F).setPageIndex(W-1),class:Ie(["min-w-[32px] h-8 px-2 text-sm font-medium rounded-lg transition-colors",[g(F).getState().pagination.pageIndex===W-1?"bg-indigo-600 text-white":"text-slate-600 hover:bg-white"]])},Y(W),11,Sh))),128)),h("button",{disabled:!g(F).getCanNextPage(),onClick:G[11]||(G[11]=W=>g(F).nextPage()),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[S(g($s),{class:"w-4 h-4"})],8,Ch)])])):ve("",!0)])):ve("",!0),S(Cv,{open:f.value,columns:A.value,saving:p.value,"onUpdate:open":G[12]||(G[12]=W=>f.value=W),onSave:q},null,8,["open","columns","saving"]),S(zv,{open:m.value,columns:A.value,item:v.value,saving:y.value,"onUpdate:open":G[13]||(G[13]=W=>m.value=W),onSave:me},null,8,["open","columns","item","saving"])]))}}),ya=te({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const a=ys(e,n);return(s,r)=>($(),ne(g(fd),ot(ut(g(a))),{default:C(()=>[le(s.$slots,"default")]),_:3},16))}}),ba=te({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},className:{default:"max-w-xl px-4 sm:px-0"}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=ys(e,n),s=r=>{const l=r.target;l!=null&&l.closest("[data-sonner-toaster]")&&r.preventDefault()};return(r,l)=>($(),ne(g(pd),null,{default:C(()=>[S(g(gd),{class:"fixed inset-0 z-[60] bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),S(g(md),Ve({class:["fixed left-1/2 top-1/2 z-[60] w-full -translate-x-1/2 -translate-y-1/2","rounded-2xl bg-white shadow-xl shadow-indigo-900/20 ring-1 ring-indigo-100","duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]","data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",e.className]},{...g(a),...r.$attrs},{onPointerDownOutside:s}),{default:C(()=>[le(r.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Qn=te({__name:"DialogTitle",props:{className:{}},setup(e){return(n,t)=>($(),ne(g(vd),{class:Ie(["text-lg font-bold text-slate-900",e.className])},{default:C(()=>[le(n.$slots,"default")]),_:3},8,["class"]))}}),Jn=te({__name:"DialogDescription",props:{className:{}},setup(e){return(n,t)=>($(),ne(g(hd),{class:Ie(["text-sm text-slate-500",e.className])},{default:C(()=>[le(n.$slots,"default")]),_:3},8,["class"]))}}),Po=te({__name:"DialogClose",props:{className:{}},setup(e){return(n,t)=>($(),ne(g(yd),{class:Ie(["absolute right-4 top-4 p-1 rounded-md text-slate-400 hover:text-slate-600 transition-colors","focus:outline-none focus:ring-2 focus:ring-indigo-400",e.className])},{default:C(()=>[le(n.$slots,"default",{},()=>[S(g(Ho),{class:"h-5 w-5"})]),t[0]||(t[0]=h("span",{class:"sr-only"},"Закрыть",-1))]),_:3},8,["class"]))}}),ko=te({__name:"DialogHeader",props:{className:{}},setup(e){return(n,t)=>($(),k("div",{class:Ie(["flex flex-col space-y-1.5",e.className])},[le(n.$slots,"default")],2))}}),Xr=te({__name:"DialogFooter",props:{className:{}},setup(e){return(n,t)=>($(),k("div",{class:Ie(["flex items-center justify-end gap-3 pt-4",e.className])},[le(n.$slots,"default")],2))}});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Il(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),t}var Ol={exports:{}};const Ih=Il(Id);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function _a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,o)}return t}function jt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?_a(Object(t),!0).forEach(function(o){Oh(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_a(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function Io(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Io=function(n){return typeof n}:Io=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Io(e)}function Oh(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Tt(){return Tt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Tt.apply(this,arguments)}function Dh(e,n){if(e==null)return{};var t={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(n.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Th(e,n){if(e==null)return{};var t=Dh(e,n),o,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)o=s[a],!(n.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}function Mh(e){return Ah(e)||Fh(e)||kh(e)||Lh()}function Ah(e){if(Array.isArray(e))return Yr(e)}function Fh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kh(e,n){if(e){if(typeof e=="string")return Yr(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Yr(e,n)}}function Yr(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function Lh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nh="1.14.0";function Kt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var qt=Kt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),io=Kt(/Edge/i),Ka=Kt(/firefox/i),Zn=Kt(/safari/i)&&!Kt(/chrome/i)&&!Kt(/android/i),Dl=Kt(/iP(ad|od|hone)/i),Vh=Kt(/chrome/i)&&Kt(/android/i),Tl={capture:!1,passive:!1};function Fe(e,n,t){e.addEventListener(n,t,!qt&&Tl)}function Me(e,n,t){e.removeEventListener(n,t,!qt&&Tl)}function Lo(e,n){if(n){if(n[0]===">"&&(n=n.substring(1)),e)try{if(e.matches)return e.matches(n);if(e.msMatchesSelector)return e.msMatchesSelector(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}catch{return!1}return!1}}function Bh(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function kt(e,n,t,o){if(e){t=t||document;do{if(n!=null&&(n[0]===">"?e.parentNode===t&&Lo(e,n):Lo(e,n))||o&&e===t)return e;if(e===t)break}while(e=Bh(e))}return null}var Wa=/\s+/g;function Ye(e,n,t){if(e&&n)if(e.classList)e.classList[t?"add":"remove"](n);else{var o=(" "+e.className+" ").replace(Wa," ").replace(" "+n+" "," ");e.className=(o+(t?" "+n:"")).replace(Wa," ")}}function de(e,n,t){var o=e&&e.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),n===void 0?t:t[n];!(n in o)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),o[n]=t+(typeof t=="string"?"":"px")}}function bn(e,n){var t="";if(typeof e=="string")t=e;else do{var o=de(e,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!n&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function Ml(e,n,t){if(e){var o=e.getElementsByTagName(n),a=0,s=o.length;if(t)for(;a<s;a++)t(o[a],a);return o}return[]}function Bt(){var e=document.scrollingElement;return e||document.documentElement}function We(e,n,t,o,a){if(!(!e.getBoundingClientRect&&e!==window)){var s,r,l,i,u,d,c;if(e!==window&&e.parentNode&&e!==Bt()?(s=e.getBoundingClientRect(),r=s.top,l=s.left,i=s.bottom,u=s.right,d=s.height,c=s.width):(r=0,l=0,i=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(n||t)&&e!==window&&(a=a||e.parentNode,!qt))do if(a&&a.getBoundingClientRect&&(de(a,"transform")!=="none"||t&&de(a,"position")!=="static")){var f=a.getBoundingClientRect();r-=f.top+parseInt(de(a,"border-top-width")),l-=f.left+parseInt(de(a,"border-left-width")),i=r+s.height,u=l+s.width;break}while(a=a.parentNode);if(o&&e!==window){var p=bn(a||e),m=p&&p.a,v=p&&p.d;p&&(r/=v,l/=m,c/=m,d/=v,i=r+d,u=l+c)}return{top:r,left:l,bottom:i,right:u,width:c,height:d}}}function Xa(e,n,t){for(var o=rn(e,!0),a=We(e)[n];o;){var s=We(o)[t],r=void 0;if(r=a>=s,!r)return o;if(o===Bt())break;o=rn(o,!1)}return!1}function Tn(e,n,t,o){for(var a=0,s=0,r=e.children;s<r.length;){if(r[s].style.display!=="none"&&r[s]!==be.ghost&&(o||r[s]!==be.dragged)&&kt(r[s],t.draggable,e,!1)){if(a===n)return r[s];a++}s++}return null}function xa(e,n){for(var t=e.lastElementChild;t&&(t===be.ghost||de(t,"display")==="none"||n&&!Lo(t,n));)t=t.previousElementSibling;return t||null}function tt(e,n){var t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==be.clone&&(!n||Lo(e,n))&&t++;return t}function Ya(e){var n=0,t=0,o=Bt();if(e)do{var a=bn(e),s=a.a,r=a.d;n+=e.scrollLeft*s,t+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[n,t]}function jh(e,n){for(var t in e)if(e.hasOwnProperty(t)){for(var o in n)if(n.hasOwnProperty(o)&&n[o]===e[t][o])return Number(t)}return-1}function rn(e,n){if(!e||!e.getBoundingClientRect)return Bt();var t=e,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=de(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Bt();if(o||n)return t;o=!0}}while(t=t.parentNode);return Bt()}function zh(e,n){if(e&&n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function br(e,n){return Math.round(e.top)===Math.round(n.top)&&Math.round(e.left)===Math.round(n.left)&&Math.round(e.height)===Math.round(n.height)&&Math.round(e.width)===Math.round(n.width)}var eo;function Al(e,n){return function(){if(!eo){var t=arguments,o=this;t.length===1?e.call(o,t[0]):e.apply(o,t),eo=setTimeout(function(){eo=void 0},n)}}}function Uh(){clearTimeout(eo),eo=void 0}function Fl(e,n,t){e.scrollLeft+=n,e.scrollTop+=t}function wa(e){var n=window.Polymer,t=window.jQuery||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function qa(e,n){de(e,"position","absolute"),de(e,"top",n.top),de(e,"left",n.left),de(e,"width",n.width),de(e,"height",n.height)}function xr(e){de(e,"position",""),de(e,"top",""),de(e,"left",""),de(e,"width",""),de(e,"height","")}var gt="Sortable"+new Date().getTime();function Gh(){var e=[],n;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(de(a,"display")==="none"||a===be.ghost)){e.push({target:a,rect:We(a)});var s=jt({},e[e.length-1].rect);if(a.thisAnimationDuration){var r=bn(a,!0);r&&(s.top-=r.f,s.left-=r.e)}a.fromRect=s}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(jh(e,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(n),typeof o=="function"&&o();return}var s=!1,r=0;e.forEach(function(l){var i=0,u=l.target,d=u.fromRect,c=We(u),f=u.prevFromRect,p=u.prevToRect,m=l.rect,v=bn(u,!0);v&&(c.top-=v.f,c.left-=v.e),u.toRect=c,u.thisAnimationDuration&&br(f,c)&&!br(d,c)&&(m.top-c.top)/(m.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(i=_h(m,f,p,a.options)),br(c,d)||(u.prevFromRect=d,u.prevToRect=c,i||(i=a.options.animation),a.animate(u,m,c,i)),i&&(s=!0,r=Math.max(r,i),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},i),u.thisAnimationDuration=i)}),clearTimeout(n),s?n=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),e=[]},animate:function(o,a,s,r){if(r){de(o,"transition",""),de(o,"transform","");var l=bn(this.el),i=l&&l.a,u=l&&l.d,d=(a.left-s.left)/(i||1),c=(a.top-s.top)/(u||1);o.animatingX=!!d,o.animatingY=!!c,de(o,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=Hh(o),de(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),de(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){de(o,"transition",""),de(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function Hh(e){return e.offsetWidth}function _h(e,n,t,o){return Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-t.top,2)+Math.pow(n.left-t.left,2))*o.animation}var $n=[],wr={initializeByDefault:!0},uo={mount:function(n){for(var t in wr)wr.hasOwnProperty(t)&&!(t in n)&&(n[t]=wr[t]);$n.forEach(function(o){if(o.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),$n.push(n)},pluginEvent:function(n,t,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var s=n+"Global";$n.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][s]&&t[r.pluginName][s](jt({sortable:t},o)),t.options[r.pluginName]&&t[r.pluginName][n]&&t[r.pluginName][n](jt({sortable:t},o)))})},initializePlugins:function(n,t,o,a){$n.forEach(function(l){var i=l.pluginName;if(!(!n.options[i]&&!l.initializeByDefault)){var u=new l(n,t,n.options);u.sortable=n,u.options=n.options,n[i]=u,Tt(o,u.defaults)}});for(var s in n.options)if(n.options.hasOwnProperty(s)){var r=this.modifyOption(n,s,n.options[s]);typeof r<"u"&&(n.options[s]=r)}},getEventProperties:function(n,t){var o={};return $n.forEach(function(a){typeof a.eventProperties=="function"&&Tt(o,a.eventProperties.call(t[a.pluginName],n))}),o},modifyOption:function(n,t,o){var a;return $n.forEach(function(s){n[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(a=s.optionListeners[t].call(n[s.pluginName],o))}),a}};function Un(e){var n=e.sortable,t=e.rootEl,o=e.name,a=e.targetEl,s=e.cloneEl,r=e.toEl,l=e.fromEl,i=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,m=e.extraEventProperties;if(n=n||t&&t[gt],!!n){var v,y=n.options,b="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!qt&&!io?v=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(o,!0,!0)),v.to=r||t,v.from=l||t,v.item=a||t,v.clone=s,v.oldIndex=i,v.newIndex=u,v.oldDraggableIndex=d,v.newDraggableIndex=c,v.originalEvent=f,v.pullMode=p?p.lastPutMode:void 0;var x=jt(jt({},m),uo.getEventProperties(o,n));for(var E in x)v[E]=x[E];t&&t.dispatchEvent(v),y[b]&&y[b].call(n,v)}}var Kh=["evt"],wt=function(n,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,s=Th(o,Kh);uo.pluginEvent.bind(be)(n,t,jt({dragEl:oe,parentEl:Je,ghostEl:Re,rootEl:Ke,nextEl:vn,lastDownEl:Oo,cloneEl:Ze,cloneHidden:nn,dragStarted:Gn,putSortable:dt,activeSortable:be.active,originalEvent:a,oldIndex:In,oldDraggableIndex:to,newIndex:Et,newDraggableIndex:tn,hideGhostForTarget:Vl,unhideGhostForTarget:Bl,cloneNowHidden:function(){nn=!0},cloneNowShown:function(){nn=!1},dispatchSortableEvent:function(l){mt({sortable:t,name:l,originalEvent:a})}},s))};function mt(e){Un(jt({putSortable:dt,cloneEl:Ze,targetEl:oe,rootEl:Ke,oldIndex:In,oldDraggableIndex:to,newIndex:Et,newDraggableIndex:tn},e))}var oe,Je,Re,Ke,vn,Oo,Ze,nn,In,Et,to,tn,wo,dt,Pn=!1,No=!1,Vo=[],gn,At,Sr,Cr,Qa,Ja,Gn,En,no,oo=!1,So=!1,Do,ft,$r=[],qr=!1,Bo=[],Zo=typeof document<"u",Co=Dl,Za=io||qt?"cssFloat":"float",Wh=Zo&&!Vh&&!Dl&&"draggable"in document.createElement("div"),kl=function(){if(Zo){if(qt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Ll=function(n,t){var o=de(n),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=Tn(n,0,t),r=Tn(n,1,t),l=s&&de(s),i=r&&de(r),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+We(s).width,d=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+We(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return r&&(i.clear==="both"||i.clear===c)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=a&&o[Za]==="none"||r&&o[Za]==="none"&&u+d>a)?"vertical":"horizontal"},Xh=function(n,t,o){var a=o?n.left:n.top,s=o?n.right:n.bottom,r=o?n.width:n.height,l=o?t.left:t.top,i=o?t.right:t.bottom,u=o?t.width:t.height;return a===l||s===i||a+r/2===l+u/2},Yh=function(n,t){var o;return Vo.some(function(a){var s=a[gt].options.emptyInsertThreshold;if(!(!s||xa(a))){var r=We(a),l=n>=r.left-s&&n<=r.right+s,i=t>=r.top-s&&t<=r.bottom+s;if(l&&i)return o=a}}),o},Nl=function(n){function t(s,r){return function(l,i,u,d){var c=l.options.group.name&&i.options.group.name&&l.options.group.name===i.options.group.name;if(s==null&&(r||c))return!0;if(s==null||s===!1)return!1;if(r&&s==="clone")return s;if(typeof s=="function")return t(s(l,i,u,d),r)(l,i,u,d);var f=(r?l:i).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var o={},a=n.group;(!a||Io(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=t(a.pull,!0),o.checkPut=t(a.put),o.revertClone=a.revertClone,n.group=o},Vl=function(){!kl&&Re&&de(Re,"display","none")},Bl=function(){!kl&&Re&&de(Re,"display","")};Zo&&document.addEventListener("click",function(e){if(No)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),No=!1,!1},!0);var mn=function(n){if(oe){n=n.touches?n.touches[0]:n;var t=Yh(n.clientX,n.clientY);if(t){var o={};for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[gt]._onDragOver(o)}}},qh=function(n){oe&&oe.parentNode[gt]._isOutsideThisEl(n.target)};function be(e,n){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=Tt({},n),e[gt]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ll(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:be.supportPointer!==!1&&"PointerEvent"in window&&!Zn,emptyInsertThreshold:5};uo.initializePlugins(this,e,t);for(var o in t)!(o in n)&&(n[o]=t[o]);Nl(n);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=n.forceFallback?!1:Wh,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?Fe(e,"pointerdown",this._onTapStart):(Fe(e,"mousedown",this._onTapStart),Fe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Fe(e,"dragover",this),Fe(e,"dragenter",this)),Vo.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),Tt(this,Gh())}be.prototype={constructor:be,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(En=null)},_getDirection:function(n,t){return typeof this.options.direction=="function"?this.options.direction.call(this,n,t,oe):this.options.direction},_onTapStart:function(n){if(n.cancelable){var t=this,o=this.el,a=this.options,s=a.preventOnFilter,r=n.type,l=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,i=(l||n).target,u=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||i,d=a.filter;if(ry(o),!oe&&!(/mousedown|pointerdown/.test(r)&&n.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Zn&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=kt(i,a.draggable,o,!1),!(i&&i.animated)&&Oo!==i)){if(In=tt(i),to=tt(i,a.draggable),typeof d=="function"){if(d.call(this,n,i,this)){mt({sortable:t,rootEl:u,name:"filter",targetEl:i,toEl:o,fromEl:o}),wt("filter",t,{evt:n}),s&&n.cancelable&&n.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=kt(u,c.trim(),o,!1),c)return mt({sortable:t,rootEl:c,name:"filter",targetEl:i,fromEl:o,toEl:o}),wt("filter",t,{evt:n}),!0}),d)){s&&n.cancelable&&n.preventDefault();return}a.handle&&!kt(u,a.handle,o,!1)||this._prepareDragStart(n,l,i)}}},_prepareDragStart:function(n,t,o){var a=this,s=a.el,r=a.options,l=s.ownerDocument,i;if(o&&!oe&&o.parentNode===s){var u=We(o);if(Ke=s,oe=o,Je=oe.parentNode,vn=oe.nextSibling,Oo=o,wo=r.group,be.dragged=oe,gn={target:oe,clientX:(t||n).clientX,clientY:(t||n).clientY},Qa=gn.clientX-u.left,Ja=gn.clientY-u.top,this._lastX=(t||n).clientX,this._lastY=(t||n).clientY,oe.style["will-change"]="all",i=function(){if(wt("delayEnded",a,{evt:n}),be.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Ka&&a.nativeDraggable&&(oe.draggable=!0),a._triggerDragStart(n,t),mt({sortable:a,name:"choose",originalEvent:n}),Ye(oe,r.chosenClass,!0)},r.ignore.split(",").forEach(function(d){Ml(oe,d.trim(),Er)}),Fe(l,"dragover",mn),Fe(l,"mousemove",mn),Fe(l,"touchmove",mn),Fe(l,"mouseup",a._onDrop),Fe(l,"touchend",a._onDrop),Fe(l,"touchcancel",a._onDrop),Ka&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),wt("delayStart",this,{evt:n}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(io||qt))){if(be.eventCanceled){this._onDrop();return}Fe(l,"mouseup",a._disableDelayedDrag),Fe(l,"touchend",a._disableDelayedDrag),Fe(l,"touchcancel",a._disableDelayedDrag),Fe(l,"mousemove",a._delayedDragTouchMoveHandler),Fe(l,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&Fe(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(i,r.delay)}else i()}},_delayedDragTouchMoveHandler:function(n){var t=n.touches?n.touches[0]:n;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&Er(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;Me(n,"mouseup",this._disableDelayedDrag),Me(n,"touchend",this._disableDelayedDrag),Me(n,"touchcancel",this._disableDelayedDrag),Me(n,"mousemove",this._delayedDragTouchMoveHandler),Me(n,"touchmove",this._delayedDragTouchMoveHandler),Me(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,t){t=t||n.pointerType=="touch"&&n,!this.nativeDraggable||t?this.options.supportPointer?Fe(document,"pointermove",this._onTouchMove):t?Fe(document,"touchmove",this._onTouchMove):Fe(document,"mousemove",this._onTouchMove):(Fe(oe,"dragend",this),Fe(Ke,"dragstart",this._onDragStart));try{document.selection?To(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,t){if(Pn=!1,Ke&&oe){wt("dragStarted",this,{evt:t}),this.nativeDraggable&&Fe(document,"dragover",qh);var o=this.options;!n&&Ye(oe,o.dragClass,!1),Ye(oe,o.ghostClass,!0),be.active=this,n&&this._appendGhost(),mt({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(At){this._lastX=At.clientX,this._lastY=At.clientY,Vl();for(var n=document.elementFromPoint(At.clientX,At.clientY),t=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(At.clientX,At.clientY),n!==t);)t=n;if(oe.parentNode[gt]._isOutsideThisEl(n),t)do{if(t[gt]){var o=void 0;if(o=t[gt]._onDragOver({clientX:At.clientX,clientY:At.clientY,target:n,rootEl:t}),o&&!this.options.dragoverBubble)break}n=t}while(t=t.parentNode);Bl()}},_onTouchMove:function(n){if(gn){var t=this.options,o=t.fallbackTolerance,a=t.fallbackOffset,s=n.touches?n.touches[0]:n,r=Re&&bn(Re,!0),l=Re&&r&&r.a,i=Re&&r&&r.d,u=Co&&ft&&Ya(ft),d=(s.clientX-gn.clientX+a.x)/(l||1)+(u?u[0]-$r[0]:0)/(l||1),c=(s.clientY-gn.clientY+a.y)/(i||1)+(u?u[1]-$r[1]:0)/(i||1);if(!be.active&&!Pn){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(n,!0)}if(Re){r?(r.e+=d-(Sr||0),r.f+=c-(Cr||0)):r={a:1,b:0,c:0,d:1,e:d,f:c};var f="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");de(Re,"webkitTransform",f),de(Re,"mozTransform",f),de(Re,"msTransform",f),de(Re,"transform",f),Sr=d,Cr=c,At=s}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!Re){var n=this.options.fallbackOnBody?document.body:Ke,t=We(oe,!0,Co,!0,n),o=this.options;if(Co){for(ft=n;de(ft,"position")==="static"&&de(ft,"transform")==="none"&&ft!==document;)ft=ft.parentNode;ft!==document.body&&ft!==document.documentElement?(ft===document&&(ft=Bt()),t.top+=ft.scrollTop,t.left+=ft.scrollLeft):ft=Bt(),$r=Ya(ft)}Re=oe.cloneNode(!0),Ye(Re,o.ghostClass,!1),Ye(Re,o.fallbackClass,!0),Ye(Re,o.dragClass,!0),de(Re,"transition",""),de(Re,"transform",""),de(Re,"box-sizing","border-box"),de(Re,"margin",0),de(Re,"top",t.top),de(Re,"left",t.left),de(Re,"width",t.width),de(Re,"height",t.height),de(Re,"opacity","0.8"),de(Re,"position",Co?"absolute":"fixed"),de(Re,"zIndex","100000"),de(Re,"pointerEvents","none"),be.ghost=Re,n.appendChild(Re),de(Re,"transform-origin",Qa/parseInt(Re.style.width)*100+"% "+Ja/parseInt(Re.style.height)*100+"%")}},_onDragStart:function(n,t){var o=this,a=n.dataTransfer,s=o.options;if(wt("dragStart",this,{evt:n}),be.eventCanceled){this._onDrop();return}wt("setupClone",this),be.eventCanceled||(Ze=wa(oe),Ze.draggable=!1,Ze.style["will-change"]="",this._hideClone(),Ye(Ze,this.options.chosenClass,!1),be.clone=Ze),o.cloneId=To(function(){wt("clone",o),!be.eventCanceled&&(o.options.removeCloneOnHide||Ke.insertBefore(Ze,oe),o._hideClone(),mt({sortable:o,name:"clone"}))}),!t&&Ye(oe,s.dragClass,!0),t?(No=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Me(document,"mouseup",o._onDrop),Me(document,"touchend",o._onDrop),Me(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(o,a,oe)),Fe(document,"drop",o),de(oe,"transform","translateZ(0)")),Pn=!0,o._dragStartId=To(o._dragStarted.bind(o,t,n)),Fe(document,"selectstart",o),Gn=!0,Zn&&de(document.body,"user-select","none")},_onDragOver:function(n){var t=this.el,o=n.target,a,s,r,l=this.options,i=l.group,u=be.active,d=wo===i,c=l.sort,f=dt||u,p,m=this,v=!1;if(qr)return;function y(X,Ee){wt(X,m,jt({evt:n,isOwner:d,axis:p?"vertical":"horizontal",revert:r,dragRect:a,targetRect:s,canSort:c,fromSortable:f,target:o,completed:x,onMove:function(De,Pe){return $o(Ke,t,oe,a,De,We(De),n,Pe)},changed:E},Ee))}function b(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==f&&f.captureAnimationState()}function x(X){return y("dragOverCompleted",{insertion:X}),X&&(d?u._hideClone():u._showClone(m),m!==f&&(Ye(oe,dt?dt.options.ghostClass:u.options.ghostClass,!1),Ye(oe,l.ghostClass,!0)),dt!==m&&m!==be.active?dt=m:m===be.active&&dt&&(dt=null),f===m&&(m._ignoreWhileAnimating=o),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===oe&&!oe.animated||o===t&&!o.animated)&&(En=null),!l.dragoverBubble&&!n.rootEl&&o!==document&&(oe.parentNode[gt]._isOutsideThisEl(n.target),!X&&mn(n)),!l.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),v=!0}function E(){Et=tt(oe),tn=tt(oe,l.draggable),mt({sortable:m,name:"change",toEl:t,newIndex:Et,newDraggableIndex:tn,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),o=kt(o,l.draggable,t,!0),y("dragOver"),be.eventCanceled)return v;if(oe.contains(n.target)||o.animated&&o.animatingX&&o.animatingY||m._ignoreWhileAnimating===o)return x(!1);if(No=!1,u&&!l.disabled&&(d?c||(r=Je!==Ke):dt===this||(this.lastPutMode=wo.checkPull(this,u,oe,n))&&i.checkPut(this,u,oe,n))){if(p=this._getDirection(n,o)==="vertical",a=We(oe),y("dragOverValid"),be.eventCanceled)return v;if(r)return Je=Ke,b(),this._hideClone(),y("revert"),be.eventCanceled||(vn?Ke.insertBefore(oe,vn):Ke.appendChild(oe)),x(!0);var P=xa(t,l.draggable);if(!P||ey(n,p,this)&&!P.animated){if(P===oe)return x(!1);if(P&&t===n.target&&(o=P),o&&(s=We(o)),$o(Ke,t,oe,a,o,s,n,!!o)!==!1)return b(),t.appendChild(oe),Je=t,E(),x(!0)}else if(P&&Zh(n,p,this)){var D=Tn(t,0,l,!0);if(D===oe)return x(!1);if(o=D,s=We(o),$o(Ke,t,oe,a,o,s,n,!1)!==!1)return b(),t.insertBefore(oe,D),Je=t,E(),x(!0)}else if(o.parentNode===t){s=We(o);var M=0,Q,A=oe.parentNode!==t,w=!Xh(oe.animated&&oe.toRect||a,o.animated&&o.toRect||s,p),R=p?"top":"left",F=Xa(o,"top","top")||Xa(oe,"top","top"),Z=F?F.scrollTop:void 0;En!==o&&(Q=s[R],oo=!1,So=!w&&l.invertSwap||A),M=ty(n,o,s,p,w?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,So,En===o);var B;if(M!==0){var z=tt(oe);do z-=M,B=Je.children[z];while(B&&(de(B,"display")==="none"||B===Re))}if(M===0||B===o)return x(!1);En=o,no=M;var U=o.nextElementSibling,V=!1;V=M===1;var ee=$o(Ke,t,oe,a,o,s,n,V);if(ee!==!1)return(ee===1||ee===-1)&&(V=ee===1),qr=!0,setTimeout(Jh,30),b(),V&&!U?t.appendChild(oe):o.parentNode.insertBefore(oe,V?U:o),F&&Fl(F,0,Z-F.scrollTop),Je=oe.parentNode,Q!==void 0&&!So&&(Do=Math.abs(Q-We(o)[R])),E(),x(!0)}if(t.contains(oe))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Me(document,"mousemove",this._onTouchMove),Me(document,"touchmove",this._onTouchMove),Me(document,"pointermove",this._onTouchMove),Me(document,"dragover",mn),Me(document,"mousemove",mn),Me(document,"touchmove",mn)},_offUpEvents:function(){var n=this.el.ownerDocument;Me(n,"mouseup",this._onDrop),Me(n,"touchend",this._onDrop),Me(n,"pointerup",this._onDrop),Me(n,"touchcancel",this._onDrop),Me(document,"selectstart",this)},_onDrop:function(n){var t=this.el,o=this.options;if(Et=tt(oe),tn=tt(oe,o.draggable),wt("drop",this,{evt:n}),Je=oe&&oe.parentNode,Et=tt(oe),tn=tt(oe,o.draggable),be.eventCanceled){this._nulling();return}Pn=!1,So=!1,oo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Qr(this.cloneId),Qr(this._dragStartId),this.nativeDraggable&&(Me(document,"drop",this),Me(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Zn&&de(document.body,"user-select",""),de(oe,"transform",""),n&&(Gn&&(n.cancelable&&n.preventDefault(),!o.dropBubble&&n.stopPropagation()),Re&&Re.parentNode&&Re.parentNode.removeChild(Re),(Ke===Je||dt&&dt.lastPutMode!=="clone")&&Ze&&Ze.parentNode&&Ze.parentNode.removeChild(Ze),oe&&(this.nativeDraggable&&Me(oe,"dragend",this),Er(oe),oe.style["will-change"]="",Gn&&!Pn&&Ye(oe,dt?dt.options.ghostClass:this.options.ghostClass,!1),Ye(oe,this.options.chosenClass,!1),mt({sortable:this,name:"unchoose",toEl:Je,newIndex:null,newDraggableIndex:null,originalEvent:n}),Ke!==Je?(Et>=0&&(mt({rootEl:Je,name:"add",toEl:Je,fromEl:Ke,originalEvent:n}),mt({sortable:this,name:"remove",toEl:Je,originalEvent:n}),mt({rootEl:Je,name:"sort",toEl:Je,fromEl:Ke,originalEvent:n}),mt({sortable:this,name:"sort",toEl:Je,originalEvent:n})),dt&&dt.save()):Et!==In&&Et>=0&&(mt({sortable:this,name:"update",toEl:Je,originalEvent:n}),mt({sortable:this,name:"sort",toEl:Je,originalEvent:n})),be.active&&((Et==null||Et===-1)&&(Et=In,tn=to),mt({sortable:this,name:"end",toEl:Je,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){wt("nulling",this),Ke=oe=Je=Re=vn=Ze=Oo=nn=gn=At=Gn=Et=tn=In=to=En=no=dt=wo=be.dragged=be.ghost=be.clone=be.active=null,Bo.forEach(function(n){n.checked=!0}),Bo.length=Sr=Cr=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":oe&&(this._onDragOver(n),Qh(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],t,o=this.el.children,a=0,s=o.length,r=this.options;a<s;a++)t=o[a],kt(t,r.draggable,this.el,!1)&&n.push(t.getAttribute(r.dataIdAttr)||oy(t));return n},sort:function(n,t){var o={},a=this.el;this.toArray().forEach(function(s,r){var l=a.children[r];kt(l,this.options.draggable,a,!1)&&(o[s]=l)},this),t&&this.captureAnimationState(),n.forEach(function(s){o[s]&&(a.removeChild(o[s]),a.appendChild(o[s]))}),t&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,t){return kt(n,t||this.options.draggable,this.el,!1)},option:function(n,t){var o=this.options;if(t===void 0)return o[n];var a=uo.modifyOption(this,n,t);typeof a<"u"?o[n]=a:o[n]=t,n==="group"&&Nl(o)},destroy:function(){wt("destroy",this);var n=this.el;n[gt]=null,Me(n,"mousedown",this._onTapStart),Me(n,"touchstart",this._onTapStart),Me(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(Me(n,"dragover",this),Me(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Vo.splice(Vo.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!nn){if(wt("hideClone",this),be.eventCanceled)return;de(Ze,"display","none"),this.options.removeCloneOnHide&&Ze.parentNode&&Ze.parentNode.removeChild(Ze),nn=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(nn){if(wt("showClone",this),be.eventCanceled)return;oe.parentNode==Ke&&!this.options.group.revertClone?Ke.insertBefore(Ze,oe):vn?Ke.insertBefore(Ze,vn):Ke.appendChild(Ze),this.options.group.revertClone&&this.animate(oe,Ze),de(Ze,"display",""),nn=!1}}};function Qh(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function $o(e,n,t,o,a,s,r,l){var i,u=e[gt],d=u.options.onMove,c;return window.CustomEvent&&!qt&&!io?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=n,i.from=e,i.dragged=t,i.draggedRect=o,i.related=a||n,i.relatedRect=s||We(n),i.willInsertAfter=l,i.originalEvent=r,e.dispatchEvent(i),d&&(c=d.call(u,i,r)),c}function Er(e){e.draggable=!1}function Jh(){qr=!1}function Zh(e,n,t){var o=We(Tn(t.el,0,t.options,!0)),a=10;return n?e.clientX<o.left-a||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-a||e.clientY<o.bottom&&e.clientX<o.left}function ey(e,n,t){var o=We(xa(t.el,t.options.draggable)),a=10;return n?e.clientX>o.right+a||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+a}function ty(e,n,t,o,a,s,r,l){var i=o?e.clientY:e.clientX,u=o?t.height:t.width,d=o?t.top:t.left,c=o?t.bottom:t.right,f=!1;if(!r){if(l&&Do<u*a){if(!oo&&(no===1?i>d+u*s/2:i<c-u*s/2)&&(oo=!0),oo)f=!0;else if(no===1?i<d+Do:i>c-Do)return-no}else if(i>d+u*(1-a)/2&&i<c-u*(1-a)/2)return ny(n)}return f=f||r,f&&(i<d+u*s/2||i>c-u*s/2)?i>d+u/2?1:-1:0}function ny(e){return tt(oe)<tt(e)?1:-1}function oy(e){for(var n=e.tagName+e.className+e.src+e.href+e.textContent,t=n.length,o=0;t--;)o+=n.charCodeAt(t);return o.toString(36)}function ry(e){Bo.length=0;for(var n=e.getElementsByTagName("input"),t=n.length;t--;){var o=n[t];o.checked&&Bo.push(o)}}function To(e){return setTimeout(e,0)}function Qr(e){return clearTimeout(e)}Zo&&Fe(document,"touchmove",function(e){(be.active||Pn)&&e.cancelable&&e.preventDefault()});be.utils={on:Fe,off:Me,css:de,find:Ml,is:function(n,t){return!!kt(n,t,n,!1)},extend:zh,throttle:Al,closest:kt,toggleClass:Ye,clone:wa,index:tt,nextTick:To,cancelNextTick:Qr,detectDirection:Ll,getChild:Tn};be.get=function(e){return e[gt]};be.mount=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];n[0].constructor===Array&&(n=n[0]),n.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(be.utils=jt(jt({},be.utils),o.utils)),uo.mount(o)})};be.create=function(e,n){return new be(e,n)};be.version=Nh;var at=[],Hn,Jr,Zr=!1,Rr,Pr,jo,_n;function ay(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return e.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?Fe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Fe(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Fe(document,"touchmove",this._handleFallbackAutoScroll):Fe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Me(document,"dragover",this._handleAutoScroll):(Me(document,"pointermove",this._handleFallbackAutoScroll),Me(document,"touchmove",this._handleFallbackAutoScroll),Me(document,"mousemove",this._handleFallbackAutoScroll)),es(),Mo(),Uh()},nulling:function(){jo=Jr=Hn=Zr=_n=Rr=Pr=null,at.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var a=this,s=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(s,r);if(jo=t,o||this.options.forceAutoScrollFallback||io||qt||Zn){Ir(t,this.options,l,o);var i=rn(l,!0);Zr&&(!_n||s!==Rr||r!==Pr)&&(_n&&es(),_n=setInterval(function(){var u=rn(document.elementFromPoint(s,r),!0);u!==i&&(i=u,Mo()),Ir(t,a.options,u,o)},10),Rr=s,Pr=r)}else{if(!this.options.bubbleScroll||rn(l,!0)===Bt()){Mo();return}Ir(t,this.options,rn(l,!1),!1)}}},Tt(e,{pluginName:"scroll",initializeByDefault:!0})}function Mo(){at.forEach(function(e){clearInterval(e.pid)}),at=[]}function es(){clearInterval(_n)}var Ir=Al(function(e,n,t,o){if(n.scroll){var a=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,r=n.scrollSensitivity,l=n.scrollSpeed,i=Bt(),u=!1,d;Jr!==t&&(Jr=t,Mo(),Hn=n.scroll,d=n.scrollFn,Hn===!0&&(Hn=rn(t,!0)));var c=0,f=Hn;do{var p=f,m=We(p),v=m.top,y=m.bottom,b=m.left,x=m.right,E=m.width,P=m.height,D=void 0,M=void 0,Q=p.scrollWidth,A=p.scrollHeight,w=de(p),R=p.scrollLeft,F=p.scrollTop;p===i?(D=E<Q&&(w.overflowX==="auto"||w.overflowX==="scroll"||w.overflowX==="visible"),M=P<A&&(w.overflowY==="auto"||w.overflowY==="scroll"||w.overflowY==="visible")):(D=E<Q&&(w.overflowX==="auto"||w.overflowX==="scroll"),M=P<A&&(w.overflowY==="auto"||w.overflowY==="scroll"));var Z=D&&(Math.abs(x-a)<=r&&R+E<Q)-(Math.abs(b-a)<=r&&!!R),B=M&&(Math.abs(y-s)<=r&&F+P<A)-(Math.abs(v-s)<=r&&!!F);if(!at[c])for(var z=0;z<=c;z++)at[z]||(at[z]={});(at[c].vx!=Z||at[c].vy!=B||at[c].el!==p)&&(at[c].el=p,at[c].vx=Z,at[c].vy=B,clearInterval(at[c].pid),(Z!=0||B!=0)&&(u=!0,at[c].pid=setInterval((function(){o&&this.layer===0&&be.active._onTouchMove(jo);var U=at[this.layer].vy?at[this.layer].vy*l:0,V=at[this.layer].vx?at[this.layer].vx*l:0;typeof d=="function"&&d.call(be.dragged.parentNode[gt],V,U,e,jo,at[this.layer].el)!=="continue"||Fl(at[this.layer].el,V,U)}).bind({layer:c}),24))),c++}while(n.bubbleScroll&&f!==i&&(f=rn(f,!1)));Zr=u}},30),jl=function(n){var t=n.originalEvent,o=n.putSortable,a=n.dragEl,s=n.activeSortable,r=n.dispatchSortableEvent,l=n.hideGhostForTarget,i=n.unhideGhostForTarget;if(t){var u=o||s;l();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);i(),u&&!u.el.contains(c)&&(r("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Sa(){}Sa.prototype={startIndex:null,dragStart:function(n){var t=n.oldDraggableIndex;this.startIndex=t},onSpill:function(n){var t=n.dragEl,o=n.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Tn(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:jl};Tt(Sa,{pluginName:"revertOnSpill"});function Ca(){}Ca.prototype={onSpill:function(n){var t=n.dragEl,o=n.putSortable,a=o||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:jl};Tt(Ca,{pluginName:"removeOnSpill"});var It;function sy(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(t){var o=t.dragEl;It=o},dragOverValid:function(t){var o=t.completed,a=t.target,s=t.onMove,r=t.activeSortable,l=t.changed,i=t.cancel;if(r.options.swap){var u=this.sortable.el,d=this.options;if(a&&a!==u){var c=It;s(a)!==!1?(Ye(a,d.swapClass,!0),It=a):It=null,c&&c!==It&&Ye(c,d.swapClass,!1)}l(),o(!0),i()}},drop:function(t){var o=t.activeSortable,a=t.putSortable,s=t.dragEl,r=a||this.sortable,l=this.options;It&&Ye(It,l.swapClass,!1),It&&(l.swap||a&&a.options.swap)&&s!==It&&(r.captureAnimationState(),r!==o&&o.captureAnimationState(),ly(s,It),r.animateAll(),r!==o&&o.animateAll())},nulling:function(){It=null}},Tt(e,{pluginName:"swap",eventProperties:function(){return{swapItem:It}}})}function ly(e,n){var t=e.parentNode,o=n.parentNode,a,s;!t||!o||t.isEqualNode(n)||o.isEqualNode(e)||(a=tt(e),s=tt(n),t.isEqualNode(o)&&a<s&&s++,t.insertBefore(n,t.children[a]),o.insertBefore(e,o.children[s]))}var $e=[],$t=[],Vn,Ft,Bn=!1,St=!1,Rn=!1,_e,jn,Eo;function iy(){function e(n){for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));n.options.supportPointer?Fe(document,"pointerup",this._deselectMultiDrag):(Fe(document,"mouseup",this._deselectMultiDrag),Fe(document,"touchend",this._deselectMultiDrag)),Fe(document,"keydown",this._checkKeyDown),Fe(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,s){var r="";$e.length&&Ft===n?$e.forEach(function(l,i){r+=(i?", ":"")+l.textContent}):r=s.textContent,a.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var o=t.dragEl;_e=o},delayEnded:function(){this.isMultiDrag=~$e.indexOf(_e)},setupClone:function(t){var o=t.sortable,a=t.cancel;if(this.isMultiDrag){for(var s=0;s<$e.length;s++)$t.push(wa($e[s])),$t[s].sortableIndex=$e[s].sortableIndex,$t[s].draggable=!1,$t[s].style["will-change"]="",Ye($t[s],this.options.selectedClass,!1),$e[s]===_e&&Ye($t[s],this.options.chosenClass,!1);o._hideClone(),a()}},clone:function(t){var o=t.sortable,a=t.rootEl,s=t.dispatchSortableEvent,r=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||$e.length&&Ft===o&&(ts(!0,a),s("clone"),r()))},showClone:function(t){var o=t.cloneNowShown,a=t.rootEl,s=t.cancel;this.isMultiDrag&&(ts(!1,a),$t.forEach(function(r){de(r,"display","")}),o(),Eo=!1,s())},hideClone:function(t){var o=this;t.sortable;var a=t.cloneNowHidden,s=t.cancel;this.isMultiDrag&&($t.forEach(function(r){de(r,"display","none"),o.options.removeCloneOnHide&&r.parentNode&&r.parentNode.removeChild(r)}),a(),Eo=!0,s())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&Ft&&Ft.multiDrag._deselectMultiDrag(),$e.forEach(function(o){o.sortableIndex=tt(o)}),$e=$e.sort(function(o,a){return o.sortableIndex-a.sortableIndex}),Rn=!0},dragStarted:function(t){var o=this,a=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){$e.forEach(function(r){r!==_e&&de(r,"position","absolute")});var s=We(_e,!1,!0,!0);$e.forEach(function(r){r!==_e&&qa(r,s)}),St=!0,Bn=!0}a.animateAll(function(){St=!1,Bn=!1,o.options.animation&&$e.forEach(function(r){xr(r)}),o.options.sort&&Ro()})}},dragOver:function(t){var o=t.target,a=t.completed,s=t.cancel;St&&~$e.indexOf(o)&&(a(!1),s())},revert:function(t){var o=t.fromSortable,a=t.rootEl,s=t.sortable,r=t.dragRect;$e.length>1&&($e.forEach(function(l){s.addAnimationState({target:l,rect:St?We(l):r}),xr(l),l.fromRect=r,o.removeAnimationState(l)}),St=!1,uy(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(t){var o=t.sortable,a=t.isOwner,s=t.insertion,r=t.activeSortable,l=t.parentEl,i=t.putSortable,u=this.options;if(s){if(a&&r._hideClone(),Bn=!1,u.animation&&$e.length>1&&(St||!a&&!r.options.sort&&!i)){var d=We(_e,!1,!0,!0);$e.forEach(function(f){f!==_e&&(qa(f,d),l.appendChild(f))}),St=!0}if(!a)if(St||Ro(),$e.length>1){var c=Eo;r._showClone(o),r.options.animation&&!Eo&&c&&$t.forEach(function(f){r.addAnimationState({target:f,rect:jn}),f.fromRect=jn,f.thisAnimationDuration=null})}else r._showClone(o)}},dragOverAnimationCapture:function(t){var o=t.dragRect,a=t.isOwner,s=t.activeSortable;if($e.forEach(function(l){l.thisAnimationDuration=null}),s.options.animation&&!a&&s.multiDrag.isMultiDrag){jn=Tt({},o);var r=bn(_e,!0);jn.top-=r.f,jn.left-=r.e}},dragOverAnimationComplete:function(){St&&(St=!1,Ro())},drop:function(t){var o=t.originalEvent,a=t.rootEl,s=t.parentEl,r=t.sortable,l=t.dispatchSortableEvent,i=t.oldIndex,u=t.putSortable,d=u||this.sortable;if(o){var c=this.options,f=s.children;if(!Rn)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Ye(_e,c.selectedClass,!~$e.indexOf(_e)),~$e.indexOf(_e))$e.splice($e.indexOf(_e),1),Vn=null,Un({sortable:r,rootEl:a,name:"deselect",targetEl:_e});else{if($e.push(_e),Un({sortable:r,rootEl:a,name:"select",targetEl:_e}),o.shiftKey&&Vn&&r.el.contains(Vn)){var p=tt(Vn),m=tt(_e);if(~p&&~m&&p!==m){var v,y;for(m>p?(y=p,v=m):(y=m,v=p+1);y<v;y++)~$e.indexOf(f[y])||(Ye(f[y],c.selectedClass,!0),$e.push(f[y]),Un({sortable:r,rootEl:a,name:"select",targetEl:f[y]}))}}else Vn=_e;Ft=d}if(Rn&&this.isMultiDrag){if(St=!1,(s[gt].options.sort||s!==a)&&$e.length>1){var b=We(_e),x=tt(_e,":not(."+this.options.selectedClass+")");if(!Bn&&c.animation&&(_e.thisAnimationDuration=null),d.captureAnimationState(),!Bn&&(c.animation&&(_e.fromRect=b,$e.forEach(function(P){if(P.thisAnimationDuration=null,P!==_e){var D=St?We(P):b;P.fromRect=D,d.addAnimationState({target:P,rect:D})}})),Ro(),$e.forEach(function(P){f[x]?s.insertBefore(P,f[x]):s.appendChild(P),x++}),i===tt(_e))){var E=!1;$e.forEach(function(P){if(P.sortableIndex!==tt(P)){E=!0;return}}),E&&l("update")}$e.forEach(function(P){xr(P)}),d.animateAll()}Ft=d}(a===s||u&&u.lastPutMode!=="clone")&&$t.forEach(function(P){P.parentNode&&P.parentNode.removeChild(P)})}},nullingGlobal:function(){this.isMultiDrag=Rn=!1,$t.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Me(document,"pointerup",this._deselectMultiDrag),Me(document,"mouseup",this._deselectMultiDrag),Me(document,"touchend",this._deselectMultiDrag),Me(document,"keydown",this._checkKeyDown),Me(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(typeof Rn<"u"&&Rn)&&Ft===this.sortable&&!(t&&kt(t.target,this.options.draggable,this.sortable.el,!1))&&!(t&&t.button!==0))for(;$e.length;){var o=$e[0];Ye(o,this.options.selectedClass,!1),$e.shift(),Un({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Tt(e,{pluginName:"multiDrag",utils:{select:function(t){var o=t.parentNode[gt];!o||!o.options.multiDrag||~$e.indexOf(t)||(Ft&&Ft!==o&&(Ft.multiDrag._deselectMultiDrag(),Ft=o),Ye(t,o.options.selectedClass,!0),$e.push(t))},deselect:function(t){var o=t.parentNode[gt],a=$e.indexOf(t);!o||!o.options.multiDrag||!~a||(Ye(t,o.options.selectedClass,!1),$e.splice(a,1))}},eventProperties:function(){var t=this,o=[],a=[];return $e.forEach(function(s){o.push({multiDragElement:s,index:s.sortableIndex});var r;St&&s!==_e?r=-1:St?r=tt(s,":not(."+t.options.selectedClass+")"):r=tt(s),a.push({multiDragElement:s,index:r})}),{items:Mh($e),clones:[].concat($t),oldIndicies:o,newIndicies:a}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),t==="ctrl"?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function uy(e,n){$e.forEach(function(t,o){var a=n.children[t.sortableIndex+(e?Number(o):0)];a?n.insertBefore(t,a):n.appendChild(t)})}function ts(e,n){$t.forEach(function(t,o){var a=n.children[t.sortableIndex+(e?Number(o):0)];a?n.insertBefore(t,a):n.appendChild(t)})}function Ro(){$e.forEach(function(e){e!==_e&&e.parentNode&&e.parentNode.removeChild(e)})}be.mount(new ay);be.mount(Ca,Sa);const dy=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:iy,Sortable:be,Swap:sy,default:be},Symbol.toStringTag,{value:"Module"})),cy=Il(dy);(function(e,n){(function(o,a){e.exports=a(Ih,cy)})(typeof self<"u"?self:Rh,function(t,o){return function(a){var s={};function r(l){if(s[l])return s[l].exports;var i=s[l]={i:l,l:!1,exports:{}};return a[l].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=a,r.c=s,r.d=function(l,i,u){r.o(l,i)||Object.defineProperty(l,i,{enumerable:!0,get:u})},r.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},r.t=function(l,i){if(i&1&&(l=r(l)),i&8||i&4&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),i&2&&typeof l!="string")for(var d in l)r.d(u,d,(function(c){return l[c]}).bind(null,d));return u},r.n=function(l){var i=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(i,"a",i),i},r.o=function(l,i){return Object.prototype.hasOwnProperty.call(l,i)},r.p="",r(r.s="fb15")}({"00ee":function(a,s,r){var l=r("b622"),i=l("toStringTag"),u={};u[i]="z",a.exports=String(u)==="[object z]"},"0366":function(a,s,r){var l=r("1c0b");a.exports=function(i,u,d){if(l(i),u===void 0)return i;switch(d){case 0:return function(){return i.call(u)};case 1:return function(c){return i.call(u,c)};case 2:return function(c,f){return i.call(u,c,f)};case 3:return function(c,f,p){return i.call(u,c,f,p)}}return function(){return i.apply(u,arguments)}}},"057f":function(a,s,r){var l=r("fc6a"),i=r("241c").f,u={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(f){try{return i(f)}catch{return d.slice()}};a.exports.f=function(p){return d&&u.call(p)=="[object Window]"?c(p):i(l(p))}},"06cf":function(a,s,r){var l=r("83ab"),i=r("d1e7"),u=r("5c6c"),d=r("fc6a"),c=r("c04e"),f=r("5135"),p=r("0cfb"),m=Object.getOwnPropertyDescriptor;s.f=l?m:function(y,b){if(y=d(y),b=c(b,!0),p)try{return m(y,b)}catch{}if(f(y,b))return u(!i.f.call(y,b),y[b])}},"0cfb":function(a,s,r){var l=r("83ab"),i=r("d039"),u=r("cc12");a.exports=!l&&!i(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,s,r){var l=r("23e7"),i=r("d58f").left,u=r("a640"),d=r("ae40"),c=u("reduce"),f=d("reduce",{1:0});l({target:"Array",proto:!0,forced:!c||!f},{reduce:function(m){return i(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,s,r){var l=r("c6b6"),i=r("9263");a.exports=function(u,d){var c=u.exec;if(typeof c=="function"){var f=c.call(u,d);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(l(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return i.call(u,d)}},"159b":function(a,s,r){var l=r("da84"),i=r("fdbc"),u=r("17c2"),d=r("9112");for(var c in i){var f=l[c],p=f&&f.prototype;if(p&&p.forEach!==u)try{d(p,"forEach",u)}catch{p.forEach=u}}},"17c2":function(a,s,r){var l=r("b727").forEach,i=r("a640"),u=r("ae40"),d=i("forEach"),c=u("forEach");a.exports=!d||!c?function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,s,r){var l=r("d066");a.exports=l("document","documentElement")},"1c0b":function(a,s){a.exports=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r}},"1c7e":function(a,s,r){var l=r("b622"),i=l("iterator"),u=!1;try{var d=0,c={next:function(){return{done:!!d++}},return:function(){u=!0}};c[i]=function(){return this},Array.from(c,function(){throw 2})}catch{}a.exports=function(f,p){if(!p&&!u)return!1;var m=!1;try{var v={};v[i]=function(){return{next:function(){return{done:m=!0}}}},f(v)}catch{}return m}},"1d80":function(a,s){a.exports=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r}},"1dde":function(a,s,r){var l=r("d039"),i=r("b622"),u=r("2d00"),d=i("species");a.exports=function(c){return u>=51||!l(function(){var f=[],p=f.constructor={};return p[d]=function(){return{foo:1}},f[c](Boolean).foo!==1})}},"23cb":function(a,s,r){var l=r("a691"),i=Math.max,u=Math.min;a.exports=function(d,c){var f=l(d);return f<0?i(f+c,0):u(f,c)}},"23e7":function(a,s,r){var l=r("da84"),i=r("06cf").f,u=r("9112"),d=r("6eeb"),c=r("ce4e"),f=r("e893"),p=r("94ca");a.exports=function(m,v){var y=m.target,b=m.global,x=m.stat,E,P,D,M,Q,A;if(b?P=l:x?P=l[y]||c(y,{}):P=(l[y]||{}).prototype,P)for(D in v){if(Q=v[D],m.noTargetGet?(A=i(P,D),M=A&&A.value):M=P[D],E=p(b?D:y+(x?".":"#")+D,m.forced),!E&&M!==void 0){if(typeof Q==typeof M)continue;f(Q,M)}(m.sham||M&&M.sham)&&u(Q,"sham",!0),d(P,D,Q,m)}}},"241c":function(a,s,r){var l=r("ca84"),i=r("7839"),u=i.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return l(c,u)}},"25f0":function(a,s,r){var l=r("6eeb"),i=r("825a"),u=r("d039"),d=r("ad6d"),c="toString",f=RegExp.prototype,p=f[c],m=u(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),v=p.name!=c;(m||v)&&l(RegExp.prototype,c,function(){var b=i(this),x=String(b.source),E=b.flags,P=String(E===void 0&&b instanceof RegExp&&!("flags"in f)?d.call(b):E);return"/"+x+"/"+P},{unsafe:!0})},"2ca0":function(a,s,r){var l=r("23e7"),i=r("06cf").f,u=r("50c4"),d=r("5a34"),c=r("1d80"),f=r("ab13"),p=r("c430"),m="".startsWith,v=Math.min,y=f("startsWith"),b=!p&&!y&&!!function(){var x=i(String.prototype,"startsWith");return x&&!x.writable}();l({target:"String",proto:!0,forced:!b&&!y},{startsWith:function(E){var P=String(c(this));d(E);var D=u(v(arguments.length>1?arguments[1]:void 0,P.length)),M=String(E);return m?m.call(P,M,D):P.slice(D,D+M.length)===M}})},"2d00":function(a,s,r){var l=r("da84"),i=r("342f"),u=l.process,d=u&&u.versions,c=d&&d.v8,f,p;c?(f=c.split("."),p=f[0]+f[1]):i&&(f=i.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=i.match(/Chrome\/(\d+)/),f&&(p=f[1]))),a.exports=p&&+p},"342f":function(a,s,r){var l=r("d066");a.exports=l("navigator","userAgent")||""},"35a1":function(a,s,r){var l=r("f5df"),i=r("3f8c"),u=r("b622"),d=u("iterator");a.exports=function(c){if(c!=null)return c[d]||c["@@iterator"]||i[l(c)]}},"37e8":function(a,s,r){var l=r("83ab"),i=r("9bf2"),u=r("825a"),d=r("df75");a.exports=l?Object.defineProperties:function(f,p){u(f);for(var m=d(p),v=m.length,y=0,b;v>y;)i.f(f,b=m[y++],p[b]);return f}},"3bbe":function(a,s,r){var l=r("861d");a.exports=function(i){if(!l(i)&&i!==null)throw TypeError("Can't set "+String(i)+" as a prototype");return i}},"3ca3":function(a,s,r){var l=r("6547").charAt,i=r("69f3"),u=r("7dd0"),d="String Iterator",c=i.set,f=i.getterFor(d);u(String,"String",function(p){c(this,{type:d,string:String(p),index:0})},function(){var m=f(this),v=m.string,y=m.index,b;return y>=v.length?{value:void 0,done:!0}:(b=l(v,y),m.index+=b.length,{value:b,done:!1})})},"3f8c":function(a,s){a.exports={}},4160:function(a,s,r){var l=r("23e7"),i=r("17c2");l({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(a,s,r){var l=r("da84");a.exports=l},"44ad":function(a,s,r){var l=r("d039"),i=r("c6b6"),u="".split;a.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return i(d)=="String"?u.call(d,""):Object(d)}:Object},"44d2":function(a,s,r){var l=r("b622"),i=r("7c73"),u=r("9bf2"),d=l("unscopables"),c=Array.prototype;c[d]==null&&u.f(c,d,{configurable:!0,value:i(null)}),a.exports=function(f){c[d][f]=!0}},"44e7":function(a,s,r){var l=r("861d"),i=r("c6b6"),u=r("b622"),d=u("match");a.exports=function(c){var f;return l(c)&&((f=c[d])!==void 0?!!f:i(c)=="RegExp")}},4930:function(a,s,r){var l=r("d039");a.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})},"4d64":function(a,s,r){var l=r("fc6a"),i=r("50c4"),u=r("23cb"),d=function(c){return function(f,p,m){var v=l(f),y=i(v.length),b=u(m,y),x;if(c&&p!=p){for(;y>b;)if(x=v[b++],x!=x)return!0}else for(;y>b;b++)if((c||b in v)&&v[b]===p)return c||b||0;return!c&&-1}};a.exports={includes:d(!0),indexOf:d(!1)}},"4de4":function(a,s,r){var l=r("23e7"),i=r("b727").filter,u=r("1dde"),d=r("ae40"),c=u("filter"),f=d("filter");l({target:"Array",proto:!0,forced:!c||!f},{filter:function(m){return i(this,m,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,s,r){var l=r("0366"),i=r("7b0b"),u=r("9bdd"),d=r("e95a"),c=r("50c4"),f=r("8418"),p=r("35a1");a.exports=function(v){var y=i(v),b=typeof this=="function"?this:Array,x=arguments.length,E=x>1?arguments[1]:void 0,P=E!==void 0,D=p(y),M=0,Q,A,w,R,F,Z;if(P&&(E=l(E,x>2?arguments[2]:void 0,2)),D!=null&&!(b==Array&&d(D)))for(R=D.call(y),F=R.next,A=new b;!(w=F.call(R)).done;M++)Z=P?u(R,E,[w.value,M],!0):w.value,f(A,M,Z);else for(Q=c(y.length),A=new b(Q);Q>M;M++)Z=P?E(y[M],M):y[M],f(A,M,Z);return A.length=M,A}},"4fad":function(a,s,r){var l=r("23e7"),i=r("6f53").entries;l({target:"Object",stat:!0},{entries:function(d){return i(d)}})},"50c4":function(a,s,r){var l=r("a691"),i=Math.min;a.exports=function(u){return u>0?i(l(u),9007199254740991):0}},5135:function(a,s){var r={}.hasOwnProperty;a.exports=function(l,i){return r.call(l,i)}},5319:function(a,s,r){var l=r("d784"),i=r("825a"),u=r("7b0b"),d=r("50c4"),c=r("a691"),f=r("1d80"),p=r("8aa5"),m=r("14c3"),v=Math.max,y=Math.min,b=Math.floor,x=/\$([$&'`]|\d\d?|<[^>]*>)/g,E=/\$([$&'`]|\d\d?)/g,P=function(D){return D===void 0?D:String(D)};l("replace",2,function(D,M,Q,A){var w=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,R=A.REPLACE_KEEPS_$0,F=w?"$":"$0";return[function(z,U){var V=f(this),ee=z==null?void 0:z[D];return ee!==void 0?ee.call(z,V,U):M.call(String(V),z,U)},function(B,z){if(!w&&R||typeof z=="string"&&z.indexOf(F)===-1){var U=Q(M,B,this,z);if(U.done)return U.value}var V=i(B),ee=String(this),X=typeof z=="function";X||(z=String(z));var Ee=V.global;if(Ee){var ke=V.unicode;V.lastIndex=0}for(var De=[];;){var Pe=m(V,ee);if(Pe===null||(De.push(Pe),!Ee))break;var K=String(Pe[0]);K===""&&(V.lastIndex=p(ee,d(V.lastIndex),ke))}for(var q="",ge=0,me=0;me<De.length;me++){Pe=De[me];for(var ce=String(Pe[0]),Ge=v(y(c(Pe.index),ee.length),0),J=[],I=1;I<Pe.length;I++)J.push(P(Pe[I]));var H=Pe.groups;if(X){var Be=[ce].concat(J,Ge,ee);H!==void 0&&Be.push(H);var Qe=String(z.apply(void 0,Be))}else Qe=Z(ce,ee,Ge,J,H,z);Ge>=ge&&(q+=ee.slice(ge,Ge)+Qe,ge=Ge+ce.length)}return q+ee.slice(ge)}];function Z(B,z,U,V,ee,X){var Ee=U+B.length,ke=V.length,De=E;return ee!==void 0&&(ee=u(ee),De=x),M.call(X,De,function(Pe,K){var q;switch(K.charAt(0)){case"$":return"$";case"&":return B;case"`":return z.slice(0,U);case"'":return z.slice(Ee);case"<":q=ee[K.slice(1,-1)];break;default:var ge=+K;if(ge===0)return Pe;if(ge>ke){var me=b(ge/10);return me===0?Pe:me<=ke?V[me-1]===void 0?K.charAt(1):V[me-1]+K.charAt(1):Pe}q=V[ge-1]}return q===void 0?"":q})}})},5692:function(a,s,r){var l=r("c430"),i=r("c6cd");(a.exports=function(u,d){return i[u]||(i[u]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,s,r){var l=r("d066"),i=r("241c"),u=r("7418"),d=r("825a");a.exports=l("Reflect","ownKeys")||function(f){var p=i.f(d(f)),m=u.f;return m?p.concat(m(f)):p}},"5a34":function(a,s,r){var l=r("44e7");a.exports=function(i){if(l(i))throw TypeError("The method doesn't accept regular expressions");return i}},"5c6c":function(a,s){a.exports=function(r,l){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:l}}},"5db7":function(a,s,r){var l=r("23e7"),i=r("a2bf"),u=r("7b0b"),d=r("50c4"),c=r("1c0b"),f=r("65f0");l({target:"Array",proto:!0},{flatMap:function(m){var v=u(this),y=d(v.length),b;return c(m),b=f(v,0),b.length=i(b,v,v,y,0,1,m,arguments.length>1?arguments[1]:void 0),b}})},6547:function(a,s,r){var l=r("a691"),i=r("1d80"),u=function(d){return function(c,f){var p=String(i(c)),m=l(f),v=p.length,y,b;return m<0||m>=v?d?"":void 0:(y=p.charCodeAt(m),y<55296||y>56319||m+1===v||(b=p.charCodeAt(m+1))<56320||b>57343?d?p.charAt(m):y:d?p.slice(m,m+2):(y-55296<<10)+(b-56320)+65536)}};a.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(a,s,r){var l=r("861d"),i=r("e8b5"),u=r("b622"),d=u("species");a.exports=function(c,f){var p;return i(c)&&(p=c.constructor,typeof p=="function"&&(p===Array||i(p.prototype))?p=void 0:l(p)&&(p=p[d],p===null&&(p=void 0))),new(p===void 0?Array:p)(f===0?0:f)}},"69f3":function(a,s,r){var l=r("7f9a"),i=r("da84"),u=r("861d"),d=r("9112"),c=r("5135"),f=r("f772"),p=r("d012"),m=i.WeakMap,v,y,b,x=function(w){return b(w)?y(w):v(w,{})},E=function(w){return function(R){var F;if(!u(R)||(F=y(R)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return F}};if(l){var P=new m,D=P.get,M=P.has,Q=P.set;v=function(w,R){return Q.call(P,w,R),R},y=function(w){return D.call(P,w)||{}},b=function(w){return M.call(P,w)}}else{var A=f("state");p[A]=!0,v=function(w,R){return d(w,A,R),R},y=function(w){return c(w,A)?w[A]:{}},b=function(w){return c(w,A)}}a.exports={set:v,get:y,has:b,enforce:x,getterFor:E}},"6eeb":function(a,s,r){var l=r("da84"),i=r("9112"),u=r("5135"),d=r("ce4e"),c=r("8925"),f=r("69f3"),p=f.get,m=f.enforce,v=String(String).split("String");(a.exports=function(y,b,x,E){var P=E?!!E.unsafe:!1,D=E?!!E.enumerable:!1,M=E?!!E.noTargetGet:!1;if(typeof x=="function"&&(typeof b=="string"&&!u(x,"name")&&i(x,"name",b),m(x).source=v.join(typeof b=="string"?b:"")),y===l){D?y[b]=x:d(b,x);return}else P?!M&&y[b]&&(D=!0):delete y[b];D?y[b]=x:i(y,b,x)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||c(this)})},"6f53":function(a,s,r){var l=r("83ab"),i=r("df75"),u=r("fc6a"),d=r("d1e7").f,c=function(f){return function(p){for(var m=u(p),v=i(m),y=v.length,b=0,x=[],E;y>b;)E=v[b++],(!l||d.call(m,E))&&x.push(f?[E,m[E]]:m[E]);return x}};a.exports={entries:c(!0),values:c(!1)}},"73d9":function(a,s,r){var l=r("44d2");l("flatMap")},7418:function(a,s){s.f=Object.getOwnPropertySymbols},"746f":function(a,s,r){var l=r("428f"),i=r("5135"),u=r("e538"),d=r("9bf2").f;a.exports=function(c){var f=l.Symbol||(l.Symbol={});i(f,c)||d(f,c,{value:u.f(c)})}},7839:function(a,s){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,s,r){var l=r("1d80");a.exports=function(i){return Object(l(i))}},"7c73":function(a,s,r){var l=r("825a"),i=r("37e8"),u=r("7839"),d=r("d012"),c=r("1be4"),f=r("cc12"),p=r("f772"),m=">",v="<",y="prototype",b="script",x=p("IE_PROTO"),E=function(){},P=function(w){return v+b+m+w+v+"/"+b+m},D=function(w){w.write(P("")),w.close();var R=w.parentWindow.Object;return w=null,R},M=function(){var w=f("iframe"),R="java"+b+":",F;return w.style.display="none",c.appendChild(w),w.src=String(R),F=w.contentWindow.document,F.open(),F.write(P("document.F=Object")),F.close(),F.F},Q,A=function(){try{Q=document.domain&&new ActiveXObject("htmlfile")}catch{}A=Q?D(Q):M();for(var w=u.length;w--;)delete A[y][u[w]];return A()};d[x]=!0,a.exports=Object.create||function(R,F){var Z;return R!==null?(E[y]=l(R),Z=new E,E[y]=null,Z[x]=R):Z=A(),F===void 0?Z:i(Z,F)}},"7dd0":function(a,s,r){var l=r("23e7"),i=r("9ed3"),u=r("e163"),d=r("d2bb"),c=r("d44e"),f=r("9112"),p=r("6eeb"),m=r("b622"),v=r("c430"),y=r("3f8c"),b=r("ae93"),x=b.IteratorPrototype,E=b.BUGGY_SAFARI_ITERATORS,P=m("iterator"),D="keys",M="values",Q="entries",A=function(){return this};a.exports=function(w,R,F,Z,B,z,U){i(F,R,Z);var V=function(me){if(me===B&&De)return De;if(!E&&me in Ee)return Ee[me];switch(me){case D:return function(){return new F(this,me)};case M:return function(){return new F(this,me)};case Q:return function(){return new F(this,me)}}return function(){return new F(this)}},ee=R+" Iterator",X=!1,Ee=w.prototype,ke=Ee[P]||Ee["@@iterator"]||B&&Ee[B],De=!E&&ke||V(B),Pe=R=="Array"&&Ee.entries||ke,K,q,ge;if(Pe&&(K=u(Pe.call(new w)),x!==Object.prototype&&K.next&&(!v&&u(K)!==x&&(d?d(K,x):typeof K[P]!="function"&&f(K,P,A)),c(K,ee,!0,!0),v&&(y[ee]=A))),B==M&&ke&&ke.name!==M&&(X=!0,De=function(){return ke.call(this)}),(!v||U)&&Ee[P]!==De&&f(Ee,P,De),y[R]=De,B)if(q={values:V(M),keys:z?De:V(D),entries:V(Q)},U)for(ge in q)(E||X||!(ge in Ee))&&p(Ee,ge,q[ge]);else l({target:R,proto:!0,forced:E||X},q);return q}},"7f9a":function(a,s,r){var l=r("da84"),i=r("8925"),u=l.WeakMap;a.exports=typeof u=="function"&&/native code/.test(i(u))},"825a":function(a,s,r){var l=r("861d");a.exports=function(i){if(!l(i))throw TypeError(String(i)+" is not an object");return i}},"83ab":function(a,s,r){var l=r("d039");a.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,s,r){var l=r("c04e"),i=r("9bf2"),u=r("5c6c");a.exports=function(d,c,f){var p=l(c);p in d?i.f(d,p,u(0,f)):d[p]=f}},"861d":function(a,s){a.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},8875:function(a,s,r){var l,i,u;(function(d,c){i=[],l=c,u=typeof l=="function"?l.apply(s,i):l,u!==void 0&&(a.exports=u)})(typeof self<"u"?self:this,function(){function d(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==d&&document.currentScript)return document.currentScript;try{throw new Error}catch(Q){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,m=f.exec(Q.stack)||p.exec(Q.stack),v=m&&m[1]||!1,y=m&&m[2]||!1,b=document.location.href.replace(document.location.hash,""),x,E,P,D=document.getElementsByTagName("script");v===b&&(x=document.documentElement.outerHTML,E=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),P=x.replace(E,"$1").trim());for(var M=0;M<D.length;M++)if(D[M].readyState==="interactive"||D[M].src===v||v===b&&D[M].innerHTML&&D[M].innerHTML.trim()===P)return D[M];return null}}return d})},8925:function(a,s,r){var l=r("c6cd"),i=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(u){return i.call(u)}),a.exports=l.inspectSource},"8aa5":function(a,s,r){var l=r("6547").charAt;a.exports=function(i,u,d){return u+(d?l(i,u).length:1)}},"8bbf":function(a,s){a.exports=t},"90e3":function(a,s){var r=0,l=Math.random();a.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++r+l).toString(36)}},9112:function(a,s,r){var l=r("83ab"),i=r("9bf2"),u=r("5c6c");a.exports=l?function(d,c,f){return i.f(d,c,u(1,f))}:function(d,c,f){return d[c]=f,d}},9263:function(a,s,r){var l=r("ad6d"),i=r("9f7f"),u=RegExp.prototype.exec,d=String.prototype.replace,c=u,f=function(){var y=/a/,b=/b*/g;return u.call(y,"a"),u.call(b,"a"),y.lastIndex!==0||b.lastIndex!==0}(),p=i.UNSUPPORTED_Y||i.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,v=f||m||p;v&&(c=function(b){var x=this,E,P,D,M,Q=p&&x.sticky,A=l.call(x),w=x.source,R=0,F=b;return Q&&(A=A.replace("y",""),A.indexOf("g")===-1&&(A+="g"),F=String(b).slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&b[x.lastIndex-1]!==`
`)&&(w="(?: "+w+")",F=" "+F,R++),P=new RegExp("^(?:"+w+")",A)),m&&(P=new RegExp("^"+w+"$(?!\\s)",A)),f&&(E=x.lastIndex),D=u.call(Q?P:x,F),Q?D?(D.input=D.input.slice(R),D[0]=D[0].slice(R),D.index=x.lastIndex,x.lastIndex+=D[0].length):x.lastIndex=0:f&&D&&(x.lastIndex=x.global?D.index+D[0].length:E),m&&D&&D.length>1&&d.call(D[0],P,function(){for(M=1;M<arguments.length-2;M++)arguments[M]===void 0&&(D[M]=void 0)}),D}),a.exports=c},"94ca":function(a,s,r){var l=r("d039"),i=/#|\.prototype\./,u=function(m,v){var y=c[d(m)];return y==p?!0:y==f?!1:typeof v=="function"?l(v):!!v},d=u.normalize=function(m){return String(m).replace(i,".").toLowerCase()},c=u.data={},f=u.NATIVE="N",p=u.POLYFILL="P";a.exports=u},"99af":function(a,s,r){var l=r("23e7"),i=r("d039"),u=r("e8b5"),d=r("861d"),c=r("7b0b"),f=r("50c4"),p=r("8418"),m=r("65f0"),v=r("1dde"),y=r("b622"),b=r("2d00"),x=y("isConcatSpreadable"),E=9007199254740991,P="Maximum allowed index exceeded",D=b>=51||!i(function(){var w=[];return w[x]=!1,w.concat()[0]!==w}),M=v("concat"),Q=function(w){if(!d(w))return!1;var R=w[x];return R!==void 0?!!R:u(w)},A=!D||!M;l({target:"Array",proto:!0,forced:A},{concat:function(R){var F=c(this),Z=m(F,0),B=0,z,U,V,ee,X;for(z=-1,V=arguments.length;z<V;z++)if(X=z===-1?F:arguments[z],Q(X)){if(ee=f(X.length),B+ee>E)throw TypeError(P);for(U=0;U<ee;U++,B++)U in X&&p(Z,B,X[U])}else{if(B>=E)throw TypeError(P);p(Z,B++,X)}return Z.length=B,Z}})},"9bdd":function(a,s,r){var l=r("825a");a.exports=function(i,u,d,c){try{return c?u(l(d)[0],d[1]):u(d)}catch(p){var f=i.return;throw f!==void 0&&l(f.call(i)),p}}},"9bf2":function(a,s,r){var l=r("83ab"),i=r("0cfb"),u=r("825a"),d=r("c04e"),c=Object.defineProperty;s.f=l?c:function(p,m,v){if(u(p),m=d(m,!0),u(v),i)try{return c(p,m,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(p[m]=v.value),p}},"9ed3":function(a,s,r){var l=r("ae93").IteratorPrototype,i=r("7c73"),u=r("5c6c"),d=r("d44e"),c=r("3f8c"),f=function(){return this};a.exports=function(p,m,v){var y=m+" Iterator";return p.prototype=i(l,{next:u(1,v)}),d(p,y,!1,!0),c[y]=f,p}},"9f7f":function(a,s,r){var l=r("d039");function i(u,d){return RegExp(u,d)}s.UNSUPPORTED_Y=l(function(){var u=i("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=l(function(){var u=i("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(a,s,r){var l=r("e8b5"),i=r("50c4"),u=r("0366"),d=function(c,f,p,m,v,y,b,x){for(var E=v,P=0,D=b?u(b,x,3):!1,M;P<m;){if(P in p){if(M=D?D(p[P],P,f):p[P],y>0&&l(M))E=d(c,f,M,i(M.length),E,y-1)-1;else{if(E>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[E]=M}E++}P++}return E};a.exports=d},a352:function(a,s){a.exports=o},a434:function(a,s,r){var l=r("23e7"),i=r("23cb"),u=r("a691"),d=r("50c4"),c=r("7b0b"),f=r("65f0"),p=r("8418"),m=r("1dde"),v=r("ae40"),y=m("splice"),b=v("splice",{ACCESSORS:!0,0:0,1:2}),x=Math.max,E=Math.min,P=9007199254740991,D="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!y||!b},{splice:function(Q,A){var w=c(this),R=d(w.length),F=i(Q,R),Z=arguments.length,B,z,U,V,ee,X;if(Z===0?B=z=0:Z===1?(B=0,z=R-F):(B=Z-2,z=E(x(u(A),0),R-F)),R+B-z>P)throw TypeError(D);for(U=f(w,z),V=0;V<z;V++)ee=F+V,ee in w&&p(U,V,w[ee]);if(U.length=z,B<z){for(V=F;V<R-z;V++)ee=V+z,X=V+B,ee in w?w[X]=w[ee]:delete w[X];for(V=R;V>R-z+B;V--)delete w[V-1]}else if(B>z)for(V=R-z;V>F;V--)ee=V+z-1,X=V+B-1,ee in w?w[X]=w[ee]:delete w[X];for(V=0;V<B;V++)w[V+F]=arguments[V+2];return w.length=R-z+B,U}})},a4d3:function(a,s,r){var l=r("23e7"),i=r("da84"),u=r("d066"),d=r("c430"),c=r("83ab"),f=r("4930"),p=r("fdbf"),m=r("d039"),v=r("5135"),y=r("e8b5"),b=r("861d"),x=r("825a"),E=r("7b0b"),P=r("fc6a"),D=r("c04e"),M=r("5c6c"),Q=r("7c73"),A=r("df75"),w=r("241c"),R=r("057f"),F=r("7418"),Z=r("06cf"),B=r("9bf2"),z=r("d1e7"),U=r("9112"),V=r("6eeb"),ee=r("5692"),X=r("f772"),Ee=r("d012"),ke=r("90e3"),De=r("b622"),Pe=r("e538"),K=r("746f"),q=r("d44e"),ge=r("69f3"),me=r("b727").forEach,ce=X("hidden"),Ge="Symbol",J="prototype",I=De("toPrimitive"),H=ge.set,Be=ge.getterFor(Ge),Qe=Object[J],Ae=i.Symbol,rt=u("JSON","stringify"),ht=Z.f,yt=B.f,cn=R.f,wn=z.f,bt=ee("symbols"),Mt=ee("op-symbols"),Qt=ee("string-to-symbol-registry"),fn=ee("symbol-to-string-registry"),Jt=ee("wks"),L=i.QObject,G=!L||!L[J]||!L[J].findChild,W=c&&m(function(){return Q(yt({},"a",{get:function(){return yt(this,"a",{value:7}).a}})).a!=7})?function(Se,fe,ye){var Le=ht(Qe,fe);Le&&delete Qe[fe],yt(Se,fe,ye),Le&&Se!==Qe&&yt(Qe,fe,Le)}:yt,pe=function(Se,fe){var ye=bt[Se]=Q(Ae[J]);return H(ye,{type:Ge,tag:Se,description:fe}),c||(ye.description=fe),ye},O=p?function(Se){return typeof Se=="symbol"}:function(Se){return Object(Se)instanceof Ae},T=function(fe,ye,Le){fe===Qe&&T(Mt,ye,Le),x(fe);var je=D(ye,!0);return x(Le),v(bt,je)?(Le.enumerable?(v(fe,ce)&&fe[ce][je]&&(fe[ce][je]=!1),Le=Q(Le,{enumerable:M(0,!1)})):(v(fe,ce)||yt(fe,ce,M(1,{})),fe[ce][je]=!0),W(fe,je,Le)):yt(fe,je,Le)},N=function(fe,ye){x(fe);var Le=P(ye),je=A(Le).concat(Ue(Le));return me(je,function(xt){(!c||se.call(Le,xt))&&T(fe,xt,Le[xt])}),fe},_=function(fe,ye){return ye===void 0?Q(fe):N(Q(fe),ye)},se=function(fe){var ye=D(fe,!0),Le=wn.call(this,ye);return this===Qe&&v(bt,ye)&&!v(Mt,ye)?!1:Le||!v(this,ye)||!v(bt,ye)||v(this,ce)&&this[ce][ye]?Le:!0},he=function(fe,ye){var Le=P(fe),je=D(ye,!0);if(!(Le===Qe&&v(bt,je)&&!v(Mt,je))){var xt=ht(Le,je);return xt&&v(bt,je)&&!(v(Le,ce)&&Le[ce][je])&&(xt.enumerable=!0),xt}},Ce=function(fe){var ye=cn(P(fe)),Le=[];return me(ye,function(je){!v(bt,je)&&!v(Ee,je)&&Le.push(je)}),Le},Ue=function(fe){var ye=fe===Qe,Le=cn(ye?Mt:P(fe)),je=[];return me(Le,function(xt){v(bt,xt)&&(!ye||v(Qe,xt))&&je.push(bt[xt])}),je};if(f||(Ae=function(){if(this instanceof Ae)throw TypeError("Symbol is not a constructor");var fe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ye=ke(fe),Le=function(je){this===Qe&&Le.call(Mt,je),v(this,ce)&&v(this[ce],ye)&&(this[ce][ye]=!1),W(this,ye,M(1,je))};return c&&G&&W(Qe,ye,{configurable:!0,set:Le}),pe(ye,fe)},V(Ae[J],"toString",function(){return Be(this).tag}),V(Ae,"withoutSetter",function(Se){return pe(ke(Se),Se)}),z.f=se,B.f=T,Z.f=he,w.f=R.f=Ce,F.f=Ue,Pe.f=function(Se){return pe(De(Se),Se)},c&&(yt(Ae[J],"description",{configurable:!0,get:function(){return Be(this).description}}),d||V(Qe,"propertyIsEnumerable",se,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Ae}),me(A(Jt),function(Se){K(Se)}),l({target:Ge,stat:!0,forced:!f},{for:function(Se){var fe=String(Se);if(v(Qt,fe))return Qt[fe];var ye=Ae(fe);return Qt[fe]=ye,fn[ye]=fe,ye},keyFor:function(fe){if(!O(fe))throw TypeError(fe+" is not a symbol");if(v(fn,fe))return fn[fe]},useSetter:function(){G=!0},useSimple:function(){G=!1}}),l({target:"Object",stat:!0,forced:!f,sham:!c},{create:_,defineProperty:T,defineProperties:N,getOwnPropertyDescriptor:he}),l({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ce,getOwnPropertySymbols:Ue}),l({target:"Object",stat:!0,forced:m(function(){F.f(1)})},{getOwnPropertySymbols:function(fe){return F.f(E(fe))}}),rt){var nt=!f||m(function(){var Se=Ae();return rt([Se])!="[null]"||rt({a:Se})!="{}"||rt(Object(Se))!="{}"});l({target:"JSON",stat:!0,forced:nt},{stringify:function(fe,ye,Le){for(var je=[fe],xt=1,er;arguments.length>xt;)je.push(arguments[xt++]);if(er=ye,!(!b(ye)&&fe===void 0||O(fe)))return y(ye)||(ye=function(Gl,co){if(typeof er=="function"&&(co=er.call(this,Gl,co)),!O(co))return co}),je[1]=ye,rt.apply(null,je)}})}Ae[J][I]||U(Ae[J],I,Ae[J].valueOf),q(Ae,Ge),Ee[ce]=!0},a630:function(a,s,r){var l=r("23e7"),i=r("4df4"),u=r("1c7e"),d=!u(function(c){Array.from(c)});l({target:"Array",stat:!0,forced:d},{from:i})},a640:function(a,s,r){var l=r("d039");a.exports=function(i,u){var d=[][i];return!!d&&l(function(){d.call(null,u||function(){throw 1},1)})}},a691:function(a,s){var r=Math.ceil,l=Math.floor;a.exports=function(i){return isNaN(i=+i)?0:(i>0?l:r)(i)}},ab13:function(a,s,r){var l=r("b622"),i=l("match");a.exports=function(u){var d=/./;try{"/./"[u](d)}catch{try{return d[i]=!1,"/./"[u](d)}catch{}}return!1}},ac1f:function(a,s,r){var l=r("23e7"),i=r("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(a,s,r){var l=r("825a");a.exports=function(){var i=l(this),u="";return i.global&&(u+="g"),i.ignoreCase&&(u+="i"),i.multiline&&(u+="m"),i.dotAll&&(u+="s"),i.unicode&&(u+="u"),i.sticky&&(u+="y"),u}},ae40:function(a,s,r){var l=r("83ab"),i=r("d039"),u=r("5135"),d=Object.defineProperty,c={},f=function(p){throw p};a.exports=function(p,m){if(u(c,p))return c[p];m||(m={});var v=[][p],y=u(m,"ACCESSORS")?m.ACCESSORS:!1,b=u(m,0)?m[0]:f,x=u(m,1)?m[1]:void 0;return c[p]=!!v&&!i(function(){if(y&&!l)return!0;var E={length:-1};y?d(E,1,{enumerable:!0,get:f}):E[1]=1,v.call(E,b,x)})}},ae93:function(a,s,r){var l=r("e163"),i=r("9112"),u=r("5135"),d=r("b622"),c=r("c430"),f=d("iterator"),p=!1,m=function(){return this},v,y,b;[].keys&&(b=[].keys(),"next"in b?(y=l(l(b)),y!==Object.prototype&&(v=y)):p=!0),v==null&&(v={}),!c&&!u(v,f)&&i(v,f,m),a.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:p}},b041:function(a,s,r){var l=r("00ee"),i=r("f5df");a.exports=l?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(a,s,r){var l=r("83ab"),i=r("9bf2").f,u=Function.prototype,d=u.toString,c=/^\s*function ([^ (]*)/,f="name";l&&!(f in u)&&i(u,f,{configurable:!0,get:function(){try{return d.call(this).match(c)[1]}catch{return""}}})},b622:function(a,s,r){var l=r("da84"),i=r("5692"),u=r("5135"),d=r("90e3"),c=r("4930"),f=r("fdbf"),p=i("wks"),m=l.Symbol,v=f?m:m&&m.withoutSetter||d;a.exports=function(y){return u(p,y)||(c&&u(m,y)?p[y]=m[y]:p[y]=v("Symbol."+y)),p[y]}},b64b:function(a,s,r){var l=r("23e7"),i=r("7b0b"),u=r("df75"),d=r("d039"),c=d(function(){u(1)});l({target:"Object",stat:!0,forced:c},{keys:function(p){return u(i(p))}})},b727:function(a,s,r){var l=r("0366"),i=r("44ad"),u=r("7b0b"),d=r("50c4"),c=r("65f0"),f=[].push,p=function(m){var v=m==1,y=m==2,b=m==3,x=m==4,E=m==6,P=m==5||E;return function(D,M,Q,A){for(var w=u(D),R=i(w),F=l(M,Q,3),Z=d(R.length),B=0,z=A||c,U=v?z(D,Z):y?z(D,0):void 0,V,ee;Z>B;B++)if((P||B in R)&&(V=R[B],ee=F(V,B,w),m)){if(v)U[B]=ee;else if(ee)switch(m){case 3:return!0;case 5:return V;case 6:return B;case 2:f.call(U,V)}else if(x)return!1}return E?-1:b||x?x:U}};a.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(a,s,r){var l=r("861d");a.exports=function(i,u){if(!l(i))return i;var d,c;if(u&&typeof(d=i.toString)=="function"&&!l(c=d.call(i))||typeof(d=i.valueOf)=="function"&&!l(c=d.call(i))||!u&&typeof(d=i.toString)=="function"&&!l(c=d.call(i)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(a,s){a.exports=!1},c6b6:function(a,s){var r={}.toString;a.exports=function(l){return r.call(l).slice(8,-1)}},c6cd:function(a,s,r){var l=r("da84"),i=r("ce4e"),u="__core-js_shared__",d=l[u]||i(u,{});a.exports=d},c740:function(a,s,r){var l=r("23e7"),i=r("b727").findIndex,u=r("44d2"),d=r("ae40"),c="findIndex",f=!0,p=d(c);c in[]&&Array(1)[c](function(){f=!1}),l({target:"Array",proto:!0,forced:f||!p},{findIndex:function(v){return i(this,v,arguments.length>1?arguments[1]:void 0)}}),u(c)},c8ba:function(a,s){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}a.exports=r},c975:function(a,s,r){var l=r("23e7"),i=r("4d64").indexOf,u=r("a640"),d=r("ae40"),c=[].indexOf,f=!!c&&1/[1].indexOf(1,-0)<0,p=u("indexOf"),m=d("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:f||!p||!m},{indexOf:function(y){return f?c.apply(this,arguments)||0:i(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,s,r){var l=r("5135"),i=r("fc6a"),u=r("4d64").indexOf,d=r("d012");a.exports=function(c,f){var p=i(c),m=0,v=[],y;for(y in p)!l(d,y)&&l(p,y)&&v.push(y);for(;f.length>m;)l(p,y=f[m++])&&(~u(v,y)||v.push(y));return v}},caad:function(a,s,r){var l=r("23e7"),i=r("4d64").includes,u=r("44d2"),d=r("ae40"),c=d("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!c},{includes:function(p){return i(this,p,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(a,s,r){var l=r("da84"),i=r("861d"),u=l.document,d=i(u)&&i(u.createElement);a.exports=function(c){return d?u.createElement(c):{}}},ce4e:function(a,s,r){var l=r("da84"),i=r("9112");a.exports=function(u,d){try{i(l,u,d)}catch{l[u]=d}return d}},d012:function(a,s){a.exports={}},d039:function(a,s){a.exports=function(r){try{return!!r()}catch{return!0}}},d066:function(a,s,r){var l=r("428f"),i=r("da84"),u=function(d){return typeof d=="function"?d:void 0};a.exports=function(d,c){return arguments.length<2?u(l[d])||u(i[d]):l[d]&&l[d][c]||i[d]&&i[d][c]}},d1e7:function(a,s,r){var l={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,u=i&&!l.call({1:2},1);s.f=u?function(c){var f=i(this,c);return!!f&&f.enumerable}:l},d28b:function(a,s,r){var l=r("746f");l("iterator")},d2bb:function(a,s,r){var l=r("825a"),i=r("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,d={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(d,[]),u=d instanceof Array}catch{}return function(p,m){return l(p),i(m),u?c.call(p,m):p.__proto__=m,p}}():void 0)},d3b7:function(a,s,r){var l=r("00ee"),i=r("6eeb"),u=r("b041");l||i(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(a,s,r){var l=r("9bf2").f,i=r("5135"),u=r("b622"),d=u("toStringTag");a.exports=function(c,f,p){c&&!i(c=p?c:c.prototype,d)&&l(c,d,{configurable:!0,value:f})}},d58f:function(a,s,r){var l=r("1c0b"),i=r("7b0b"),u=r("44ad"),d=r("50c4"),c=function(f){return function(p,m,v,y){l(m);var b=i(p),x=u(b),E=d(b.length),P=f?E-1:0,D=f?-1:1;if(v<2)for(;;){if(P in x){y=x[P],P+=D;break}if(P+=D,f?P<0:E<=P)throw TypeError("Reduce of empty array with no initial value")}for(;f?P>=0:E>P;P+=D)P in x&&(y=m(y,x[P],P,b));return y}};a.exports={left:c(!1),right:c(!0)}},d784:function(a,s,r){r("ac1f");var l=r("6eeb"),i=r("d039"),u=r("b622"),d=r("9263"),c=r("9112"),f=u("species"),p=!i(function(){var x=/./;return x.exec=function(){var E=[];return E.groups={a:"7"},E},"".replace(x,"$<a>")!=="7"}),m=function(){return"a".replace(/./,"$0")==="$0"}(),v=u("replace"),y=function(){return/./[v]?/./[v]("a","$0")==="":!1}(),b=!i(function(){var x=/(?:)/,E=x.exec;x.exec=function(){return E.apply(this,arguments)};var P="ab".split(x);return P.length!==2||P[0]!=="a"||P[1]!=="b"});a.exports=function(x,E,P,D){var M=u(x),Q=!i(function(){var B={};return B[M]=function(){return 7},""[x](B)!=7}),A=Q&&!i(function(){var B=!1,z=/a/;return x==="split"&&(z={},z.constructor={},z.constructor[f]=function(){return z},z.flags="",z[M]=/./[M]),z.exec=function(){return B=!0,null},z[M](""),!B});if(!Q||!A||x==="replace"&&!(p&&m&&!y)||x==="split"&&!b){var w=/./[M],R=P(M,""[x],function(B,z,U,V,ee){return z.exec===d?Q&&!ee?{done:!0,value:w.call(z,U,V)}:{done:!0,value:B.call(U,z,V)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),F=R[0],Z=R[1];l(String.prototype,x,F),l(RegExp.prototype,M,E==2?function(B,z){return Z.call(B,this,z)}:function(B){return Z.call(B,this)})}D&&c(RegExp.prototype[M],"sham",!0)}},d81d:function(a,s,r){var l=r("23e7"),i=r("b727").map,u=r("1dde"),d=r("ae40"),c=u("map"),f=d("map");l({target:"Array",proto:!0,forced:!c||!f},{map:function(m){return i(this,m,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,s,r){(function(l){var i=function(u){return u&&u.Math==Math&&u};a.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof l=="object"&&l)||Function("return this")()}).call(this,r("c8ba"))},dbb4:function(a,s,r){var l=r("23e7"),i=r("83ab"),u=r("56ef"),d=r("fc6a"),c=r("06cf"),f=r("8418");l({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(m){for(var v=d(m),y=c.f,b=u(v),x={},E=0,P,D;b.length>E;)D=y(v,P=b[E++]),D!==void 0&&f(x,P,D);return x}})},dbf1:function(a,s,r){(function(l){r.d(s,"a",function(){return u});function i(){return typeof window<"u"?window.console:globalThis.console}var u=i()}).call(this,r("c8ba"))},ddb0:function(a,s,r){var l=r("da84"),i=r("fdbc"),u=r("e260"),d=r("9112"),c=r("b622"),f=c("iterator"),p=c("toStringTag"),m=u.values;for(var v in i){var y=l[v],b=y&&y.prototype;if(b){if(b[f]!==m)try{d(b,f,m)}catch{b[f]=m}if(b[p]||d(b,p,v),i[v]){for(var x in u)if(b[x]!==u[x])try{d(b,x,u[x])}catch{b[x]=u[x]}}}}},df75:function(a,s,r){var l=r("ca84"),i=r("7839");a.exports=Object.keys||function(d){return l(d,i)}},e01a:function(a,s,r){var l=r("23e7"),i=r("83ab"),u=r("da84"),d=r("5135"),c=r("861d"),f=r("9bf2").f,p=r("e893"),m=u.Symbol;if(i&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var v={},y=function(){var M=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),Q=this instanceof y?new m(M):M===void 0?m():m(M);return M===""&&(v[Q]=!0),Q};p(y,m);var b=y.prototype=m.prototype;b.constructor=y;var x=b.toString,E=String(m("test"))=="Symbol(test)",P=/^Symbol\((.*)\)[^)]+$/;f(b,"description",{configurable:!0,get:function(){var M=c(this)?this.valueOf():this,Q=x.call(M);if(d(v,M))return"";var A=E?Q.slice(7,-1):Q.replace(P,"$1");return A===""?void 0:A}}),l({global:!0,forced:!0},{Symbol:y})}},e163:function(a,s,r){var l=r("5135"),i=r("7b0b"),u=r("f772"),d=r("e177"),c=u("IE_PROTO"),f=Object.prototype;a.exports=d?Object.getPrototypeOf:function(p){return p=i(p),l(p,c)?p[c]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?f:null}},e177:function(a,s,r){var l=r("d039");a.exports=!l(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},e260:function(a,s,r){var l=r("fc6a"),i=r("44d2"),u=r("3f8c"),d=r("69f3"),c=r("7dd0"),f="Array Iterator",p=d.set,m=d.getterFor(f);a.exports=c(Array,"Array",function(v,y){p(this,{type:f,target:l(v),index:0,kind:y})},function(){var v=m(this),y=v.target,b=v.kind,x=v.index++;return!y||x>=y.length?(v.target=void 0,{value:void 0,done:!0}):b=="keys"?{value:x,done:!1}:b=="values"?{value:y[x],done:!1}:{value:[x,y[x]],done:!1}},"values"),u.Arguments=u.Array,i("keys"),i("values"),i("entries")},e439:function(a,s,r){var l=r("23e7"),i=r("d039"),u=r("fc6a"),d=r("06cf").f,c=r("83ab"),f=i(function(){d(1)}),p=!c||f;l({target:"Object",stat:!0,forced:p,sham:!c},{getOwnPropertyDescriptor:function(v,y){return d(u(v),y)}})},e538:function(a,s,r){var l=r("b622");s.f=l},e893:function(a,s,r){var l=r("5135"),i=r("56ef"),u=r("06cf"),d=r("9bf2");a.exports=function(c,f){for(var p=i(f),m=d.f,v=u.f,y=0;y<p.length;y++){var b=p[y];l(c,b)||m(c,b,v(f,b))}}},e8b5:function(a,s,r){var l=r("c6b6");a.exports=Array.isArray||function(u){return l(u)=="Array"}},e95a:function(a,s,r){var l=r("b622"),i=r("3f8c"),u=l("iterator"),d=Array.prototype;a.exports=function(c){return c!==void 0&&(i.Array===c||d[u]===c)}},f5df:function(a,s,r){var l=r("00ee"),i=r("c6b6"),u=r("b622"),d=u("toStringTag"),c=i(function(){return arguments}())=="Arguments",f=function(p,m){try{return p[m]}catch{}};a.exports=l?i:function(p){var m,v,y;return p===void 0?"Undefined":p===null?"Null":typeof(v=f(m=Object(p),d))=="string"?v:c?i(m):(y=i(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},f772:function(a,s,r){var l=r("5692"),i=r("90e3"),u=l("keys");a.exports=function(d){return u[d]||(u[d]=i(d))}},fb15:function(a,s,r){if(r.r(s),typeof window<"u"){var l=window.document.currentScript;{var i=r("8875");l=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i})}var u=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(r.p=u[1])}r("99af"),r("4de4"),r("4160"),r("c975"),r("d81d"),r("a434"),r("159b"),r("a4d3"),r("e439"),r("dbb4"),r("b64b");function d(O,T,N){return T in O?Object.defineProperty(O,T,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[T]=N,O}function c(O,T){var N=Object.keys(O);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(O);T&&(_=_.filter(function(se){return Object.getOwnPropertyDescriptor(O,se).enumerable})),N.push.apply(N,_)}return N}function f(O){for(var T=1;T<arguments.length;T++){var N=arguments[T]!=null?arguments[T]:{};T%2?c(Object(N),!0).forEach(function(_){d(O,_,N[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(N)):c(Object(N)).forEach(function(_){Object.defineProperty(O,_,Object.getOwnPropertyDescriptor(N,_))})}return O}function p(O){if(Array.isArray(O))return O}r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function m(O,T){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(O)))){var N=[],_=!0,se=!1,he=void 0;try{for(var Ce=O[Symbol.iterator](),Ue;!(_=(Ue=Ce.next()).done)&&(N.push(Ue.value),!(T&&N.length===T));_=!0);}catch(nt){se=!0,he=nt}finally{try{!_&&Ce.return!=null&&Ce.return()}finally{if(se)throw he}}return N}}r("a630"),r("fb6a"),r("b0c0"),r("25f0");function v(O,T){(T==null||T>O.length)&&(T=O.length);for(var N=0,_=new Array(T);N<T;N++)_[N]=O[N];return _}function y(O,T){if(O){if(typeof O=="string")return v(O,T);var N=Object.prototype.toString.call(O).slice(8,-1);if(N==="Object"&&O.constructor&&(N=O.constructor.name),N==="Map"||N==="Set")return Array.from(O);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return v(O,T)}}function b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(O,T){return p(O)||m(O,T)||y(O,T)||b()}function E(O){if(Array.isArray(O))return v(O)}function P(O){if(typeof Symbol<"u"&&Symbol.iterator in Object(O))return Array.from(O)}function D(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(O){return E(O)||P(O)||y(O)||D()}var Q=r("a352"),A=r.n(Q);function w(O){O.parentElement!==null&&O.parentElement.removeChild(O)}function R(O,T,N){var _=N===0?O.children[0]:O.children[N-1].nextSibling;O.insertBefore(T,_)}var F=r("dbf1");r("13d5"),r("4fad"),r("ac1f"),r("5319");function Z(O){var T=Object.create(null);return function(_){var se=T[_];return se||(T[_]=O(_))}}var B=/-(\w)/g,z=Z(function(O){return O.replace(B,function(T,N){return N.toUpperCase()})});r("5db7"),r("73d9");var U=["Start","Add","Remove","Update","End"],V=["Choose","Unchoose","Sort","Filter","Clone"],ee=["Move"],X=[ee,U,V].flatMap(function(O){return O}).map(function(O){return"on".concat(O)}),Ee={manage:ee,manageAndEmit:U,emit:V};function ke(O){return X.indexOf(O)!==-1}r("caad"),r("2ca0");var De=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Pe(O){return De.includes(O)}function K(O){return["transition-group","TransitionGroup"].includes(O)}function q(O){return["id","class","role","style"].includes(O)||O.startsWith("data-")||O.startsWith("aria-")||O.startsWith("on")}function ge(O){return O.reduce(function(T,N){var _=x(N,2),se=_[0],he=_[1];return T[se]=he,T},{})}function me(O){var T=O.$attrs,N=O.componentData,_=N===void 0?{}:N,se=ge(Object.entries(T).filter(function(he){var Ce=x(he,2),Ue=Ce[0];return Ce[1],q(Ue)}));return f(f({},se),_)}function ce(O){var T=O.$attrs,N=O.callBackBuilder,_=ge(Ge(T));Object.entries(N).forEach(function(he){var Ce=x(he,2),Ue=Ce[0],nt=Ce[1];Ee[Ue].forEach(function(Se){_["on".concat(Se)]=nt(Se)})});var se="[data-draggable]".concat(_.draggable||"");return f(f({},_),{},{draggable:se})}function Ge(O){return Object.entries(O).filter(function(T){var N=x(T,2),_=N[0];return N[1],!q(_)}).map(function(T){var N=x(T,2),_=N[0],se=N[1];return[z(_),se]}).filter(function(T){var N=x(T,2),_=N[0];return N[1],!ke(_)})}r("c740");function J(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}function I(O,T){for(var N=0;N<T.length;N++){var _=T[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}function H(O,T,N){return T&&I(O.prototype,T),O}var Be=function(T){var N=T.el;return N},Qe=function(T,N){return T.__draggable_context=N},Ae=function(T){return T.__draggable_context},rt=function(){function O(T){var N=T.nodes,_=N.header,se=N.default,he=N.footer,Ce=T.root,Ue=T.realList;J(this,O),this.defaultNodes=se,this.children=[].concat(M(_),M(se),M(he)),this.externalComponent=Ce.externalComponent,this.rootTransition=Ce.transition,this.tag=Ce.tag,this.realList=Ue}return H(O,[{key:"render",value:function(N,_){var se=this.tag,he=this.children,Ce=this._isRootComponent,Ue=Ce?{default:function(){return he}}:he;return N(se,_,Ue)}},{key:"updated",value:function(){var N=this.defaultNodes,_=this.realList;N.forEach(function(se,he){Qe(Be(se),{element:_[he],index:he})})}},{key:"getUnderlyingVm",value:function(N){return Ae(N)}},{key:"getVmIndexFromDomIndex",value:function(N,_){var se=this.defaultNodes,he=se.length,Ce=_.children,Ue=Ce.item(N);if(Ue===null)return he;var nt=Ae(Ue);if(nt)return nt.index;if(he===0)return 0;var Se=Be(se[0]),fe=M(Ce).findIndex(function(ye){return ye===Se});return N<fe?0:he}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),O}(),ht=r("8bbf");function yt(O,T){var N=O[T];return N?N():[]}function cn(O){var T=O.$slots,N=O.realList,_=O.getKey,se=N||[],he=["header","footer"].map(function(ye){return yt(T,ye)}),Ce=x(he,2),Ue=Ce[0],nt=Ce[1],Se=T.item;if(!Se)throw new Error("draggable element must have an item slot");var fe=se.flatMap(function(ye,Le){return Se({element:ye,index:Le}).map(function(je){return je.key=_(ye),je.props=f(f({},je.props||{}),{},{"data-draggable":!0}),je})});if(fe.length!==se.length)throw new Error("Item slot must have only one child");return{header:Ue,footer:nt,default:fe}}function wn(O){var T=K(O),N=!Pe(O)&&!T;return{transition:T,externalComponent:N,tag:N?Object(ht.resolveComponent)(O):T?ht.TransitionGroup:O}}function bt(O){var T=O.$slots,N=O.tag,_=O.realList,se=O.getKey,he=cn({$slots:T,realList:_,getKey:se}),Ce=wn(N);return new rt({nodes:he,root:Ce,realList:_})}function Mt(O,T){var N=this;Object(ht.nextTick)(function(){return N.$emit(O.toLowerCase(),T)})}function Qt(O){var T=this;return function(N,_){if(T.realList!==null)return T["onDrag".concat(O)](N,_)}}function fn(O){var T=this,N=Qt.call(this,O);return function(_,se){N.call(T,_,se),Mt.call(T,O,_)}}var Jt=null,L={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(T){return T}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},G=["update:modelValue","change"].concat(M([].concat(M(Ee.manageAndEmit),M(Ee.emit)).map(function(O){return O.toLowerCase()}))),W=Object(ht.defineComponent)({name:"draggable",inheritAttrs:!1,props:L,emits:G,data:function(){return{error:!1}},render:function(){try{this.error=!1;var T=this.$slots,N=this.$attrs,_=this.tag,se=this.componentData,he=this.realList,Ce=this.getKey,Ue=bt({$slots:T,tag:_,realList:he,getKey:Ce});this.componentStructure=Ue;var nt=me({$attrs:N,componentData:se});return Ue.render(ht.h,nt)}catch(Se){return this.error=!0,Object(ht.h)("pre",{style:{color:"red"}},Se.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&F.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var T=this;if(!this.error){var N=this.$attrs,_=this.$el,se=this.componentStructure;se.updated();var he=ce({$attrs:N,callBackBuilder:{manageAndEmit:function(nt){return fn.call(T,nt)},emit:function(nt){return Mt.bind(T,nt)},manage:function(nt){return Qt.call(T,nt)}}}),Ce=_.nodeType===1?_:_.parentElement;this._sortable=new A.a(Ce,he),this.targetDomElement=Ce,Ce.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var T=this.list;return T||this.modelValue},getKey:function(){var T=this.itemKey;return typeof T=="function"?T:function(N){return N[T]}}},watch:{$attrs:{handler:function(T){var N=this._sortable;N&&Ge(T).forEach(function(_){var se=x(_,2),he=se[0],Ce=se[1];N.option(he,Ce)})},deep:!0}},methods:{getUnderlyingVm:function(T){return this.componentStructure.getUnderlyingVm(T)||null},getUnderlyingPotencialDraggableComponent:function(T){return T.__draggable_component__},emitChanges:function(T){var N=this;Object(ht.nextTick)(function(){return N.$emit("change",T)})},alterList:function(T){if(this.list){T(this.list);return}var N=M(this.modelValue);T(N),this.$emit("update:modelValue",N)},spliceList:function(){var T=arguments,N=function(se){return se.splice.apply(se,M(T))};this.alterList(N)},updatePosition:function(T,N){var _=function(he){return he.splice(N,0,he.splice(T,1)[0])};this.alterList(_)},getRelatedContextFromMoveEvent:function(T){var N=T.to,_=T.related,se=this.getUnderlyingPotencialDraggableComponent(N);if(!se)return{component:se};var he=se.realList,Ce={list:he,component:se};if(N!==_&&he){var Ue=se.getUnderlyingVm(_)||{};return f(f({},Ue),Ce)}return Ce},getVmIndexFromDomIndex:function(T){return this.componentStructure.getVmIndexFromDomIndex(T,this.targetDomElement)},onDragStart:function(T){this.context=this.getUnderlyingVm(T.item),T.item._underlying_vm_=this.clone(this.context.element),Jt=T.item},onDragAdd:function(T){var N=T.item._underlying_vm_;if(N!==void 0){w(T.item);var _=this.getVmIndexFromDomIndex(T.newIndex);this.spliceList(_,0,N);var se={element:N,newIndex:_};this.emitChanges({added:se})}},onDragRemove:function(T){if(R(this.$el,T.item,T.oldIndex),T.pullMode==="clone"){w(T.clone);return}var N=this.context,_=N.index,se=N.element;this.spliceList(_,1);var he={element:se,oldIndex:_};this.emitChanges({removed:he})},onDragUpdate:function(T){w(T.item),R(T.from,T.item,T.oldIndex);var N=this.context.index,_=this.getVmIndexFromDomIndex(T.newIndex);this.updatePosition(N,_);var se={element:this.context.element,oldIndex:N,newIndex:_};this.emitChanges({moved:se})},computeFutureIndex:function(T,N){if(!T.element)return 0;var _=M(N.to.children).filter(function(Ue){return Ue.style.display!=="none"}),se=_.indexOf(N.related),he=T.component.getVmIndexFromDomIndex(se),Ce=_.indexOf(Jt)!==-1;return Ce||!N.willInsertAfter?he:he+1},onDragMove:function(T,N){var _=this.move,se=this.realList;if(!_||!se)return!0;var he=this.getRelatedContextFromMoveEvent(T),Ce=this.computeFutureIndex(he,T),Ue=f(f({},this.context),{},{futureIndex:Ce}),nt=f(f({},T),{},{relatedContext:he,draggedContext:Ue});return _(nt,N)},onDragEnd:function(){Jt=null}}}),pe=W;s.default=pe},fb6a:function(a,s,r){var l=r("23e7"),i=r("861d"),u=r("e8b5"),d=r("23cb"),c=r("50c4"),f=r("fc6a"),p=r("8418"),m=r("b622"),v=r("1dde"),y=r("ae40"),b=v("slice"),x=y("slice",{ACCESSORS:!0,0:0,1:2}),E=m("species"),P=[].slice,D=Math.max;l({target:"Array",proto:!0,forced:!b||!x},{slice:function(Q,A){var w=f(this),R=c(w.length),F=d(Q,R),Z=d(A===void 0?R:A,R),B,z,U;if(u(w)&&(B=w.constructor,typeof B=="function"&&(B===Array||u(B.prototype))?B=void 0:i(B)&&(B=B[E],B===null&&(B=void 0)),B===Array||B===void 0))return P.call(w,F,Z);for(z=new(B===void 0?Array:B)(D(Z-F,0)),U=0;F<Z;F++,U++)F in w&&p(z,U,w[F]);return z.length=U,z}})},fc6a:function(a,s,r){var l=r("44ad"),i=r("1d80");a.exports=function(u){return l(i(u))}},fdbc:function(a,s){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,s,r){var l=r("4930");a.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Ol);var fy=Ol.exports;const py=Ph(fy),gy={а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"e",ж:"zh",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"ts",ч:"ch",ш:"sh",щ:"sch",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya"," ":"_","-":"_"},zl=e=>{const n=e.toLowerCase();let t="";for(const o of n)t+=gy[o]??o;return t.replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").substring(0,50)},my=(e,n)=>{let t=zl(e);return t&&!t.startsWith(n)&&(t=n+t),t},vy={class:"space-y-3"},hy={key:0,class:"rounded-lg border border-slate-200 overflow-hidden"},yy={class:"border-b border-slate-100 last:border-b-0"},by={class:"grid grid-cols-[1fr_1fr_120px_52px_52px_68px] gap-0 items-center px-2 py-1.5 hover:bg-slate-50/50 transition-colors"},xy={class:"px-1"},wy=["onUpdate:modelValue","onInput"],Sy={class:"px-1"},Cy=["onUpdate:modelValue"],$y={class:"px-1"},Ey=["onUpdate:modelValue"],Ry={class:"flex items-center justify-center"},Py=["onUpdate:modelValue"],Iy={class:"flex items-center justify-center"},Oy=["onUpdate:modelValue"],Dy={class:"flex items-center justify-end gap-0.5 pr-1"},Ty={type:"button",class:"drag-handle p-1.5 text-slate-300 hover:text-slate-500 cursor-grab rounded transition-colors"},My=["onClick","disabled"],Ay={key:0,class:"px-4 pb-2"},Fy={key:0,class:"text-[11px] text-red-500"},ky={key:1,class:"text-[11px] text-red-500"},Ly={key:1,class:"text-center py-6 bg-slate-50 rounded-lg border border-dashed border-slate-200"},Ny=["disabled"],Vy={key:2,class:"text-xs text-slate-400 text-center"},By=te({__name:"ColumnEditor",props:{modelValue:{},maxColumns:{}},emits:["update:modelValue"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=o.maxColumns||15,r=j([]),l=j(!1),i=()=>Math.random().toString(36).substring(2,9);ze(()=>o.modelValue,y=>{if(l.value){l.value=!1;return}y&&y.length>0&&(r.value=y.map(b=>({...b,id:b.id||i()})))},{immediate:!0});const u=y=>{if(!y.label){y.name="";return}y.name=zl(y.label)},d=y=>Ur(y),c=(y,b)=>y?r.value.some((x,E)=>E!==b&&x.name===y):!1,f=()=>{r.value.length>=s||(r.value.push({id:i(),name:"",label:"",type:"text",required:!1,searchable:!1}),m())},p=y=>{r.value.length<=1||(r.value.splice(y,1),m())},m=()=>{l.value=!0;const y=r.value.map(({id:b,...x})=>x);a("update:modelValue",y)};return n({isValid:()=>r.value.length===0?!1:r.value.every(y=>y.name&&y.label&&d(y.name)&&!c(y.name,r.value.indexOf(y)))}),(y,b)=>($(),k("div",vy,[r.value.length>0?($(),k("div",hy,[b[2]||(b[2]=ta('<div class="grid grid-cols-[1fr_1fr_120px_52px_52px_68px] gap-0 bg-slate-50 border-b border-slate-200 px-2 py-2 text-xs font-medium text-slate-500" data-v-c070d73c><div class="px-2" data-v-c070d73c>Название</div><div class="px-2" data-v-c070d73c>Код</div><div class="px-2" data-v-c070d73c>Тип</div><div class="text-center" data-v-c070d73c>Обяз.</div><div class="text-center" data-v-c070d73c>Поиск</div><div data-v-c070d73c></div></div>',1)),S(g(py),{modelValue:r.value,"onUpdate:modelValue":b[0]||(b[0]=x=>r.value=x),"item-key":"id",handle:".drag-handle","ghost-class":"opacity-50",onChange:m,tag:"div"},{item:C(({element:x,index:E})=>[h("div",yy,[h("div",by,[h("div",xy,[Ne(h("input",{"onUpdate:modelValue":P=>x.label=P,type:"text",placeholder:"Название",class:"w-full px-2.5 py-1.5 text-sm border border-slate-200 rounded-md bg-white focus:bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all",onInput:P=>{u(x),m()}},null,40,wy),[[qe,x.label]])]),h("div",Sy,[Ne(h("input",{"onUpdate:modelValue":P=>x.name=P,type:"text",placeholder:"slug",class:Ie(["w-full px-2.5 py-1.5 text-sm font-mono border border-slate-200 rounded-md bg-white focus:bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all",{"border-red-300 bg-red-50":x.name&&!d(x.name)||c(x.name,E)}]),onInput:m},null,42,Cy),[[qe,x.name]])]),h("div",$y,[Ne(h("select",{"onUpdate:modelValue":P=>x.type=P,class:"w-full px-2 py-1.5 text-sm border border-slate-200 rounded-md bg-white focus:border-indigo-400 focus:ring-1 focus:ring-indigo-100 transition-all appearance-none cursor-pointer",onChange:m},[...b[1]||(b[1]=[h("option",{value:"text"},"Текст",-1),h("option",{value:"number"},"Число",-1),h("option",{value:"date"},"Дата",-1),h("option",{value:"bool"},"Да/Нет",-1)])],40,Ey),[[On,x.type]])]),h("div",Ry,[Ne(h("input",{"onUpdate:modelValue":P=>x.required=P,type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",onChange:m},null,40,Py),[[xn,x.required]])]),h("div",Iy,[Ne(h("input",{"onUpdate:modelValue":P=>x.searchable=P,type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",onChange:m},null,40,Oy),[[xn,x.searchable]])]),h("div",Dy,[h("button",Ty,[S(g(Rs),{class:"w-3.5 h-3.5"})]),h("button",{type:"button",onClick:P=>p(E),class:Ie(["p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded transition-colors",{"opacity-30 cursor-not-allowed":r.value.length<=1}]),disabled:r.value.length<=1},[S(g(Ho),{class:"w-3.5 h-3.5"})],10,My)])]),x.name&&!d(x.name)||c(x.name,E)?($(),k("div",Ay,[x.name&&!d(x.name)?($(),k("p",Fy," Код: только a-z, 0-9, _ начиная с буквы ")):ve("",!0),c(x.name,E)?($(),k("p",ky," Код колонки должен быть уникальным ")):ve("",!0)])):ve("",!0)])]),_:1},8,["modelValue"])])):($(),k("div",Ly,[...b[3]||(b[3]=[h("p",{class:"text-sm text-slate-500"},"Добавьте хотя бы одну колонку",-1)])])),h("button",{type:"button",onClick:f,class:Ie(["w-full flex items-center justify-center gap-1.5 px-3 py-2.5 text-sm font-medium text-slate-500 hover:text-indigo-600 border border-dashed border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/50 rounded-lg transition-all",{"opacity-50 cursor-not-allowed":r.value.length>=g(s)}]),disabled:r.value.length>=g(s)},[S(g(Yo),{class:"w-4 h-4"}),b[4]||(b[4]=ae(" Добавить колонку ",-1))],10,Ny),r.value.length>0?($(),k("p",Vy,Y(r.value.length)+" из "+Y(g(s))+" колонок ",1)):ve("",!0)]))}}),Ul=vs(By,[["__scopeId","data-v-c070d73c"]]),jy={key:0,class:"p-6"},zy={class:"flex items-center justify-between"},Uy={class:"grid grid-cols-2 gap-3"},Gy=["onClick","disabled"],Hy={class:"font-bold text-slate-900 text-sm"},_y={class:"text-xs text-slate-500 mt-1"},Ky={key:0,class:"text-[10px] text-slate-400 mt-1"},Wy=["disabled"],Xy={key:1,class:"p-6"},Yy={class:"flex items-center justify-between"},qy={class:"flex items-center gap-3"},Qy={class:"relative mt-1"},Jy={key:0,class:"mt-1 text-xs text-red-600"},Zy={key:1,class:"mt-1 text-xs text-slate-500"},e0=["placeholder"],t0={key:0,class:"bg-slate-50 rounded-md p-4 border border-slate-100"},n0={class:"flex flex-wrap gap-2"},o0={class:"text-slate-400 ml-1"},r0={key:0,class:"text-red-400"},a0={key:1,class:"text-sm text-red-600"},s0=["disabled"],l0={key:2,class:"flex flex-col max-h-[85vh]"},i0={class:"flex items-center justify-between p-6 border-b border-slate-100"},u0={class:"flex items-center gap-3"},d0={class:"flex-1 overflow-y-auto p-6"},c0={class:"flex items-center justify-end gap-3 p-6 border-t border-slate-100 bg-slate-50"},f0=["disabled"],p0=te({__name:"CreateDirectoryModal",props:{isOpen:{type:Boolean},existingToolNames:{}},emits:["close","submit"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=[{id:"qa",label:"Вопрос-ответ",description:"Пары вопросов и ответов",icon:Ps,columns:[{name:"question",label:"Вопрос",type:"text",required:!0,searchable:!0},{name:"answer",label:"Ответ",type:"text",required:!0,searchable:!1}],defaultDescription:"Найти ответ на часто задаваемый вопрос"},{id:"service_catalog",label:"Каталог услуг",description:"Название, описание, цена",icon:xs,columns:[{name:"name",label:"Название",type:"text",required:!0,searchable:!0},{name:"description",label:"Описание",type:"text",required:!1,searchable:!0},{name:"price",label:"Цена",type:"number",required:!1,searchable:!1}],defaultDescription:"Найти услугу по названию или описанию"},{id:"product_catalog",label:"Каталог товаров",description:"С ценами и характеристиками",icon:Is,columns:[{name:"name",label:"Название",type:"text",required:!0,searchable:!0},{name:"description",label:"Описание",type:"text",required:!1,searchable:!0},{name:"price",label:"Цена",type:"number",required:!1,searchable:!1},{name:"specs",label:"Характеристики",type:"text",required:!1,searchable:!0}],defaultDescription:"Найти товар по названию, описанию или характеристикам"},{id:"company_info",label:"О компании",description:"Тема → информация",icon:Es,columns:[{name:"topic",label:"Тема",type:"text",required:!0,searchable:!0},{name:"info",label:"Информация",type:"text",required:!0,searchable:!0}],defaultDescription:"Получить информацию о компании по теме"},{id:"custom",label:"Произвольный",description:"Задайте свои колонки",icon:Ar,columns:[],defaultDescription:"Поиск по справочнику"},{id:"ai_generate",label:"Создать с ИИ",description:"Опишите — ИИ сгенерирует",icon:bd,columns:[],defaultDescription:""}],r=j("template"),l=j(null),i=j(!1),u=j(""),d=j(""),c=j({name:"",tool_name:"",tool_description:""}),f=j([{id:"1",name:"",label:"",type:"text",required:!0,searchable:!0}]),p=j(null),m=re(()=>s.find(w=>w.id===l.value)),v=re(()=>c.value.name.trim()&&c.value.tool_name.trim()&&/^[a-z][a-z0-9_]*$/.test(c.value.tool_name)&&!d.value),y=re(()=>f.value.length===0?!1:f.value.every(w=>w.name&&w.label&&/^[a-z][a-z0-9_]*$/.test(w.name))),b=w=>{w!=="ai_generate"&&(l.value=w)},x=()=>{l.value&&(r.value="details")},E=()=>{c.value.tool_name=my(c.value.name,"get_"),P()},P=()=>{d.value=Us(c.value.tool_name,o.existingToolNames||[])},D=()=>{v.value&&(l.value==="custom"?r.value="columns":A())},M=()=>{r.value="template",l.value=null,c.value={name:"",tool_name:"",tool_description:""},f.value=[{id:"1",name:"",label:"",type:"text",required:!0,searchable:!0}],u.value="",d.value="",i.value=!1},Q=()=>{M(),a("close")},A=()=>{var R,F;if(!l.value)return;u.value="",i.value=!0;let w;if(l.value==="custom"){if(!y.value){u.value="Заполните все колонки корректно",i.value=!1;return}w=f.value.map(({id:Z,...B})=>B)}else w=(((R=m.value)==null?void 0:R.columns)||[]).map(Z=>({...Z,searchable:Z.searchable??!1}));a("submit",{name:c.value.name,tool_name:c.value.tool_name,tool_description:c.value.tool_description||((F=m.value)==null?void 0:F.defaultDescription)||"",template:l.value,columns:w})};return ze(()=>o.isOpen,w=>{w&&M()}),ze(()=>c.value.tool_name,()=>{P()}),n({setSubmitting:w=>{i.value=w},setError:w=>{u.value=w},close:Q}),(w,R)=>($(),ne(g(ya),{open:e.isOpen,"onUpdate:open":R[7]||(R[7]=F=>!F&&Q())},{default:C(()=>[S(g(ba),{"class-name":r.value==="columns"?"max-w-3xl":"max-w-xl",onEscapeKeyDown:R[6]||(R[6]=Vt(()=>{},["prevent"]))},{default:C(()=>{var F,Z;return[r.value==="template"?($(),k("div",jy,[S(g(ko),{class:"mb-6"},{default:C(()=>[h("div",zy,[h("div",null,[S(g(Qn),null,{default:C(()=>[...R[8]||(R[8]=[ae("Создать справочник",-1)])]),_:1}),S(g(Jn),null,{default:C(()=>[...R[9]||(R[9]=[ae("Выберите тип справочника",-1)])]),_:1})]),S(g(Po))])]),_:1}),h("div",Uy,[($(),k(He,null,Xe(s,B=>h("button",{key:B.id,onClick:z=>b(B.id),class:Ie(["flex flex-col items-start p-4 rounded-md border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/50 transition-all text-left group",[l.value===B.id?"border-indigo-400 bg-indigo-50":"",B.id==="ai_generate"?"opacity-50 cursor-not-allowed":""]]),disabled:B.id==="ai_generate"},[h("div",{class:Ie(["w-10 h-10 rounded-lg flex items-center justify-center mb-3",[l.value===B.id?"bg-indigo-600 text-white":"bg-slate-100 text-slate-500 group-hover:bg-indigo-100 group-hover:text-indigo-600"]])},[($(),ne(Uo(B.icon),{class:"w-5 h-5"}))],2),h("span",Hy,Y(B.label),1),h("span",_y,Y(B.description),1),B.id==="ai_generate"?($(),k("span",Ky,"Скоро")):ve("",!0)],10,Gy)),64))]),S(g(Xr),{class:"mt-6"},{default:C(()=>[h("button",{disabled:!l.value,onClick:x,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," Далее ",8,Wy)]),_:1})])):r.value==="details"?($(),k("div",Xy,[S(g(ko),{class:"mb-6"},{default:C(()=>[h("div",Yy,[h("div",qy,[h("button",{onClick:R[0]||(R[0]=B=>r.value="template"),class:"p-1 text-slate-400 hover:text-slate-600"},[S(g(Mr),{class:"h-5 w-5"})]),h("div",null,[S(g(Qn),null,{default:C(()=>[...R[10]||(R[10]=[ae("Настройка справочника",-1)])]),_:1}),S(g(Jn),null,{default:C(()=>{var B;return[ae(Y((B=m.value)==null?void 0:B.label),1)]}),_:1})])]),S(g(Po))])]),_:1}),h("form",{onSubmit:Vt(D,["prevent"]),class:"space-y-5"},[h("div",null,[R[11]||(R[11]=h("label",{class:"text-sm font-medium text-slate-700"},[ae(" Название справочника "),h("span",{class:"text-red-500"},"*")],-1)),Ne(h("input",{"onUpdate:modelValue":R[1]||(R[1]=B=>c.value.name=B),type:"text",required:"",placeholder:"Услуги клиники",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",onInput:E},null,544),[[qe,c.value.name,void 0,{trim:!0}]])]),h("div",null,[R[12]||(R[12]=h("label",{class:"text-sm font-medium text-slate-700"},[ae(" Имя функции для агента "),h("span",{class:"text-red-500"},"*")],-1)),h("div",Qy,[Ne(h("input",{"onUpdate:modelValue":R[2]||(R[2]=B=>c.value.tool_name=B),type:"text",required:"",placeholder:"get_services",pattern:"^[a-z][a-z0-9_]*$",class:Ie(["w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",{"border-red-300 bg-red-50":d.value}])},null,2),[[qe,c.value.tool_name,void 0,{trim:!0}]])]),d.value?($(),k("p",Jy,Y(d.value),1)):($(),k("p",Zy," Латиница, цифры и _ • Уникальное в рамках агента "))]),h("div",null,[R[13]||(R[13]=h("label",{class:"text-sm font-medium text-slate-700"},"Описание для агента",-1)),Ne(h("textarea",{"onUpdate:modelValue":R[3]||(R[3]=B=>c.value.tool_description=B),rows:"3",placeholder:(F=m.value)==null?void 0:F.defaultDescription,class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,8,e0),[[qe,c.value.tool_description,void 0,{trim:!0}]]),R[14]||(R[14]=h("p",{class:"mt-1 text-xs text-slate-500"}," Помогает агенту понять когда использовать этот справочник ",-1))]),l.value!=="custom"?($(),k("div",t0,[R[15]||(R[15]=h("p",{class:"text-xs font-bold text-slate-600 uppercase tracking-wider mb-2"},"Колонки справочника",-1)),h("div",n0,[($(!0),k(He,null,Xe((Z=m.value)==null?void 0:Z.columns,B=>($(),k("span",{key:B.name,class:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-xs text-slate-600"},[ae(Y(B.label)+" ",1),h("span",o0,"("+Y(B.type)+")",1),B.required?($(),k("span",r0,"*")):ve("",!0)]))),128))])])):ve("",!0),u.value?($(),k("p",a0,Y(u.value),1)):ve("",!0),S(g(Xr),null,{default:C(()=>[h("button",{type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:Q}," Отмена "),h("button",{type:"submit",class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:!v.value},[h("span",null,Y(l.value==="custom"?"Далее":"Создать"),1)],8,s0)]),_:1})],32)])):r.value==="columns"?($(),k("div",l0,[h("div",i0,[h("div",u0,[h("button",{onClick:R[4]||(R[4]=B=>r.value="details"),class:"p-1 text-slate-400 hover:text-slate-600"},[S(g(Mr),{class:"h-5 w-5"})]),h("div",null,[S(g(Qn),null,{default:C(()=>[...R[16]||(R[16]=[ae("Настройка колонок",-1)])]),_:1}),S(g(Jn),null,{default:C(()=>[ae(Y(c.value.name||"Произвольный справочник"),1)]),_:1})])]),S(g(Po))]),h("div",d0,[S(Ul,{modelValue:f.value,"onUpdate:modelValue":R[5]||(R[5]=B=>f.value=B),"max-columns":15,ref_key:"columnEditorRef",ref:p},null,8,["modelValue"])]),h("div",c0,[h("button",{type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 bg-white text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:Q}," Отмена "),h("button",{onClick:A,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:i.value||!y.value},[i.value?($(),ne(g(un),{key:0,class:"w-4 h-4 animate-spin"})):ve("",!0),h("span",null,Y(i.value?"Создание...":"Создать"),1)],8,f0)])])):ve("",!0)]}),_:1},8,["class-name"])]),_:1},8,["open"]))}}),g0={class:"flex items-center justify-between p-6 border-b border-slate-100"},m0={class:"flex-1 overflow-y-auto p-6"},v0={key:0},h0={key:0,class:"mt-4 text-sm text-red-600"},y0={key:1,class:"space-y-5"},b0={class:"flex items-center justify-between bg-slate-50 rounded-md p-4"},x0={class:"flex items-center gap-3"},w0={class:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-slate-200"},S0={class:"font-medium text-slate-900 text-sm"},C0={class:"text-xs text-slate-500"},$0={class:"space-y-3"},E0={class:"flex-1 px-4 py-2.5 bg-slate-50 rounded-lg text-sm text-slate-700 truncate border border-slate-100"},R0=["onUpdate:modelValue"],P0=["value","disabled"],I0={class:"space-y-3 pt-2"},O0={class:"flex items-center gap-3 cursor-pointer"},D0={class:"flex items-center gap-3 cursor-pointer"},T0={key:0,class:"pt-2"},M0={class:"overflow-x-auto rounded-lg border border-slate-200"},A0={class:"w-full text-sm"},F0={class:"bg-slate-50 border-b border-slate-200"},k0={class:"divide-y divide-slate-100"},L0={key:1,class:"text-sm text-red-600"},N0={key:2,class:"text-center py-6"},V0={class:"text-lg font-bold text-slate-900"},B0={class:"text-slate-500 mt-2"},j0={class:"font-bold text-slate-700"},z0={key:0,class:"text-slate-500"},U0={class:"font-bold text-yellow-600"},G0=["disabled"],H0=te({__name:"ImportCsvModal",props:{isOpen:{type:Boolean},directoryName:{},columns:{}},emits:["close","import"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=j("upload"),r=j(!1),l=j(null),i=j(null),u=j(""),d=j(""),c=j(!1),f=j(null),p=j({}),m=j(!0),v=j(!1),y=j(null),b=re(()=>{const z=Object.values(p.value).filter(V=>V!==null);return o.columns.filter(V=>V.required).map(V=>V.name).every(V=>z.includes(V))}),x=(z,U)=>Object.entries(p.value).some(([V,ee])=>ee===z&&V!==U),E=z=>{const U=p.value[z];if(!U)return null;const V=o.columns.find(ee=>ee.name===U);return V==null?void 0:V.label},P=()=>{var z;(z=i.value)==null||z.click()},D=z=>{var V;const U=z.target;(V=U.files)!=null&&V[0]&&Q(U.files[0])},M=z=>{var V;r.value=!1;const U=(V=z.dataTransfer)==null?void 0:V.files[0];U&&Q(U)},Q=async z=>{var ee;u.value="";const U=[".csv",".xlsx",".xls"],V=z.name.substring(z.name.lastIndexOf(".")).toLowerCase();if(!U.includes(V)){u.value="Поддерживаются только файлы .csv и .xlsx";return}if(z.size>10*1024*1024){u.value="Файл слишком большой. Максимум 10 МБ";return}l.value=z;try{const X=await z.text(),Ee=X.split(`
`).filter(q=>q.trim()),ke=X.includes(";")?";":",",De=((ee=Ee[0])==null?void 0:ee.split(ke).map(q=>q.trim().replace(/^"|"$/g,"")))||[],Pe=Ee.slice(1,4).map(q=>q.split(ke).map(ge=>ge.trim().replace(/^"|"$/g,"")));f.value={columns:De,rows_count:Ee.length-1,preview:Pe};const K={};for(const q of De){const ge=q.toLowerCase(),me=o.columns.find(ce=>ce.label.toLowerCase()===ge||ce.name.toLowerCase()===ge);K[q]=(me==null?void 0:me.name)||null}p.value=K,s.value="mapping"}catch{u.value="Не удалось прочитать файл"}},A=()=>{l.value=null,f.value=null,p.value={},s.value="upload"},w=()=>{!l.value||!b.value||(d.value="",c.value=!0,a("import",l.value,p.value,{hasHeader:m.value,replaceAll:v.value}))},R=()=>{var X,Ee;if(!((Ee=(X=y.value)==null?void 0:X.errors)!=null&&Ee.length))return;const z=y.value.errors.map(ke=>`Строка ${ke.row}: ${ke.error}`).join(`
`),U=new Blob([z],{type:"text/plain"}),V=URL.createObjectURL(U),ee=document.createElement("a");ee.href=V,ee.download="import-errors.txt",ee.click(),URL.revokeObjectURL(V)},F=()=>{s.value="upload",l.value=null,f.value=null,p.value={},u.value="",d.value="",c.value=!1,y.value=null,m.value=!0,v.value=!1,a("close")},Z=z=>{y.value=z,c.value=!1,s.value="result"},B=z=>{d.value=z,c.value=!1};return ze(()=>o.isOpen,z=>{z||F()}),n({setResult:Z,setError:B}),(z,U)=>($(),ne(g(ya),{open:e.isOpen,"onUpdate:open":U[4]||(U[4]=V=>!V&&F())},{default:C(()=>[S(g(ba),{"class-name":"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col"},{default:C(()=>{var V,ee,X,Ee,ke,De,Pe,K,q,ge,me,ce,Ge,J,I,H,Be,Qe;return[h("div",g0,[S(g(ko),null,{default:C(()=>[S(g(Qn),null,{default:C(()=>[...U[5]||(U[5]=[ae("Импорт из CSV",-1)])]),_:1}),S(g(Jn),null,{default:C(()=>[ae(Y(e.directoryName),1)]),_:1})]),_:1}),S(g(Po))]),h("div",m0,[s.value==="upload"?($(),k("div",v0,[h("div",{class:Ie(["border-2 border-dashed border-slate-200 rounded-md p-8 text-center hover:border-indigo-300 hover:bg-indigo-50/30 transition-all cursor-pointer",{"border-indigo-400 bg-indigo-50":r.value}]),onDragover:U[0]||(U[0]=Vt(Ae=>r.value=!0,["prevent"])),onDragleave:U[1]||(U[1]=Vt(Ae=>r.value=!1,["prevent"])),onDrop:Vt(M,["prevent"]),onClick:P},[h("input",{ref_key:"fileInputRef",ref:i,type:"file",accept:".csv,.xlsx,.xls",class:"hidden",onChange:D},null,544),S(g(Os),{class:"w-12 h-12 text-slate-400 mx-auto mb-4"}),U[6]||(U[6]=h("p",{class:"text-slate-700 font-medium"},"Перетащите файл сюда",-1)),U[7]||(U[7]=h("p",{class:"text-slate-500 text-sm mt-1"},"или нажмите для выбора",-1)),U[8]||(U[8]=h("p",{class:"text-slate-400 text-xs mt-3"},"Поддерживаются .csv и .xlsx до 10 МБ",-1))],34),u.value?($(),k("p",h0,Y(u.value),1)):ve("",!0)])):s.value==="mapping"?($(),k("div",y0,[h("div",b0,[h("div",x0,[h("div",w0,[S(g(Ad),{class:"w-5 h-5 text-emerald-600"})]),h("div",null,[h("p",S0,Y((V=l.value)==null?void 0:V.name),1),h("p",C0,Y((ee=f.value)==null?void 0:ee.rows_count)+" строк",1)])]),h("button",{onClick:A,class:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Удалить файл"},[S(g(Dn),{class:"w-4 h-4"})])]),h("div",null,[U[10]||(U[10]=h("p",{class:"text-sm font-medium text-slate-700 mb-3"},"Сопоставьте колонки файла с полями справочника",-1)),h("div",$0,[($(!0),k(He,null,Xe((X=f.value)==null?void 0:X.columns,Ae=>($(),k("div",{key:Ae,class:"flex items-center gap-3"},[h("div",E0,' "'+Y(Ae)+'" ',1),S(g(Dd),{class:"w-4 h-4 text-slate-400 flex-shrink-0"}),Ne(h("select",{"onUpdate:modelValue":rt=>p.value[Ae]=rt,class:"flex-1 px-4 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"},[U[9]||(U[9]=h("option",{value:null},"— Пропустить —",-1)),($(!0),k(He,null,Xe(e.columns,rt=>($(),k("option",{key:rt.name,value:rt.name,disabled:x(rt.name,Ae)},Y(rt.label),9,P0))),128))],8,R0),[[On,p.value[Ae]]])]))),128))])]),h("div",I0,[h("label",O0,[Ne(h("input",{"onUpdate:modelValue":U[2]||(U[2]=Ae=>m.value=Ae),type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[xn,m.value]]),U[11]||(U[11]=h("span",{class:"text-sm text-slate-700"},"Первая строка — заголовки",-1))]),h("label",D0,[Ne(h("input",{"onUpdate:modelValue":U[3]||(U[3]=Ae=>v.value=Ae),type:"checkbox",class:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[xn,v.value]]),U[12]||(U[12]=h("span",{class:"text-sm text-slate-700"},"Заменить все существующие записи",-1))])]),(ke=(Ee=f.value)==null?void 0:Ee.preview)!=null&&ke.length?($(),k("div",T0,[U[13]||(U[13]=h("p",{class:"text-sm font-medium text-slate-700 mb-3"},"Превью (первые 3 записи)",-1)),h("div",M0,[h("table",A0,[h("thead",null,[h("tr",F0,[($(!0),k(He,null,Xe(f.value.columns,(Ae,rt)=>($(),k("th",{key:rt,class:"px-3 py-2 text-left text-xs font-bold text-slate-500 uppercase whitespace-nowrap"},Y(E(Ae)||Ae),1))),128))])]),h("tbody",k0,[($(!0),k(He,null,Xe(f.value.preview,(Ae,rt)=>($(),k("tr",{key:rt},[($(!0),k(He,null,Xe(Ae,(ht,yt)=>($(),k("td",{key:yt,class:"px-3 py-2 text-slate-600 truncate max-w-[200px]"},Y(ht||"—"),1))),128))]))),128))])])])])):ve("",!0),d.value?($(),k("p",L0,Y(d.value),1)):ve("",!0)])):s.value==="result"?($(),k("div",N0,[h("div",{class:Ie(["w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",[(Pe=(De=y.value)==null?void 0:De.errors)!=null&&Pe.length?"bg-yellow-100":"bg-emerald-100"]])},[($(),ne(Uo((q=(K=y.value)==null?void 0:K.errors)!=null&&q.length?g(ws):g(Cd)),{class:Ie(["w-8 h-8",[(me=(ge=y.value)==null?void 0:ge.errors)!=null&&me.length?"text-yellow-600":"text-emerald-600"]])},null,8,["class"]))],2),h("h3",V0,Y((Ge=(ce=y.value)==null?void 0:ce.errors)!=null&&Ge.length?"Импорт завершён с предупреждениями":"Импорт успешно завершён"),1),h("p",B0,[U[14]||(U[14]=ae(" Добавлено записей: ",-1)),h("span",j0,Y((J=y.value)==null?void 0:J.created),1)]),(H=(I=y.value)==null?void 0:I.errors)!=null&&H.length?($(),k("p",z0,[U[15]||(U[15]=ae(" Пропущено (ошибки): ",-1)),h("span",U0,Y(y.value.errors.length),1)])):ve("",!0),(Qe=(Be=y.value)==null?void 0:Be.errors)!=null&&Qe.length?($(),k("button",{key:1,onClick:R,class:"mt-4 px-4 py-2 text-sm text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors"}," Скачать лог ошибок ")):ve("",!0)])):ve("",!0)]),S(g(Xr),{"class-name":"p-6 border-t border-slate-100 bg-slate-50"},{default:C(()=>[s.value!=="result"?($(),k("button",{key:0,type:"button",class:"px-5 py-2.5 rounded-md border border-slate-200 bg-white text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors",onClick:F}," Отмена ")):ve("",!0),s.value==="mapping"?($(),k("button",{key:1,onClick:w,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",disabled:c.value||!b.value},[c.value?($(),ne(g(un),{key:0,class:"w-4 h-4 animate-spin"})):ve("",!0),h("span",null,Y(c.value?"Импорт...":"Импортировать"),1)],8,G0)):ve("",!0),s.value==="result"?($(),k("button",{key:2,onClick:F,class:"px-6 py-2.5 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Готово ")):ve("",!0)]),_:1})]}),_:1})]),_:1},8,["open"]))}}),_0={class:"flex items-center justify-between"},K0={class:"flex-1 overflow-y-auto p-6 space-y-6"},W0={class:"grid grid-cols-2 gap-4"},X0={key:0,class:"mt-1 text-xs text-yellow-600"},Y0={key:1,class:"mt-1 text-xs text-red-600"},q0={class:"border-t border-slate-100 pt-5"},Q0={class:"flex items-center justify-between mb-3"},J0={key:0,class:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded-lg"},Z0={key:0,class:"mt-2 text-xs text-amber-600 bg-amber-50 p-3 rounded-lg"},eb={class:"border-t border-slate-100 pt-5"},tb={class:"flex items-start gap-6"},nb={class:"flex-1"},ob={class:"mt-1 text-xs text-slate-400"},rb={class:"flex-1"},ab={class:"w-40 shrink-0"},sb={class:"flex items-center gap-3 cursor-pointer px-3 py-2 rounded-md border border-slate-200 hover:border-slate-300 transition-all"},lb={class:"text-sm text-slate-700"},ib={key:0,class:"text-sm text-red-600"},ub={class:"flex-shrink-0 border-t border-slate-200 bg-white px-6 py-3"},db={class:"flex items-center justify-between"},cb={class:"flex items-center gap-2"},fb=["disabled"],pb={class:"p-6"},gb={class:"flex items-center gap-3 mt-6"},mb=["disabled"],vb=te({__name:"DirectorySettingsSheet",props:{isOpen:{type:Boolean},directory:{},existingToolNames:{}},emits:["close","save","delete"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=j({name:"",tool_name:"",tool_description:"",response_mode:"function_result",search_type:"fuzzy",is_enabled:!0,columns:[]}),r=j(!1),l=j(!1),i=j(""),u=j(""),d=j(!1),c=j(""),f=j([]),p=re(()=>s.value.tool_name!==c.value),m=re(()=>JSON.stringify(s.value.columns)!==JSON.stringify(f.value)),v=re(()=>{if(!m.value)return"";const A=s.value.columns.map(R=>R.name),w=f.value.filter(R=>!A.includes(R.name));return w.length>0&&o.directory&&o.directory.items_count>0?`Удаление колонок (${w.map(R=>R.label).join(", ")}) приведёт к потере данных в ${o.directory.items_count} записях`:""}),y=re(()=>{if(!s.value.name.trim()||!s.value.tool_name.trim()||!Ur(s.value.tool_name)||u.value||s.value.columns.length===0)return!1;if(E.value)return E.value.isValid();const A=s.value.columns.map(F=>F.name),w=s.value.columns.some(F=>!F.name||!F.label||!Ur(F.name)),R=A.length!==new Set(A).size;return!w&&!R}),b=()=>{if(o.directory){const A=(o.directory.columns||[]).map(w=>({name:w.name,label:w.label,type:w.type||"text",required:w.required??!1,searchable:w.searchable??!1}));s.value={name:o.directory.name,tool_name:o.directory.tool_name,tool_description:o.directory.tool_description||"",response_mode:o.directory.response_mode||"function_result",search_type:o.directory.search_type||"fuzzy",is_enabled:o.directory.is_enabled,columns:A},c.value=o.directory.tool_name,f.value=JSON.parse(JSON.stringify(A))}},x=()=>{u.value=Us(s.value.tool_name,o.existingToolNames||[],c.value)},E=j(null),P=re({get:()=>s.value.columns.map((A,w)=>({id:String(w),name:A.name,label:A.label,type:A.type,required:A.required,searchable:A.searchable??!1})),set:A=>{s.value.columns=A.map(({id:w,...R})=>R)}}),D=()=>{i.value="",u.value="",d.value=!1,r.value=!1,l.value=!1,a("close")},M=()=>{!y.value||!o.directory||(i.value="",r.value=!0,a("save",{id:o.directory.id,name:s.value.name,tool_name:s.value.tool_name,tool_description:s.value.tool_description,response_mode:s.value.response_mode,search_type:s.value.search_type,is_enabled:s.value.is_enabled,columns:s.value.columns}))},Q=()=>{o.directory&&(l.value=!0,a("delete",o.directory.id))};return ze(()=>o.isOpen,A=>{A&&(b(),i.value="",u.value="",d.value=!1)}),ze(()=>s.value.tool_name,()=>{x()}),n({setSaving:A=>{r.value=A},setDeleting:A=>{l.value=A},setError:A=>{i.value=A},close:D}),(A,w)=>($(),ne(g(_o),{open:e.isOpen,"onUpdate:open":w[10]||(w[10]=R=>!R&&D())},{default:C(()=>[S(g(Ko),{side:"right","class-name":"max-w-4xl flex flex-col"},{default:C(()=>[S(g(Wo),null,{default:C(()=>[h("div",_0,[S(g(Xo),null,{default:C(()=>[...w[11]||(w[11]=[ae("Настройки справочника",-1)])]),_:1}),S(g(la))])]),_:1}),h("div",K0,[h("div",W0,[h("div",null,[w[12]||(w[12]=h("label",{class:"text-sm font-medium text-slate-700"},"Название",-1)),Ne(h("input",{"onUpdate:modelValue":w[0]||(w[0]=R=>s.value.name=R),type:"text",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},null,512),[[qe,s.value.name,void 0,{trim:!0}]])]),h("div",null,[w[13]||(w[13]=h("label",{class:"text-sm font-medium text-slate-700"},"Имя функции",-1)),Ne(h("input",{"onUpdate:modelValue":w[1]||(w[1]=R=>s.value.tool_name=R),type:"text",class:Ie(["mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 font-mono focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all",{"border-yellow-300 bg-yellow-50":p.value}])},null,2),[[qe,s.value.tool_name,void 0,{trim:!0}]]),p.value?($(),k("p",X0," Изменение повлияет на промпт агента ")):ve("",!0),u.value?($(),k("p",Y0,Y(u.value),1)):ve("",!0)])]),h("div",null,[w[14]||(w[14]=h("label",{class:"text-sm font-medium text-slate-700"},"Описание для агента",-1)),Ne(h("textarea",{"onUpdate:modelValue":w[2]||(w[2]=R=>s.value.tool_description=R),rows:"2",class:"mt-1 w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all resize-none"},null,512),[[qe,s.value.tool_description,void 0,{trim:!0}]])]),h("div",q0,[h("div",Q0,[w[15]||(w[15]=h("label",{class:"text-sm font-medium text-slate-700"},"Колонки справочника",-1)),m.value?($(),k("span",J0," Изменения не сохранены ")):ve("",!0)]),S(Ul,{modelValue:P.value,"onUpdate:modelValue":w[3]||(w[3]=R=>P.value=R),"max-columns":15,ref_key:"columnEditorRef",ref:E},null,8,["modelValue"]),v.value?($(),k("p",Z0,Y(v.value),1)):ve("",!0)]),h("div",eb,[h("div",tb,[h("div",nb,[w[17]||(w[17]=h("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Режим ответа",-1)),Ne(h("select",{"onUpdate:modelValue":w[4]||(w[4]=R=>s.value.response_mode=R),class:"w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},[...w[16]||(w[16]=[h("option",{value:"function_result"},"Результат функции",-1),h("option",{value:"direct_message"},"Прямое сообщение",-1)])],512),[[On,s.value.response_mode]]),h("p",ob,Y(s.value.response_mode==="function_result"?"Агент сформулирует ответ сам":"Без обработки агентом"),1)]),h("div",rb,[w[19]||(w[19]=h("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Тип поиска",-1)),Ne(h("select",{"onUpdate:modelValue":w[5]||(w[5]=R=>s.value.search_type=R),class:"w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 focus:bg-white transition-all"},[...w[18]||(w[18]=[h("option",{value:"exact"},"Точный",-1),h("option",{value:"fuzzy"},"Нечёткий",-1),h("option",{value:"semantic"},"Семантический",-1)])],512),[[On,s.value.search_type]])]),h("div",ab,[w[20]||(w[20]=h("label",{class:"text-xs font-medium text-slate-500 mb-1.5 block"},"Статус",-1)),h("label",sb,[S(g(Ds),{modelValue:s.value.is_enabled,"onUpdate:modelValue":w[6]||(w[6]=R=>s.value.is_enabled=R)},null,8,["modelValue"]),h("span",lb,Y(s.value.is_enabled?"Активен":"Выключен"),1)])])])]),i.value?($(),k("p",ib,Y(i.value),1)):ve("",!0)]),h("div",ub,[h("div",db,[h("button",{onClick:w[7]||(w[7]=R=>d.value=!0),class:"px-3 py-1.5 text-sm text-red-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors"}," Удалить "),h("div",cb,[h("button",{onClick:D,class:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-md transition-colors"}," Отмена "),h("button",{onClick:M,class:"px-5 py-2 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-1.5",disabled:r.value||!y.value},[r.value?($(),ne(g(un),{key:0,class:"w-3.5 h-3.5 animate-spin"})):ve("",!0),ae(" "+Y(r.value?"Сохранение...":"Сохранить"),1)],8,fb)])])]),S(g(ya),{open:d.value,"onUpdate:open":w[9]||(w[9]=R=>d.value=R)},{default:C(()=>[S(g(ba),{"class-name":"max-w-sm"},{default:C(()=>[h("div",pb,[S(g(ko),{class:"mb-4"},{default:C(()=>[S(g(Qn),null,{default:C(()=>[...w[21]||(w[21]=[ae("Удалить справочник?",-1)])]),_:1}),S(g(Jn),null,{default:C(()=>{var R,F;return[ae(' Справочник "'+Y((R=e.directory)==null?void 0:R.name)+'" и все его записи ('+Y((F=e.directory)==null?void 0:F.items_count)+") будут удалены безвозвратно. ",1)]}),_:1})]),_:1}),h("div",gb,[h("button",{onClick:w[8]||(w[8]=R=>d.value=!1),class:"flex-1 px-4 py-2.5 rounded-md border border-slate-200 text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors"}," Отмена "),h("button",{onClick:Q,class:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-md text-sm font-bold hover:bg-red-700 transition-colors",disabled:l.value},Y(l.value?"Удаление...":"Удалить"),9,mb)])])]),_:1})]),_:1},8,["open"])]),_:1})]),_:1},8,["open"]))}}),$a=Symbol("tabs-context"),hb=te({__name:"Tabs",props:{value:{},defaultValue:{},className:{}},emits:["update:value"],setup(e,{emit:n}){const t=e,o=n,a=Nt(),s=j(t.value??t.defaultValue??"services");return ze(()=>t.value,i=>{i&&(s.value=i)}),zo($a,{value:s,setValue:i=>{s.value!==i&&(s.value=i,o("update:value",i))}}),(i,u)=>($(),k("div",Ve({class:["space-y-4",e.className]},g(a)),[le(i.$slots,"default")],16))}}),yb=te({__name:"TabsList",props:{className:{}},setup(e){const n=Nt();return(t,o)=>($(),k("div",Ve({class:["flex gap-2 flex-wrap",e.className]},g(n)),[le(t.$slots,"default")],16))}}),Or=te({__name:"TabsTrigger",props:{value:{}},setup(e){const n=e,t=Nt(),o=ro($a);if(!o)throw new Error("TabsTrigger must be used inside Tabs");const{value:a,setValue:s}=o,r=re(()=>a.value===n.value),l=n.value;return(i,u)=>($(),k("button",Ve({type:"button",class:["px-4 py-2 rounded-xl text-sm font-bold transition-colors",r.value?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"],onClick:u[0]||(u[0]=d=>g(s)(g(l)))},g(t)),[le(i.$slots,"default")],16))}}),Dr=te({__name:"TabsContent",props:{value:{}},setup(e){const n=e,t=Nt(),o=ro($a);if(!o)throw new Error("TabsContent must be used inside Tabs");const{value:a}=o,s=re(()=>a.value===n.value);return(r,l)=>Ne(($(),k("div",ot(ut(g(t))),[le(r.$slots,"default")],16)),[[ms,s.value]])}}),bb={class:"space-y-6"},xb={class:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm space-y-5"},wb={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},Sb={class:"flex items-center gap-4"},Cb={class:"flex items-center gap-2"},$b={class:"text-sm text-slate-500 mt-0.5"},Eb={class:"flex items-center gap-3"},Rb=["disabled"],Pb={key:0,class:"mt-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-start gap-3"},Ib={class:"flex-1"},Ob={class:"text-sm text-yellow-700 mt-0.5"},Db={class:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm space-y-6"},Tb={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},Mb={class:"p-6 border-b border-slate-100 space-y-4"},Ab={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},Fb={class:"flex flex-wrap items-center gap-3"},kb={class:"relative"},Lb=["value"],Nb={class:"flex items-center gap-2 cursor-pointer"},Vb={key:0,class:"bg-indigo-50 px-6 py-3 border-b border-indigo-100 flex items-center justify-between"},Bb={class:"flex items-center gap-4"},jb={class:"text-sm font-bold text-indigo-700"},zb={class:"flex items-center gap-2"},Ub={class:"overflow-x-auto bg-white"},Gb=["checked"],Hb=["checked","onChange"],_b={class:"text-sm font-bold text-slate-900"},Kb={key:0,class:"text-[10px] text-slate-500 mt-0.5 line-clamp-1"},Wb={class:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-slate-100 text-slate-600"},Xb={class:"text-sm font-mono text-slate-600"},Yb={class:"text-sm text-slate-600"},qb=["onClick"],Qb=["onUpdate:modelValue","onBlur","onKeyup"],Jb={class:"p-4 border-t border-slate-100 bg-slate-50/30 flex items-center justify-between"},Zb={class:"text-xs text-slate-500"},ex={class:"flex items-center gap-2"},tx=["disabled"],nx={class:"text-xs font-bold text-slate-700"},ox=["disabled"],rx={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},ax={class:"p-6 border-b border-slate-100 space-y-4"},sx={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},lx={class:"flex flex-wrap items-center gap-3"},ix={class:"relative"},ux={class:"text-sm text-slate-500"},dx={class:"overflow-x-auto bg-white"},cx={class:"text-sm font-bold text-slate-900"},fx={class:"text-[10px] text-slate-500 mt-0.5"},px={class:"text-sm text-slate-600 capitalize"},gx={class:"text-sm text-slate-600"},mx={class:"p-4 border-t border-slate-100 bg-slate-50/30 text-xs text-slate-500"},vx={class:"space-y-0.5 border border-slate-100 rounded-2xl overflow-hidden"},hx={class:"p-6 border-b border-slate-100 space-y-4"},yx={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},bx={class:"flex flex-wrap items-center gap-3"},xx={class:"relative"},wx={class:"flex items-center gap-2 cursor-pointer"},Sx={class:"overflow-x-auto bg-white"},Cx={class:"text-sm font-bold text-slate-900"},$x={key:0,class:"text-[10px] text-slate-500 mt-0.5 line-clamp-1"},Ex={class:"text-sm text-slate-600"},Rx=["onClick"],Px=["onUpdate:modelValue","onBlur"],Ix={class:"p-4 border-t border-slate-100 bg-slate-50/30 text-xs text-slate-500"},Ox=te({__name:"SQNSIntegrationManager",props:{agentId:{},status:{},lastSyncAt:{},warning:{}},emits:["close-warning","sync-complete"],setup(e,{emit:n}){const t=e,o=n,{syncSqns:a,fetchSqnsServicesCached:s,updateSqnsService:r,bulkUpdateSqnsServices:l,fetchSqnsCategories:i,updateSqnsCategory:u}=$d(),{success:d,error:c}=hs(),f=j(!1),p=j(!1),m=j([]),v=j(0),y=j([]),b=j([]),x=j(!1),E=j(""),P=j(!1),D=j("services"),M=j([]),Q=j(!1),A=j(""),w=j({search:"",category:null,is_enabled:null}),R=j({limit:50,offset:0}),F=re(()=>Math.floor(R.value.offset/R.value.limit)+1),Z=re(()=>m.value.length>0&&m.value.every(J=>b.value.includes(J.id))),B=re(()=>t.lastSyncAt?new Date(t.lastSyncAt).toLocaleString("ru-RU",{dateStyle:"medium",timeStyle:"short"}):"нет данных"),z=re(()=>{const J=E.value.trim().toLowerCase();return y.value.filter(I=>{var H;return P.value&&!I.is_enabled?!1:J?((H=I.name)==null?void 0:H.toLowerCase().includes(J))??!1:!0})}),U=re(()=>{const J=A.value.trim().toLowerCase();return J?M.value.filter(I=>`${I.name??""} ${I.role??""}`.toLowerCase().includes(J)):M.value}),V=async(J=!1)=>{try{J||(p.value=!0);const I=await s(t.agentId,{...w.value,...R.value,category:w.value.category??void 0,is_enabled:w.value.is_enabled??void 0});m.value=I.services,v.value=I.total}catch(I){console.error("Failed to load services:",I)}finally{J||(p.value=!1)}},ee=async(J=!1)=>{try{J||(x.value=!0),y.value=await i(t.agentId)}catch(I){console.error("Failed to load categories:",I)}finally{J||(x.value=!1)}},X=async()=>{try{Q.value=!0,M.value=[]}catch(J){console.error("Failed to load specialists:",J)}finally{Q.value=!1}},Ee=async()=>{try{f.value=!0;const J=await a(t.agentId);d("Синхронизация завершена",`Обновлено: ${J.services_synced} услуг, ${J.categories_synced} категорий`),o("sync-complete"),V(),ee(),await X()}catch(J){c("Ошибка синхронизации",J.message)}finally{f.value=!1}},ke=async J=>{const I=!!J.is_enabled,H=!I;J.is_enabled=H,console.log("🔧 Toggle service:",{serviceId:J.id,serviceIdType:typeof J.id,serviceName:J.name,originalState:I,nextState:H,payload:{is_enabled:H}});try{await r(t.agentId,J.id,{is_enabled:H}),console.log("✅ Toggle успешно, перезагружаем список..."),await V(!0),d("Статус обновлен",`Услуга "${J.name}" ${H?"включена":"отключена"}`)}catch(Be){J.is_enabled=I,c("Ошибка",Be.message),console.error("❌ Toggle error:",Be),await V()}},De=async J=>{const I=Number(J.priority);if(!Number.isFinite(I)||I<0){c("Ошибка","Приоритет должен быть числом >= 0"),V();return}try{await r(t.agentId,J.id,{priority:I}),await V(!0),d("Приоритет обновлен",`Для услуги "${J.name}" установлен приоритет ${I}`)}catch(H){c("Ошибка",H.message),await V(!0)}},Pe=async J=>{if(confirm(`Вы уверены? ${b.value.length} услуг будут ${J?"включены":"отключены"}`))try{await l(t.agentId,{ids:b.value,is_enabled:J}),b.value=[],await V(!0),d("Массовое обновление",`Успешно обновлено ${b.value.length} услуг`)}catch(I){c("Ошибка",I.message),await V(!0)}},K=async J=>{const I=J.is_enabled,H=!I;J.is_enabled=H;try{await u(t.agentId,J.id,{is_enabled:H}),await ee(!0),d("Статус категории обновлен",`Категория "${J.name}" ${H?"включена":"отключена"}`)}catch(Be){J.is_enabled=I,c("Ошибка",Be.message),await ee(!0)}},q=async J=>{const I=Number(J.priority);if(!Number.isFinite(I)||I<0){c("Ошибка","Приоритет должен быть числом >= 0"),await ee(!0);return}try{await u(t.agentId,J.id,{priority:I}),await ee(!0),d("Приоритет категории обновлен",`Для категории "${J.name}" установлен приоритет ${I}`)}catch(H){c("Ошибка",H.message),await ee(!0)}},ge=J=>{const I=b.value.indexOf(J);I===-1?b.value.push(J):b.value.splice(I,1)},me=()=>{Z.value?b.value=b.value.filter(J=>!m.value.some(I=>I.id===J)):m.value.forEach(J=>{b.value.includes(J.id)||b.value.push(J.id)})},ce=J=>{R.value.offset+=J*R.value.limit,V()};let Ge=null;return ze(()=>w.value.search,()=>{clearTimeout(Ge),Ge=setTimeout(()=>{R.value.offset=0,V()},300)}),ze([()=>w.value.category,()=>w.value.is_enabled],()=>{R.value.offset=0,V()}),ze(D,J=>{J==="specialists"&&M.value.length===0&&X(),J==="categories"&&y.value.length===0&&ee()}),Wt(()=>{V(),ee(),X()}),(J,I)=>($(),k("div",bb,[h("div",xb,[h("div",wb,[h("div",Sb,[h("div",{class:Ie(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",[e.status==="error"?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"]])},[S(g(Ed),{class:"w-6 h-6"})],2),h("div",null,[h("div",Cb,[I[13]||(I[13]=h("h3",{class:"text-lg font-bold text-slate-900"},"SQNS Интеграция",-1)),h("span",{class:Ie(["text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 rounded-full",[e.status==="error"?"bg-red-50 text-red-600":"bg-emerald-50 text-emerald-600"]])},Y(e.status==="error"?"Ошибка":"Активна"),3)]),h("p",$b," Последняя синхронизация: "+Y(B.value),1)])]),h("div",Eb,[h("button",{onClick:Ee,disabled:f.value,class:"flex items-center gap-2 px-4 py-2 bg-slate-50 text-slate-700 border border-slate-200 rounded-lg text-sm font-medium hover:bg-slate-100 transition-all disabled:opacity-50"},[S(g(Ld),{class:Ie(["h-4 w-4",{"animate-spin":f.value}])},null,8,["class"]),ae(" "+Y(f.value?"Синхронизация...":"Обновить данные"),1)],8,Rb)])]),e.warning?($(),k("div",Pb,[S(g(Od),{class:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),h("div",Ib,[I[14]||(I[14]=h("p",{class:"text-sm text-yellow-800 font-medium"},"Внимание",-1)),h("p",Ob,Y(e.warning),1)]),h("button",{onClick:I[0]||(I[0]=H=>J.$emit("close-warning")),class:"text-yellow-500 hover:text-yellow-600"},[S(g(Ho),{class:"h-4 w-4"})])])):ve("",!0)]),h("div",Db,[S(g(hb),{value:D.value,"onUpdate:value":I[12]||(I[12]=H=>D.value=H)},{default:C(()=>[S(g(yb),{className:"bg-slate-50/70 p-1 rounded-xl"},{default:C(()=>[S(g(Or),{value:"services"},{default:C(()=>[...I[15]||(I[15]=[ae("Услуги",-1)])]),_:1}),S(g(Or),{value:"specialists"},{default:C(()=>[...I[16]||(I[16]=[ae("Специалисты",-1)])]),_:1}),S(g(Or),{value:"categories"},{default:C(()=>[...I[17]||(I[17]=[ae("Категории",-1)])]),_:1})]),_:1}),S(g(Dr),{value:"services"},{default:C(()=>[h("div",Tb,[h("div",Mb,[h("div",Ab,[I[20]||(I[20]=h("h3",{class:"text-lg font-bold text-slate-900"},"Управление услугами",-1)),h("div",Fb,[h("div",kb,[S(g(Kn),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Ne(h("input",{"onUpdate:modelValue":I[1]||(I[1]=H=>w.value.search=H),type:"text",placeholder:"Поиск услуг...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[qe,w.value.search]])]),Ne(h("select",{"onUpdate:modelValue":I[2]||(I[2]=H=>w.value.category=H),class:"px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all"},[I[18]||(I[18]=h("option",{value:null},"Все категории",-1)),($(!0),k(He,null,Xe(y.value,H=>($(),k("option",{key:H.id,value:H.name},Y(H.name),9,Lb))),128))],512),[[On,w.value.category]]),h("label",Nb,[Ne(h("input",{"onUpdate:modelValue":I[3]||(I[3]=H=>w.value.is_enabled=H),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,512),[[xn,w.value.is_enabled]]),I[19]||(I[19]=h("span",{class:"text-sm text-slate-600"},"Только включенные",-1))])])])]),S(rs,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform -translate-y-2 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-2 opacity-0"},{default:C(()=>[b.value.length>0?($(),k("div",Vb,[h("div",Bb,[h("span",jb,"Выбрано: "+Y(b.value.length),1),I[21]||(I[21]=h("div",{class:"h-4 w-px bg-indigo-200"},null,-1)),h("div",zb,[h("button",{onClick:I[4]||(I[4]=H=>Pe(!0)),class:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors"}," Включить выбранные "),h("button",{onClick:I[5]||(I[5]=H=>Pe(!1)),class:"text-xs font-bold text-red-600 hover:text-red-800 transition-colors"}," Отключить выбранные ")])]),h("button",{onClick:I[6]||(I[6]=H=>b.value=[]),class:"text-xs font-medium text-slate-500 hover:text-slate-700"}," Сбросить выбор ")])):ve("",!0)]),_:1}),h("div",Ub,[S(g(Xn),null,{default:C(()=>[S(g(Yn),null,{default:C(()=>[S(g(pt),null,{default:C(()=>[S(g(et),{className:"w-10"},{default:C(()=>[h("input",{type:"checkbox",checked:Z.value,onChange:me,class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,40,Gb)]),_:1}),S(g(et),null,{default:C(()=>[...I[22]||(I[22]=[ae("Услуга",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[23]||(I[23]=[ae("Категория",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[24]||(I[24]=[ae("Цена",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[25]||(I[25]=[ae("Длительность",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[26]||(I[26]=[ae("Статус",-1)])]),_:1}),S(g(et),{className:"w-24"},{default:C(()=>[...I[27]||(I[27]=[ae("Приоритет",-1)])]),_:1})]),_:1})]),_:1}),S(g(qn),null,{default:C(()=>[p.value?($(),k(He,{key:0},Xe(5,H=>S(g(pt),{key:`skeleton-${H}`,class:"animate-pulse"},{default:C(()=>[S(g(Te),null,{default:C(()=>[...I[28]||(I[28]=[h("div",{class:"h-4 w-4 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[29]||(I[29]=[h("div",{class:"h-4 w-48 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[30]||(I[30]=[h("div",{class:"h-4 w-24 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[31]||(I[31]=[h("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[32]||(I[32]=[h("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[33]||(I[33]=[h("div",{class:"h-6 w-10 bg-slate-100 rounded-full"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[34]||(I[34]=[h("div",{class:"h-8 w-16 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):m.value.length===0?($(),ne(g(pt),{key:1},{default:C(()=>[S(g(Te),{colspan:7,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...I[35]||(I[35]=[ae(" Услуги не найдены ",-1)])]),_:1})]),_:1})):($(!0),k(He,{key:2},Xe(m.value,H=>($(),ne(g(pt),{key:H.id,class:Ie(["hover:bg-slate-50/50 transition-colors",b.value.includes(H.id)?"bg-indigo-50/20":""])},{default:C(()=>[S(g(Te),null,{default:C(()=>[h("input",{type:"checkbox",checked:b.value.includes(H.id),onChange:Be=>ge(H.id),class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,40,Hb)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("p",_b,Y(H.name),1),H.description?($(),k("p",Kb,Y(H.description),1)):ve("",!0)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("span",Wb,Y(H.category||"Без категории"),1)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("span",Xb,Y(H.price_range||"—")+" ₽",1)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("span",Yb,Y(H.duration)+" мин",1)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("button",{onClick:Be=>ke(H),class:Ie(["relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",[H.is_enabled?"bg-emerald-500":"bg-slate-200"]])},[h("span",{"aria-hidden":"true",class:Ie(["pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow transition duration-200 ease-in-out",[H.is_enabled?"translate-x-4":"translate-x-0"]])},null,2)],10,qb)]),_:2},1024),S(g(Te),null,{default:C(()=>[Ne(h("input",{type:"number","onUpdate:modelValue":Be=>H.priority=Be,onBlur:Be=>De(H),onKeyup:ao(Be=>De(H),["enter"]),class:"w-16 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-xs font-mono focus:ring-1 focus:ring-indigo-500 focus:bg-white transition-all",min:"0",max:"100"},null,40,Qb),[[qe,H.priority,void 0,{number:!0}]])]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),h("div",Jb,[h("p",Zb," Показано "+Y(R.value.offset+1)+"-"+Y(Math.min(R.value.offset+R.value.limit,v.value))+" из "+Y(v.value)+" услуг ",1),h("div",ex,[h("button",{onClick:I[7]||(I[7]=H=>ce(-1)),disabled:R.value.offset===0,class:"p-2 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-30 transition-all"},[S(g(Cs),{class:"h-4 w-4"})],8,tx),h("span",nx,"Страница "+Y(F.value),1),h("button",{onClick:I[8]||(I[8]=H=>ce(1)),disabled:R.value.offset+R.value.limit>=v.value,class:"p-2 rounded-lg hover:bg-white hover:shadow-sm disabled:opacity-30 transition-all"},[S(g($s),{class:"h-4 w-4"})],8,ox)])])])]),_:1}),S(g(Dr),{value:"specialists"},{default:C(()=>[h("div",rx,[h("div",ax,[h("div",sx,[I[36]||(I[36]=h("h3",{class:"text-lg font-bold text-slate-900"},"Специалисты",-1)),h("div",lx,[h("div",ix,[S(g(Kn),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Ne(h("input",{"onUpdate:modelValue":I[9]||(I[9]=H=>A.value=H),type:"text",placeholder:"Поиск специалистов...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[qe,A.value]])]),h("span",ux,"Всего: "+Y(M.value.length),1)])])]),h("div",dx,[S(g(Xn),null,{default:C(()=>[S(g(Yn),null,{default:C(()=>[S(g(pt),null,{default:C(()=>[S(g(et),null,{default:C(()=>[...I[37]||(I[37]=[ae("Имя",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[38]||(I[38]=[ae("Роль",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[39]||(I[39]=[ae("Услуг",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[40]||(I[40]=[ae("Статус",-1)])]),_:1})]),_:1})]),_:1}),S(g(qn),null,{default:C(()=>[Q.value?($(),k(He,{key:0},Xe(5,H=>S(g(pt),{key:`spec-skel-${H}`,class:"animate-pulse"},{default:C(()=>[S(g(Te),null,{default:C(()=>[...I[41]||(I[41]=[h("div",{class:"h-4 w-24 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[42]||(I[42]=[h("div",{class:"h-4 w-32 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[43]||(I[43]=[h("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[44]||(I[44]=[h("div",{class:"h-4 w-12 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):U.value.length===0?($(),ne(g(pt),{key:1},{default:C(()=>[S(g(Te),{colspan:4,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...I[45]||(I[45]=[ae(" Специалисты не найдены ",-1)])]),_:1})]),_:1})):($(!0),k(He,{key:2},Xe(U.value,H=>($(),ne(g(pt),{key:H.id,class:Ie(["hover:bg-slate-50/50 transition-colors",H.is_active?"bg-emerald-50/30":""])},{default:C(()=>[S(g(Te),null,{default:C(()=>[h("p",cx,Y(H.name),1),h("p",fx,Y(H.email||H.phone||""),1)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("span",px,Y(H.role||"Специалист"),1)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("span",gx,Y(H.services_count??H.linked_services??"-"),1)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("span",{class:Ie(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold",H.is_active?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-500"])},Y(H.is_active?"Активен":"Отключён"),3)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),h("div",mx,Y(U.value.length)+" из "+Y(M.value.length)+" специалистов отображаются ",1)])]),_:1}),S(g(Dr),{value:"categories"},{default:C(()=>[h("div",vx,[h("div",hx,[h("div",yx,[I[47]||(I[47]=h("h3",{class:"text-lg font-bold text-slate-900"},"Категории",-1)),h("div",bx,[h("div",xx,[S(g(Kn),{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Ne(h("input",{"onUpdate:modelValue":I[10]||(I[10]=H=>E.value=H),type:"text",placeholder:"Поиск категории...",class:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all w-64"},null,512),[[qe,E.value]])]),h("label",wx,[Ne(h("input",{"onUpdate:modelValue":I[11]||(I[11]=H=>P.value=H),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"},null,512),[[xn,P.value]]),I[46]||(I[46]=h("span",{class:"text-sm text-slate-600"},"Только включенные",-1))])])])]),h("div",Sx,[S(g(Xn),null,{default:C(()=>[S(g(Yn),null,{default:C(()=>[S(g(pt),null,{default:C(()=>[S(g(et),null,{default:C(()=>[...I[48]||(I[48]=[ae("Категория",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[49]||(I[49]=[ae("Услуг",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[50]||(I[50]=[ae("Статус",-1)])]),_:1}),S(g(et),null,{default:C(()=>[...I[51]||(I[51]=[ae("Приоритет",-1)])]),_:1})]),_:1})]),_:1}),S(g(qn),null,{default:C(()=>[x.value?($(),k(He,{key:0},Xe(5,H=>S(g(pt),{key:`cat-skel-${H}`,class:"animate-pulse"},{default:C(()=>[S(g(Te),null,{default:C(()=>[...I[52]||(I[52]=[h("div",{class:"h-4 w-32 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[53]||(I[53]=[h("div",{class:"h-4 w-16 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[54]||(I[54]=[h("div",{class:"h-4 w-12 bg-slate-100 rounded"},null,-1)])]),_:1}),S(g(Te),null,{default:C(()=>[...I[55]||(I[55]=[h("div",{class:"h-4 w-10 bg-slate-100 rounded"},null,-1)])]),_:1})]),_:1})),64)):z.value.length===0?($(),ne(g(pt),{key:1},{default:C(()=>[S(g(Te),{colspan:4,className:"p-12 text-center text-slate-400 italic"},{default:C(()=>[...I[56]||(I[56]=[ae(" Категории не найдены ",-1)])]),_:1})]),_:1})):($(!0),k(He,{key:2},Xe(z.value,H=>($(),ne(g(pt),{key:H.id,class:"hover:bg-slate-50/50 transition-colors"},{default:C(()=>[S(g(Te),null,{default:C(()=>[h("p",Cx,Y(H.name),1),H.description?($(),k("p",$x,Y(H.description),1)):ve("",!0)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("span",Ex,Y(H.services_count??"—"),1)]),_:2},1024),S(g(Te),null,{default:C(()=>[h("button",{onClick:Be=>K(H),class:Ie(["relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",[H.is_enabled?"bg-emerald-500":"bg-slate-200"]])},[h("span",{"aria-hidden":"true",class:Ie(["pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow transition duration-200 ease-in-out",[H.is_enabled?"translate-x-4":"translate-x-0"]])},null,2)],10,Rx)]),_:2},1024),S(g(Te),null,{default:C(()=>[Ne(h("input",{type:"number","onUpdate:modelValue":Be=>H.priority=Be,onBlur:Be=>q(H),class:"w-16 px-2 py-1 bg-slate-50 border border-slate-200 rounded text-xs font-mono focus:ring-1 focus:ring-indigo-500 focus:bg-white transition-all",min:"0",max:"100"},null,40,Px),[[qe,H.priority,void 0,{number:!0}]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),h("div",Ix,Y(z.value.length)+" из "+Y(y.value.length)+" категорий отображаются ",1)])]),_:1})]),_:1},8,["value"])])]))}}),Dx={class:"space-y-6"},Tx={key:0},Mx={key:0},Ax={key:1},Fx={key:1},kx={key:0,class:"bg-background rounded-md border border-border p-6 sm:p-8 text-center"},Lx={class:"max-w-md mx-auto"},Nx={class:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4"},Vx={key:1},Bx=te({__name:"AgentKnowledgePanel",setup(e){const n=qu(),t=Ku(),o=Wu(),{agent:a,directoriesComposable:s,isSqnsEnabled:r,sqnsToolsList:l,sqnsStatus:i}=Xu(n),{success:u,error:d}=hs(),c=j("directories"),f=j(!1),p=j(!1),m=j(!1),v=j(null),y=re(()=>{var K;return((K=s.value)==null?void 0:K.directories)??[]}),b=re(()=>{var K;return((K=s.value)==null?void 0:K.isLoading)??!1}),x=re(()=>{var K;return((K=s.value)==null?void 0:K.error)??null}),E=re(()=>{var K;return((K=s.value)==null?void 0:K.items)??[]}),P=re(()=>{var K;return((K=s.value)==null?void 0:K.isLoadingItems)??!1}),D=re(()=>{var K;return((K=s.value)==null?void 0:K.currentDirectory)??null}),M=re(()=>[{id:"directories",label:"Справочники",count:y.value.length},{id:"sqns",label:"SQNS",count:r.value?l.value.length:void 0}]),Q=async()=>{await n.ensureDirectoriesLoaded()},A=()=>{var ge;const K=t.query.directoryId;if(!K||!s.value||((ge=D.value)==null?void 0:ge.id)===K)return;const q=y.value.find(me=>me.id===K);q&&s.value.setCurrentDirectory(q)};ze(y,K=>{K.length>0&&A()}),Wt(()=>{c.value==="directories"?n.ensureDirectoriesLoaded():(n.ensureSqnsStatusLoaded(),n.ensureSqnsHints())}),ze(a,async K=>{K&&(c.value==="directories"?await n.ensureDirectoriesLoaded():(await n.ensureSqnsStatusLoaded(),await n.ensureSqnsHints()))},{immediate:!0}),ze(c,async K=>{K==="directories"?await n.ensureDirectoriesLoaded():(await n.ensureSqnsStatusLoaded(),await n.ensureSqnsHints())});const w=async K=>{if(s.value)try{await s.value.createDirectory(K),f.value=!1,u("Справочник создан")}catch(q){d(q.message||"Не удалось создать справочник")}},R=K=>{s.value&&(s.value.setCurrentDirectory(K),o.replace({query:{...t.query,directoryId:K.id}}))},F=()=>{if(s.value){s.value.setCurrentDirectory(null);const{directoryId:K,...q}=t.query;o.replace({query:q})}},Z=async K=>{if(!(!s.value||!D.value))try{await s.value.createItem(D.value.id,K),u("Запись добавлена")}catch(q){d(q.message||"Не удалось создать запись")}},B=async(K,q)=>{if(!(!s.value||!D.value))try{await s.value.updateItem(D.value.id,K,q)}catch(ge){d(ge.message||"Не удалось обновить запись")}},z=async K=>{if(!(!s.value||!D.value))try{await s.value.deleteItem(D.value.id,K),u("Запись удалена")}catch(q){d(q.message||"Не удалось удалить запись")}},U=async K=>{if(!(!s.value||!D.value))try{await s.value.deleteItems(D.value.id,K),u("Записи удалены")}catch(q){d(q.message||"Не удалось удалить записи")}},V=async(K,q,ge)=>{if(!(!s.value||!D.value))try{const me=await s.value.importCsv(D.value.id,K,q,ge);p.value=!1,u(`Импортировано ${me.created} записей`)}catch(me){d(me.message||"Не удалось импортировать файл")}},ee=async()=>{if(!(!s.value||!D.value))try{await s.value.exportCsv(D.value.id)}catch(K){d(K.message||"Не удалось экспортировать справочник")}},X=async K=>{if(!(!s.value||!D.value))try{const q=[...D.value.columns,K];await s.value.updateDirectory(D.value.id,{columns:q}),u("Столбец добавлен")}catch(q){d(q.message||"Не удалось добавить столбец")}},Ee=async K=>{if(!(!s.value||!D.value))try{const q=D.value.columns.filter(ge=>ge.name!==K);if(q.length===0){d("Нельзя удалить последний столбец");return}await s.value.updateDirectory(D.value.id,{columns:q}),u("Столбец удалён")}catch(q){d(q.message||"Не удалось удалить столбец")}},ke=async K=>{if(!(!s.value||!D.value))try{await s.value.updateDirectory(D.value.id,{columns:K})}catch(q){d(q.message||"Не удалось обновить столбцы")}},De=async K=>{var q,ge;if(!(!s.value||!K.id))try{await s.value.updateDirectory(K.id,K),m.value=!1,u("Настройки сохранены")}catch(me){(q=v.value)==null||q.setError(me.message||"Не удалось сохранить настройки"),d(me.message||"Не удалось сохранить настройки")}finally{(ge=v.value)==null||ge.setSaving(!1)}},Pe=async K=>{var q,ge;if(s.value)try{await s.value.deleteDirectory(K),m.value=!1;const{directoryId:me,...ce}=t.query;o.replace({query:ce}),u("Справочник удалён")}catch(me){(q=v.value)==null||q.setError(me.message||"Не удалось удалить справочник"),d(me.message||"Не удалось удалить справочник")}finally{(ge=v.value)==null||ge.setDeleting(!1)}};return(K,q)=>{var ge,me,ce,Ge,J;return $(),k("div",Dx,[S(Ud,{modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=I=>c.value=I),tabs:M.value},null,8,["modelValue","tabs"]),c.value==="directories"?($(),k("div",Tx,[D.value?($(),k("div",Mx,[S(Eh,{directory:D.value,items:E.value,loading:P.value,"on-update-item":B,onBack:F,onSettings:q[1]||(q[1]=I=>m.value=!0),onCreate:Z,onDelete:z,onDeleteSelected:U,onImport:q[2]||(q[2]=I=>p.value=!0),onExport:ee,onAddColumn:X,onDeleteColumn:Ee,onUpdateColumns:ke},null,8,["directory","items","loading"])])):($(),k("div",Ax,[S(cc,{directories:y.value,loading:b.value,error:x.value,onCreate:q[3]||(q[3]=I=>f.value=!0),onSelect:R,onRetry:Q},null,8,["directories","loading","error"])]))])):c.value==="sqns"?($(),k("div",Fx,[g(r)?($(),k("div",Vx,[g(a)?($(),ne(Ox,{key:0,"agent-id":g(a).id,status:((ge=g(i))==null?void 0:ge.sqnsStatus)==="error"?"error":"active","last-sync-at":(me=g(i))==null?void 0:me.sqnsLastSyncAt,warning:(ce=g(i))==null?void 0:ce.sqnsWarning,onSyncComplete:g(n).loadSqnsStatusForAgent},null,8,["agent-id","status","last-sync-at","warning","onSyncComplete"])):ve("",!0)])):($(),k("div",kx,[h("div",Lx,[h("div",Nx,[S(g(Rd),{class:"h-8 w-8 text-slate-400"})]),q[8]||(q[8]=h("h3",{class:"text-lg font-bold text-slate-900"},"База знаний SQNS",-1)),q[9]||(q[9]=h("p",{class:"text-slate-500 mt-2 mb-6"}," Подключите SQNS интеграцию для управления услугами и категориями. ",-1)),h("button",{onClick:q[4]||(q[4]=I=>{var H;return g(Yu)(`/agents/${(H=g(a))==null?void 0:H.id}/connections`)}),class:"px-6 py-3 bg-indigo-600 text-white rounded-md text-sm font-bold hover:bg-indigo-700 transition-colors"}," Перейти к подключениям ")])]))])):ve("",!0),S(p0,{"is-open":f.value,"existing-tool-names":((Ge=g(s))==null?void 0:Ge.existingToolNames)??[],onClose:q[5]||(q[5]=I=>f.value=!1),onSubmit:w},null,8,["is-open","existing-tool-names"]),D.value?($(),ne(H0,{key:2,"is-open":p.value,"directory-name":D.value.name,columns:D.value.columns,onClose:q[6]||(q[6]=I=>p.value=!1),onImport:V},null,8,["is-open","directory-name","columns"])):ve("",!0),S(vb,{ref_key:"directorySettingsSheetRef",ref:v,"is-open":m.value,directory:D.value,"existing-tool-names":((J=g(s))==null?void 0:J.existingToolNames)??[],onClose:q[7]||(q[7]=I=>m.value=!1),onSave:De,onDelete:Pe},null,8,["is-open","directory","existing-tool-names"])])}}}),g1=te({__name:"knowledge",setup(e){return(n,t)=>($(),ne(Hl,{title:"База знаний","hide-actions":!0},{default:C(()=>[S(Bx)]),_:1}))}});export{g1 as default};
